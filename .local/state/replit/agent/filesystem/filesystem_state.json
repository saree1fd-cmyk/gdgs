{"file_contents":{"ADMIN_LOGIN_INFO.md":{"content":"# Ø¨ÙŠØ§Ù†Ø§Øª ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ø¯ÙŠØ±\n\n## Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø¯ÙŠØ± Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ\n\n### Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ:\n```\nadmin@fooddelivery.com\n```\n\n### ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±:\n```\nadmin123456\n```\n\n### Ù†ÙˆØ¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:\n```\nadmin\n```\n\n---\n\n## ÙƒÙŠÙÙŠØ© Ø§Ù„ÙˆØµÙˆÙ„ Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù†Ø¸Ø§Ù…\n\n1. Ù‚Ù… Ø¨Ø²ÙŠØ§Ø±Ø© Ø±Ø§Ø¨Ø· Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ÙˆØ£Ø¶Ù `/admin-login` ÙÙŠ Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø±Ø§Ø¨Ø·\n2. Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ÙˆÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ù…Ø°ÙƒÙˆØ±Ø© Ø£Ø¹Ù„Ø§Ù‡\n3. Ø³ÙŠØªÙ… Ù†Ù‚Ù„Ùƒ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¥Ù„Ù‰ Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø¯ÙŠØ±\n\n---\n\n## Ù…ÙŠØ²Ø§Øª Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø¯ÙŠØ±\n\n- **Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø·Ø§Ø¹Ù…**: Ø¥Ø¶Ø§ÙØ© ÙˆØªØ¹Ø¯ÙŠÙ„ ÙˆØ­Ø°Ù Ø§Ù„Ù…Ø·Ø§Ø¹Ù…\n- **Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª**: Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ ØªØµÙ†ÙŠÙØ§Øª Ø§Ù„Ù…Ø·Ø§Ø¹Ù…\n- **Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù‚ÙˆØ§Ø¦Ù…**: Ø¥Ø¶Ø§ÙØ© ÙˆØªØ¹Ø¯ÙŠÙ„ Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù‚ÙˆØ§Ø¦Ù… ÙˆØ§Ù„Ø£Ø³Ø¹Ø§Ø±\n- **Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø³Ø§Ø¦Ù‚ÙŠÙ†**: Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ø³Ø§Ø¦Ù‚ÙŠÙ† ÙˆØµÙ„Ø§Ø­ÙŠØ§ØªÙ‡Ù…\n- **Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª**: Ù…ØªØ§Ø¨Ø¹Ø© ÙˆØ¥Ø¯Ø§Ø±Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª\n- **Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø±ÙˆØ¶**: Ø¥Ù†Ø´Ø§Ø¡ ÙˆØ¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø®Ø§ØµØ©\n- **Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªÙˆØµÙŠÙ„**: Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø±Ø³ÙˆÙ… Ø§Ù„ØªÙˆØµÙŠÙ„\n- **Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª**: Ù…Ø±Ø§Ù‚Ø¨Ø© Ø£Ø¯Ø§Ø¡ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚\n\n---\n\n## Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ù…Ù‡Ù…Ø©\n\n- **Ø§Ù„Ø£Ù…Ø§Ù†**: ØªØ£ÙƒØ¯ Ù…Ù† ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ø¨Ø¹Ø¯ Ø£ÙˆÙ„ ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„\n- **Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª**: Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø¯ÙŠØ± Ù„Ù‡ ØµÙ„Ø§Ø­ÙŠØ§Øª ÙƒØ§Ù…Ù„Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù†Ø¸Ø§Ù…\n- **Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠ**: ÙŠÙÙ†ØµØ­ Ø¨Ø¹Ù…Ù„ Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ© Ø¯ÙˆØ±ÙŠØ© Ù…Ù† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\n\n---\n\n## Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„ÙÙ†ÙŠ\n\nÙÙŠ Ø­Ø§Ù„Ø© Ù…ÙˆØ§Ø¬Ù‡Ø© Ø£ÙŠ Ù…Ø´Ø§ÙƒÙ„:\n1. ØªØ­Ù‚Ù‚ Ù…Ù† Ø§ØªØµØ§Ù„ Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª\n2. ØªØ£ÙƒØ¯ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¯Ø®Ù„Ø©\n3. ØªÙˆØ§ØµÙ„ Ù…Ø¹ ÙØ±ÙŠÙ‚ Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„ÙÙ†ÙŠ","size_bytes":1962},"PROJECT_DOCUMENTATION.md":{"content":"# ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø³Ø±ÙŠØ¹ ÙˆÙ† - Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙˆØµÙŠÙ„ Ø§Ù„Ø´Ø§Ù…Ù„\n\n## Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹\n\nØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø³Ø±ÙŠØ¹ ÙˆÙ† Ù‡Ùˆ Ù†Ø¸Ø§Ù… ØªÙˆØµÙŠÙ„ Ø´Ø§Ù…Ù„ ÙŠØªÙƒÙˆÙ† Ù…Ù† Ø«Ù„Ø§Ø«Ø© ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ù…Ù†ÙØµÙ„Ø©:\n\n1. **ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡** - Ù„Ù„Ø·Ù„Ø¨ ÙˆØ§Ù„ØªØµÙØ­\n2. **Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…** - Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù†Ø¸Ø§Ù… ÙˆØ§Ù„Ù…Ø·Ø§Ø¹Ù… ÙˆØ§Ù„Ø·Ù„Ø¨Ø§Øª\n3. **ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø³Ø§Ø¦Ù‚ÙŠÙ†** - Ù„Ø¥Ø¯Ø§Ø±Ø© ØªÙˆØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨Ø§Øª\n\n## Ø§Ù„ØªÙ‚Ù†ÙŠØ§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø©\n\n### Frontend (Ø§Ù„Ø¹Ù…ÙŠÙ„)\n- **React 18** - Ù…ÙƒØªØ¨Ø© ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…\n- **TypeScript** - Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø£Ù†ÙˆØ§Ø¹\n- **Vite** - Ø£Ø¯Ø§Ø© Ø§Ù„Ø¨Ù†Ø§Ø¡ ÙˆØ§Ù„ØªØ·ÙˆÙŠØ±\n- **Tailwind CSS** - Ù„Ù„ØªØµÙ…ÙŠÙ…\n- **Wouter** - Ù„Ù„ØªÙˆØ¬ÙŠÙ‡\n- **TanStack Query** - Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\n- **Lucide React** - Ù„Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª\n- **Radix UI** - Ù…ÙƒÙˆÙ†Ø§Øª ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…\n\n### Backend (Ø§Ù„Ø®Ø§Ø¯Ù…)\n- **Node.js** - Ø¨ÙŠØ¦Ø© Ø§Ù„ØªØ´ØºÙŠÙ„\n- **Express.js** - Ø¥Ø·Ø§Ø± Ø¹Ù…Ù„ Ø§Ù„Ø®Ø§Ø¯Ù…\n- **TypeScript** - Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø£Ù†ÙˆØ§Ø¹\n- **PostgreSQL** - Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\n- **Drizzle ORM** - Ù„Ù„ØªÙØ§Ø¹Ù„ Ù…Ø¹ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\n- **tsx** - Ù„ØªØ´ØºÙŠÙ„ TypeScript\n\n## Ù‡ÙŠÙƒÙ„ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹\n\n```\nproject/\nâ”œâ”€â”€ client/                 # ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¹Ù…ÙŠÙ„ (React)\nâ”‚   â”œâ”€â”€ src/\nâ”‚   â”‚   â”œâ”€â”€ components/     # Ù…ÙƒÙˆÙ†Ø§Øª ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…\nâ”‚   â”‚   â”œâ”€â”€ pages/          # ØµÙØ­Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚\nâ”‚   â”‚   â”œâ”€â”€ context/        # Ø­Ø§Ù„Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¹Ø§Ù…Ø©\nâ”‚   â”‚   â”œâ”€â”€ hooks/          # React hooks Ù…Ø®ØµØµØ©\nâ”‚   â”‚   â””â”€â”€ lib/           # Ù…ÙƒØªØ¨Ø§Øª Ù…Ø³Ø§Ø¹Ø¯Ø©\nâ”œâ”€â”€ server/                 # Ø§Ù„Ø®Ø§Ø¯Ù… (Express + TypeScript)\nâ”‚   â”œâ”€â”€ index.ts           # Ù†Ù‚Ø·Ø© Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø®Ø§Ø¯Ù…\nâ”‚   â”œâ”€â”€ routes.ts          # Ù…Ø³Ø§Ø±Ø§Øª API\nâ”‚   â”œâ”€â”€ storage.ts         # Ø·Ø¨Ù‚Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Ø§Ù„Ø°Ø§ÙƒØ±Ø©\nâ”‚   â”œâ”€â”€ db.ts             # Ø·Ø¨Ù‚Ø© Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\nâ”‚   â””â”€â”€ vite.ts           # Ø¥Ø¹Ø¯Ø§Ø¯ Vite Ù„Ù„ØªØ·ÙˆÙŠØ±\nâ”œâ”€â”€ shared/                # Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ù…Ø´ØªØ±Ùƒ\nâ”‚   â””â”€â”€ schema.ts         # Ù…Ø®Ø·Ø· Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\nâ””â”€â”€ drizzle.config.ts     # Ø¥Ø¹Ø¯Ø§Ø¯ Drizzle ORM\n```\n\n## Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© ÙˆØ§Ù„Ø£Ù…Ø§Ù†\n\n### Ù†Ø¸Ø§Ù… Ø§Ù„Ù€ 4 Ù†Ù‚Ø±Ø§Øª Ù„Ù„ÙˆØµÙˆÙ„ Ù„ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©\n\nØªÙ… ØªØ·Ø¨ÙŠÙ‚ Ù†Ø¸Ø§Ù… Ø£Ù…Ø§Ù† Ø®Ø§Øµ ÙŠØªØ·Ù„Ø¨:\n1. Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø´Ø¹Ø§Ø± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ 4 Ù…Ø±Ø§Øª Ù…ØªØªØ§Ù„ÙŠØ©\n2. Ø¸Ù‡ÙˆØ± Ù†Ù‚Ø§Ø· ØªØ´ÙŠØ± Ù„Ø¹Ø¯Ø¯ Ø§Ù„Ù†Ù‚Ø±Ø§Øª\n3. Ø¨Ø¹Ø¯ 4 Ù†Ù‚Ø±Ø§Øª ØªØ¸Ù‡Ø± Ø£Ø²Ø±Ø§Ø± Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… ÙˆØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø³Ø§Ø¦Ù‚ ÙÙŠ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ©\n4. Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø¹Ø¯Ø§Ø¯ Ø¨Ø¹Ø¯ 3 Ø«ÙˆØ§Ù†Ù Ø¥Ø°Ø§ Ù„Ù… ØªÙƒØªÙ…Ù„\n\n### Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©\n\n#### Ù…Ø¯ÙŠØ± Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ:\n- **Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ**: `aymenpro124@gmail.com`\n- **ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±**: `777146387`\n- **Ù†ÙˆØ¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…**: Ù…Ø¯ÙŠØ± Ø§Ù„Ù†Ø¸Ø§Ù…\n\n#### Ø³Ø§Ø¦Ù‚ ØªØ¬Ø±ÙŠØ¨ÙŠ:\n- **Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ**: `+967771234567`\n- **ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±**: `password123`\n- **Ù†ÙˆØ¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…**: Ø³Ø§Ø¦Ù‚\n\n## Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\n\n### Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©\n\n```sql\n-- Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø¯ÙŠØ±ÙŠÙ† ÙˆØ§Ù„Ø³Ø§Ø¦Ù‚ÙŠÙ†\nCREATE TABLE admin_users (\n  id VARCHAR PRIMARY KEY DEFAULT gen_random_uuid(),\n  email TEXT NOT NULL UNIQUE,\n  password TEXT NOT NULL,\n  user_type TEXT NOT NULL, -- 'admin' Ø£Ùˆ 'driver'\n  is_active BOOLEAN DEFAULT true,\n  created_at TIMESTAMP DEFAULT NOW()\n);\n\n-- Ø¬Ø¯ÙˆÙ„ Ø¬Ù„Ø³Ø§Øª Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©\nCREATE TABLE admin_sessions (\n  id VARCHAR PRIMARY KEY DEFAULT gen_random_uuid(),\n  admin_id VARCHAR REFERENCES admin_users(id),\n  token TEXT NOT NULL UNIQUE,\n  user_type TEXT NOT NULL,\n  expires_at TIMESTAMP NOT NULL,\n  created_at TIMESTAMP DEFAULT NOW()\n);\n\n-- Ø¬Ø¯Ø§ÙˆÙ„ Ø£Ø®Ø±Ù‰...\nCREATE TABLE categories (...);\nCREATE TABLE restaurants (...);\nCREATE TABLE menu_items (...);\nCREATE TABLE orders (...);\nCREATE TABLE drivers (...);\nCREATE TABLE special_offers (...);\n```\n\n### Ø¥Ø¹Ø¯Ø§Ø¯ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\n\n1. ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª PostgreSQL ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹\n2. Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¨ÙŠØ¦Ø© Ù…ØªÙˆÙØ±Ø©: `DATABASE_URL`, `PGHOST`, `PGPORT`, Ø¥Ù„Ø®\n3. Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ ØªÙÙ†Ø´Ø£ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¹Ù†Ø¯ ØªØ´ØºÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚\n\n## API Endpoints\n\n### Ù…ØµØ§Ø¯Ù‚Ø© Ø§Ù„Ù…Ø¯ÙŠØ±ÙŠÙ†\n- `POST /api/admin/login` - ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„\n- `POST /api/admin/logout` - ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬  \n- `GET /api/admin/verify` - Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø¬Ù„Ø³Ø©\n\n### Ø§Ù„ÙØ¦Ø§Øª\n- `GET /api/categories` - Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙØ¦Ø§Øª\n- `POST /api/categories` - Ø¥Ø¶Ø§ÙØ© ÙØ¦Ø© Ø¬Ø¯ÙŠØ¯Ø©\n- `PUT /api/categories/:id` - ØªØ­Ø¯ÙŠØ« ÙØ¦Ø©\n- `DELETE /api/categories/:id` - Ø­Ø°Ù ÙØ¦Ø©\n\n### Ø§Ù„Ù…Ø·Ø§Ø¹Ù…\n- `GET /api/restaurants` - Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø·Ø§Ø¹Ù…\n- `GET /api/restaurants/:id` - Ø¬Ù„Ø¨ Ù…Ø·Ø¹Ù… Ù…Ø­Ø¯Ø¯\n- `POST /api/restaurants` - Ø¥Ø¶Ø§ÙØ© Ù…Ø·Ø¹Ù… Ø¬Ø¯ÙŠØ¯\n- `PUT /api/restaurants/:id` - ØªØ­Ø¯ÙŠØ« Ù…Ø·Ø¹Ù…\n- `DELETE /api/restaurants/:id` - Ø­Ø°Ù Ù…Ø·Ø¹Ù…\n\n### Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©\n- `GET /api/restaurants/:restaurantId/menu` - Ø¬Ù„Ø¨ Ù‚Ø§Ø¦Ù…Ø© Ù…Ø·Ø¹Ù…\n- `POST /api/menu-items` - Ø¥Ø¶Ø§ÙØ© Ø¹Ù†ØµØ± Ø¬Ø¯ÙŠØ¯\n- `PUT /api/menu-items/:id` - ØªØ­Ø¯ÙŠØ« Ø¹Ù†ØµØ±\n- `DELETE /api/menu-items/:id` - Ø­Ø°Ù Ø¹Ù†ØµØ±\n\n### Ø§Ù„Ø·Ù„Ø¨Ø§Øª\n- `GET /api/orders` - Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª\n- `GET /api/orders/:id` - Ø¬Ù„Ø¨ Ø·Ù„Ø¨ Ù…Ø­Ø¯Ø¯\n- `POST /api/orders` - Ø¥Ù†Ø´Ø§Ø¡ Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯\n- `PUT /api/orders/:id` - ØªØ­Ø¯ÙŠØ« Ø·Ù„Ø¨\n\n### Ø§Ù„Ø³Ø§Ø¦Ù‚ÙŠÙ†\n- `GET /api/drivers` - Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø³Ø§Ø¦Ù‚ÙŠÙ†\n- `GET /api/drivers/:id` - Ø¬Ù„Ø¨ Ø³Ø§Ø¦Ù‚ Ù…Ø­Ø¯Ø¯\n- `POST /api/drivers` - Ø¥Ø¶Ø§ÙØ© Ø³Ø§Ø¦Ù‚ Ø¬Ø¯ÙŠØ¯\n- `PUT /api/drivers/:id` - ØªØ­Ø¯ÙŠØ« Ø³Ø§Ø¦Ù‚\n- `DELETE /api/drivers/:id` - Ø­Ø°Ù Ø³Ø§Ø¦Ù‚\n\n### Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø®Ø§ØµØ©\n- `GET /api/special-offers` - Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ø±ÙˆØ¶\n- `POST /api/special-offers` - Ø¥Ø¶Ø§ÙØ© Ø¹Ø±Ø¶ Ø¬Ø¯ÙŠØ¯\n- `PUT /api/special-offers/:id` - ØªØ­Ø¯ÙŠØ« Ø¹Ø±Ø¶\n- `DELETE /api/special-offers/:id` - Ø­Ø°Ù Ø¹Ø±Ø¶\n\n## Ø§Ù„ÙˆØ§Ø¬Ù‡Ø§Øª\n\n### 1. ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡\n- Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù…Ø¹ Ø§Ù„ÙØ¦Ø§Øª ÙˆØ§Ù„Ù…Ø·Ø§Ø¹Ù…\n- ØµÙØ­Ø© Ø§Ù„Ù…Ø·Ø¹Ù… ÙˆÙ‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø·Ø¹Ø§Ù…\n- Ø¹Ø±Ø¨Ø© Ø§Ù„ØªØ³ÙˆÙ‚ ÙˆØ§Ù„Ø·Ù„Ø¨\n- ØªØªØ¨Ø¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª\n- Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ ÙˆØ§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª\n\n### 2. Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… (Ø§Ù„Ù…Ø¯ÙŠØ±)\n- Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ù…Ø¹ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª\n- Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª\n- Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø·Ø§Ø¹Ù… ÙˆÙ‚ÙˆØ§Ø¦Ù… Ø§Ù„Ø·Ø¹Ø§Ù…\n- Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø³Ø§Ø¦Ù‚ÙŠÙ†\n- Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙØ¦Ø§Øª ÙˆØ§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø®Ø§ØµØ©\n\n### 3. ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø³Ø§Ø¦Ù‚\n- Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ø³Ø§Ø¦Ù‚\n- Ù‚Ø¨ÙˆÙ„/Ø±ÙØ¶ Ø§Ù„Ø·Ù„Ø¨Ø§Øª\n- ØªØªØ¨Ø¹ Ø§Ù„Ù…ÙˆÙ‚Ø¹ ÙˆØ§Ù„Ø·Ù„Ø¨Ø§Øª\n- Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ ÙˆØ§Ù„ØªÙˆØµÙŠÙ„Ø§Øª\n\n## ÙƒÙŠÙÙŠØ© ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹\n\n### Ù…ØªØ·Ù„Ø¨Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…\n- Node.js 20+\n- PostgreSQL\n- npm Ø£Ùˆ yarn\n\n### Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªØ´ØºÙŠÙ„\n\n1. **ØªØ«Ø¨ÙŠØª Ø§Ù„ØªØ¨Ø¹ÙŠØ§Øª**:\n```bash\nnpm install\n```\n\n2. **Ø¥Ø¹Ø¯Ø§Ø¯ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª**:\n```bash\n# Ø³ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ ÙÙŠ Replit\nnpm run db:push\n```\n\n3. **ØªØ´ØºÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚**:\n```bash\nnpm run dev\n```\n\n4. **Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„ØªØ·Ø¨ÙŠÙ‚**:\n- ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡: `http://localhost:5000`\n- Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…: Ø§Ù†Ù‚Ø± 4 Ù…Ø±Ø§Øª Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø¹Ø§Ø± â† Ø£Ø¯Ø®Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¯ÙŠØ±\n- ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø³Ø§Ø¦Ù‚: Ø§Ù†Ù‚Ø± 4 Ù…Ø±Ø§Øª Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø¹Ø§Ø± â† Ø£Ø¯Ø®Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø³Ø§Ø¦Ù‚\n\n## Ø£ÙˆØ§Ù…Ø± Ù…ÙÙŠØ¯Ø©\n\n```bash\n# ØªØ´ØºÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ù„Ù„ØªØ·ÙˆÙŠØ±\nnpm run dev\n\n# Ø¨Ù†Ø§Ø¡ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ù„Ù„Ø¥Ù†ØªØ§Ø¬\nnpm run build\n\n# ØªØ´ØºÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù…Ø¨Ù†ÙŠ\nnpm run start\n\n# Ø¯ÙØ¹ Ù…Ø®Ø·Ø· Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\nnpm run db:push\n\n# ØªÙˆÙ„ÙŠØ¯ Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø§ÙŠØ¬Ø±ÙŠØ´Ù†\nnpm run db:generate\n\n# ÙØ­Øµ TypeScript\nnpm run check\n```\n\n---\n\n# Ø¯Ù„ÙŠÙ„ Ø§Ù„Ù†Ø´Ø± ÙˆØ§Ù„Ø§Ø³ØªØ¶Ø§ÙØ©\n\n## 1. Ø±ÙØ¹ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø¹Ù„Ù‰ GitHub\n\n### Ø®Ø·ÙˆØ§Øª Ø±ÙØ¹ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹:\n\n1. **Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³ØªÙˆØ¯Ø¹ Ø¬Ø¯ÙŠØ¯ Ø¹Ù„Ù‰ GitHub**:\n   - Ø§Ø°Ù‡Ø¨ Ø¥Ù„Ù‰ [github.com](https://github.com)\n   - Ø§Ù†Ù‚Ø± Ø¹Ù„Ù‰ \"New repository\"\n   - Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø´Ø±ÙˆØ¹: `food-delivery-app`\n   - Ø§Ø®ØªØ± \"Public\" Ø£Ùˆ \"Private\"\n   - Ø§Ù†Ù‚Ø± \"Create repository\"\n\n2. **Ø±Ø¨Ø· Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø§Ù„Ù…Ø­Ù„ÙŠ Ø¨Ù€ GitHub**:\n```bash\n# ØªÙ‡ÙŠØ¦Ø© Git Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù…ÙˆØ¬ÙˆØ¯Ø§Ù‹\ngit init\n\n# Ø¥Ø¶Ø§ÙØ© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª\ngit add .\n\n# Ø¥Ù†Ø´Ø§Ø¡ Ø£ÙˆÙ„ commit\ngit commit -m \"Initial commit: Complete food delivery system with admin panel and driver app\"\n\n# Ø±Ø¨Ø· Ø§Ù„Ù…Ø³ØªÙˆØ¯Ø¹ Ø§Ù„Ø¨Ø¹ÙŠØ¯\ngit remote add origin https://github.com/YOUR_USERNAME/food-delivery-app.git\n\n# Ø±ÙØ¹ Ø§Ù„ÙƒÙˆØ¯\ngit branch -M main\ngit push -u origin main\n```\n\n3. **Ø¥Ø¹Ø¯Ø§Ø¯ Ù…Ù„Ù `.gitignore`** (Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù…ÙˆØ¬ÙˆØ¯Ø§Ù‹):\n```gitignore\n# Dependencies\nnode_modules/\n.pnp\n.pnp.js\n\n# Production builds\n/dist\n/build\n\n# Environment variables\n.env\n.env.local\n.env.development.local\n.env.test.local\n.env.production.local\n\n# Logs\nnpm-debug.log*\nyarn-debug.log*\nyarn-error.log*\nlerna-debug.log*\n\n# Runtime data\npids\n*.pid\n*.seed\n*.pid.lock\n\n# Database\n*.db\n*.sqlite\n\n# OS files\n.DS_Store\nThumbs.db\n\n# IDE\n.vscode/\n.idea/\n*.swp\n*.swo\n```\n\n## 2. Ø§Ù„Ù†Ø´Ø± Ø¹Ù„Ù‰ Railway.com\n\n### Ù„Ù…Ø§Ø°Ø§ RailwayØŸ\n- Ø³Ù‡ÙˆÙ„Ø© Ø§Ù„Ù†Ø´Ø±\n- Ø¯Ø¹Ù… Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª PostgreSQL\n- Ù†Ø´Ø± ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù…Ù† GitHub\n- Ø¯ÙˆÙ…ÙŠÙ† Ù…Ø¬Ø§Ù†ÙŠ Ù…Ø¹ HTTPS\n\n### Ø®Ø·ÙˆØ§Øª Ø§Ù„Ù†Ø´Ø± Ø¹Ù„Ù‰ Railway:\n\n#### Ø§Ù„Ø®Ø·ÙˆØ© 1: Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨\n1. Ø§Ø°Ù‡Ø¨ Ø¥Ù„Ù‰ [railway.app](https://railway.app)\n2. Ø§Ù†Ù‚Ø± \"Login\" â† \"Sign up with GitHub\"\n3. Ø§Ø±Ø¨Ø· Ø­Ø³Ø§Ø¨Ùƒ Ù…Ø¹ GitHub\n\n#### Ø§Ù„Ø®Ø·ÙˆØ© 2: Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø´Ø±ÙˆØ¹ Ø¬Ø¯ÙŠØ¯\n1. Ø§Ù†Ù‚Ø± \"New Project\"\n2. Ø§Ø®ØªØ± \"Deploy from GitHub repo\"\n3. Ø§Ø®ØªØ± Ù…Ø³ØªÙˆØ¯Ø¹ `food-delivery-app`\n4. Ø§Ù†Ù‚Ø± \"Deploy Now\"\n\n#### Ø§Ù„Ø®Ø·ÙˆØ© 3: Ø¥Ø¶Ø§ÙØ© Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª PostgreSQL\n1. ÙÙŠ Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø§Ù†Ù‚Ø± \"New\"\n2. Ø§Ø®ØªØ± \"Database\" â† \"Add PostgreSQL\"\n3. Ø§Ù†ØªØ¸Ø± Ø­ØªÙ‰ ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\n\n#### Ø§Ù„Ø®Ø·ÙˆØ© 4: Ø±Ø¨Ø· Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø§Ù„ØªØ·Ø¨ÙŠÙ‚\n1. Ø§Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø®Ø¯Ù…Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ (Ù„ÙŠØ³ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª)\n2. Ø§Ø°Ù‡Ø¨ Ø¥Ù„Ù‰ ØªØ¨ÙˆÙŠØ¨ \"Variables\"\n3. Ø£Ø¶Ù Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„ØªØ§Ù„ÙŠØ©:\n\n```env\nDATABASE_URL=${{Postgres.DATABASE_URL}}\nNODE_ENV=production\nPORT=5000\n```\n\n#### Ø§Ù„Ø®Ø·ÙˆØ© 5: Ø¥Ø¹Ø¯Ø§Ø¯ Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ø¨Ù†Ø§Ø¡\n1. ÙÙŠ ØªØ¨ÙˆÙŠØ¨ \"Settings\"\n2. ÙÙŠ Ù‚Ø³Ù… \"Build Command\":\n```bash\nnpm install && npm run build\n```\n\n3. ÙÙŠ Ù‚Ø³Ù… \"Start Command\":\n```bash\nnpm run start\n```\n\n#### Ø§Ù„Ø®Ø·ÙˆØ© 6: Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¯ÙˆÙ…ÙŠÙ†\n1. ÙÙŠ ØªØ¨ÙˆÙŠØ¨ \"Settings\"\n2. ÙÙŠ Ù‚Ø³Ù… \"Domains\"\n3. Ø§Ù†Ù‚Ø± \"Generate Domain\"\n4. Ø³ØªØ­ØµÙ„ Ø¹Ù„Ù‰ Ø±Ø§Ø¨Ø· Ù…Ø«Ù„: `https://your-app-name.up.railway.app`\n\n### Ø¥Ø¹Ø¯Ø§Ø¯ Ù…ØªÙ‚Ø¯Ù… Ù„Ù„Ù†Ø´Ø±\n\n#### Ø¥Ø¶Ø§ÙØ© Ù…Ù„Ù `railway.json`:\n```json\n{\n  \"build\": {\n    \"builder\": \"nixpacks\"\n  },\n  \"deploy\": {\n    \"startCommand\": \"npm run start\",\n    \"restartPolicyType\": \"ON_FAILURE\",\n    \"restartPolicyMaxRetries\": 10\n  }\n}\n```\n\n#### ØªØ­Ø¯ÙŠØ« `package.json` Ù„Ù„Ù†Ø´Ø±:\n```json\n{\n  \"scripts\": {\n    \"dev\": \"NODE_ENV=development tsx server/index.ts\",\n    \"build\": \"vite build && esbuild server/index.ts --platform=node --packages=external --bundle --format=esm --outdir=dist\",\n    \"start\": \"NODE_ENV=production node dist/index.js\",\n    \"db:push\": \"drizzle-kit push\",\n    \"db:generate\": \"drizzle-kit generate\"\n  },\n  \"engines\": {\n    \"node\": \">=20.0.0\"\n  }\n}\n```\n\n## 3. Ù†Ø´Ø± ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù…Ù† GitHub\n\n### Ø¥Ø¹Ø¯Ø§Ø¯ GitHub Actions (Ø§Ø®ØªÙŠØ§Ø±ÙŠ):\n\n1. Ø£Ù†Ø´Ø¦ Ù…Ø¬Ù„Ø¯ `.github/workflows/`\n2. Ø£Ù†Ø´Ø¦ Ù…Ù„Ù `deploy.yml`:\n\n```yaml\nname: Deploy to Railway\n\non:\n  push:\n    branches: [ main ]\n  pull_request:\n    branches: [ main ]\n\njobs:\n  deploy:\n    runs-on: ubuntu-latest\n    \n    steps:\n    - uses: actions/checkout@v3\n    \n    - name: Use Node.js 20\n      uses: actions/setup-node@v3\n      with:\n        node-version: '20'\n        \n    - name: Install dependencies\n      run: npm ci\n      \n    - name: Run tests (if any)\n      run: npm test --if-present\n      \n    - name: Build application\n      run: npm run build\n```\n\n## 4. Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø£Ù…Ø§Ù† ÙˆØ§Ù„Ø¨ÙŠØ¦Ø©\n\n### Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¨ÙŠØ¦Ø© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©:\n```env\n# Railway Ø³ØªÙˆÙØ± Ù‡Ø°Ù‡ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹\nDATABASE_URL=postgresql://user:password@host:port/database\nPGHOST=host\nPGPORT=5432\nPGUSER=postgres\nPGPASSWORD=password\nPGDATABASE=railway\n\n# Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚\nNODE_ENV=production\nPORT=5000\n```\n\n### Ù†ØµØ§Ø¦Ø­ Ø§Ù„Ø£Ù…Ø§Ù†:\n1. **Ù„Ø§ ØªØ¶Ø¹ ÙƒÙ„Ù…Ø§Øª Ù…Ø±ÙˆØ± ÙÙŠ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ù…ØµØ¯Ø±ÙŠ**\n2. **Ø§Ø³ØªØ®Ø¯Ù… Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¨ÙŠØ¦Ø© Ø¯Ø§Ø¦Ù…Ø§Ù‹**\n3. **ÙØ¹Ù‘Ù„ HTTPS (Railway ÙŠÙˆÙØ±Ù‡Ø§ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹)**\n4. **Ù‚Ù… Ø¨ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ¨Ø¹ÙŠØ§Øª Ø¨Ø§Ù†ØªØ¸Ø§Ù…**\n\n## 5. Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚\n\n### Ø¹Ø¨Ø± Railway:\n- **Logs**: Ù…Ø±Ø§Ù‚Ø¨Ø© Ø³Ø¬Ù„Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚\n- **Metrics**: Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø£Ø¯Ø§Ø¡ ÙˆØ§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…\n- **Deployments**: ØªØ§Ø±ÙŠØ® Ø§Ù„Ù†Ø´Ø± ÙˆØ§Ù„Ø¥ØµØ¯Ø§Ø±Ø§Øª\n\n### Ù†ØµØ§Ø¦Ø­ Ù„Ù„Ù…Ø±Ø§Ù‚Ø¨Ø©:\n1. Ø±Ø§Ù‚Ø¨ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\n2. ØªØ§Ø¨Ø¹ Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ÙÙŠ Ø§Ù„Ø³Ø¬Ù„Ø§Øª\n3. Ø§Ø®ØªØ¨Ø± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¨Ø§Ù†ØªØ¸Ø§Ù… Ø¨Ø¹Ø¯ Ø§Ù„Ù†Ø´Ø±\n\n## Ø§Ù„Ø®Ù„Ø§ØµØ©\n\nØ¨Ø¹Ø¯ Ø§ØªØ¨Ø§Ø¹ Ù‡Ø°Ù‡ Ø§Ù„Ø®Ø·ÙˆØ§Øª Ø³ØªØ­ØµÙ„ Ø¹Ù„Ù‰:\n- âœ… ØªØ·Ø¨ÙŠÙ‚ ØªÙˆØµÙŠÙ„ Ø´Ø§Ù…Ù„ Ù…Ù†Ø´ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª\n- âœ… Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª PostgreSQL Ù…ÙØ¯Ø§Ø±Ø©\n- âœ… Ù†Ø´Ø± ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù…Ù† GitHub\n- âœ… Ø¯ÙˆÙ…ÙŠÙ† Ù…Ø¬Ø§Ù†ÙŠ Ù…Ø¹ HTTPS\n- âœ… Ù…Ø±Ø§Ù‚Ø¨Ø© ÙˆØ¥Ø­ØµØ§Ø¦ÙŠØ§Øª\n\n**Ø±Ø§Ø¨Ø· Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ**: `https://your-app-name.up.railway.app`\n\n---\n\n## Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©\n\n### Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø±:\n- **Ù…Ø¯ÙŠØ± Ø§Ù„Ù†Ø¸Ø§Ù…**: `aymenpro124@gmail.com` / `777146387`\n- **Ø³Ø§Ø¦Ù‚ ØªØ¬Ø±ÙŠØ¨ÙŠ**: `+967771234567` / `password123`\n\n### Ù†Ø¸Ø§Ù… Ø§Ù„Ù€ 4 Ù†Ù‚Ø±Ø§Øª:\n1. Ø§Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø´Ø¹Ø§Ø± \"Ø§Ù„Ø³Ø±ÙŠØ¹ ÙˆÙ†\" 4 Ù…Ø±Ø§Øª Ù…ØªØªØ§Ù„ÙŠØ©\n2. Ø³ØªØ¸Ù‡Ø± Ø£Ø²Ø±Ø§Ø± Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… ÙˆØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø³Ø§Ø¦Ù‚\n3. Ø§Ø®ØªØ± Ø§Ù„Ù†ÙˆØ¹ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ ÙˆØ³Ø¬Ù„ Ø§Ù„Ø¯Ø®ÙˆÙ„\n\n### Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„ÙÙ†ÙŠ:\n- Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙŠØ²Ø§Øª ØªØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ ÙƒØ§Ù…Ù„\n- Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…ØªØµÙ„Ø© ÙˆÙ…ÙØ¹Ø¯Ø©\n- Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© Ø¢Ù…Ù† ÙˆÙ…ÙØ®ØªØ¨Ø±\n- ÙˆØ§Ø¬Ù‡Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¬Ø§Ù‡Ø²Ø© Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…","size_bytes":14499},"drizzle.config.ts":{"content":"import { defineConfig } from \"drizzle-kit\";\nimport dotenv from \"dotenv\";\ndotenv.config();\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\"DATABASE_URL, ØªØ£ÙƒØ¯ Ù…Ù† Ø¥Ø¹Ø¯Ø§Ø¯ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\");\n}\n\nexport default defineConfig({\n  schema: \"./shared/schema.ts\",  // Ù…Ù„Ù Ø§Ù„Ù€ schema\n  out: \"./drizzle\",              // Ù…Ø¬Ù„Ø¯ Ø§Ù„Ù…ÙŠØ¬Ø±ÙŠØ´Ù†\n   dialect: \"postgresql\",          // Ù†ÙˆØ¹ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\n  dbCredentials: {\n    url: process.env.DATABASE_URL!,\n  },\n});\n","size_bytes":504},"netlify.toml":{"content":"[build]\n  publish = \"dist\"\n  command = \"npm run build\"\n\n[build.environment]\n  # Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¨ÙŠØ¦Ø© Ø§Ù„Ø¹Ø§Ù…Ø©\n  NODE_VERSION = \"20\"\n\n# Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ù„Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø§Ù„Ù…ØªØ¹Ø¯Ø¯Ø©\n[[redirects]]\n  from = \"/admin/*\"\n  to = \"/admin/index.html\"\n  status = 200\n\n[[redirects]]\n  from = \"/delivery/*\"\n  to = \"/delivery/index.html\"\n  status = 200\n\n[[redirects]]\n  from = \"/*\"\n  to = \"/index.html\"\n  status = 200","size_bytes":446},"postcss.config.js":{"content":"export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n}\n","size_bytes":80},"render.yaml":{"content":"services:\n  - type: web\n    name: saree-one-app\n    env: node\n    plan: free\n    buildCommand: npm install && npm run build\n    startCommand: npm start\n    envVars:\n      - key: NODE_ENV\n        value: production\n      - key: DATABASE_URL\n        fromDatabase:\n          name: saree-one-db\n          property: connectionString\n      - key: SESSION_SECRET\n        generateValue: true\n      - key: PORT\n        value: 10000\n\ndatabases:\n  - name: saree-one-db\n    plan: free","size_bytes":471},"replit.md":{"content":"# ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø³Ø±ÙŠØ¹ ÙˆÙ† - Ù†Ø¸Ø§Ù… ØªÙˆØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø´Ø§Ù…Ù„\n\n## Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©\n\nØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø³Ø±ÙŠØ¹ ÙˆÙ† Ù‡Ùˆ Ù…Ù†ØµØ© ØªÙˆØµÙŠÙ„ Ø·Ù„Ø¨Ø§Øª Ø´Ø§Ù…Ù„Ø© ØªÙ‡Ø¯Ù Ø¥Ù„Ù‰ Ø±Ø¨Ø· Ø§Ù„Ù…Ø·Ø§Ø¹Ù… ÙˆØ§Ù„Ù…ØªØ§Ø¬Ø± Ø¨Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø¹Ø¨Ø± Ù†Ø¸Ø§Ù… ØªÙˆØµÙŠÙ„ ÙØ¹Ø§Ù„. ÙŠØªÙƒÙˆÙ† Ø§Ù„Ù†Ø¸Ø§Ù… Ù…Ù† Ø«Ù„Ø§Ø« ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø±Ø¦ÙŠØ³ÙŠØ© ØªØ¹Ù…Ù„ Ø¨ØªÙ†Ø§ØºÙ… Ù„ØªÙˆÙÙŠØ± ØªØ¬Ø±Ø¨Ø© Ù…ØªÙƒØ§Ù…Ù„Ø©.\n\n## Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø§Ù„Ø«Ù„Ø§Ø«Ø©\n\n### 1. ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ (/)\nØ§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ Ù„Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠÙŠÙ† Ù„Ø·Ù„Ø¨ Ø§Ù„Ø·Ø¹Ø§Ù… ÙˆØ§Ù„Ù…Ù†ØªØ¬Ø§Øª.\n\n**Ø§Ù„ØµÙØ­Ø§Øª ÙˆØ§Ù„Ù…ÙŠØ²Ø§Øª:**\n- **Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© (/)**: Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø·Ø§Ø¹Ù… ÙˆØ§Ù„ØªØµÙ†ÙŠÙØ§Øª Ù…Ø¹ Ø¥Ù…ÙƒØ§Ù†ÙŠØ© Ø§Ù„Ø¨Ø­Ø«\n- **ØµÙØ­Ø© Ø§Ù„Ù…Ø·Ø¹Ù… (/restaurant/:id)**: Ø¹Ø±Ø¶ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø·Ø¹Ø§Ù… ÙˆØ§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø®Ø§ØµØ©\n- **Ø§Ù„Ø³Ù„Ø© (/cart)**: Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ù…Ø¹ ØªÙØ§ØµÙŠÙ„ Ø§Ù„ØªÙˆØµÙŠÙ„ ÙˆØ·Ø±Ù‚ Ø§Ù„Ø¯ÙØ¹\n- **Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ (/profile)**: Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ© ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª\n- **Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ† Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø© (/addresses)**: Ø¥Ø¯Ø§Ø±Ø© Ø¹Ù†Ø§ÙˆÙŠÙ† Ø§Ù„ØªÙˆØµÙŠÙ„ Ù…Ø¹ Ø¥Ù…ÙƒØ§Ù†ÙŠØ© Ø§Ù„Ø­ÙØ¸\n- **ØªØªØ¨Ø¹ Ø§Ù„Ø·Ù„Ø¨ (/orders/:id)**: Ù…ØªØ§Ø¨Ø¹Ø© Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨ ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„ÙØ¹Ù„ÙŠ\n- **Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª (/settings)**: ØªØ®ØµÙŠØµ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ÙˆØ§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª\n- **Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ© (/privacy)**: Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù…ÙØµÙ„Ø© Ø­ÙˆÙ„ Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\n\n**Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©:**\n- ÙˆØ§Ø¬Ù‡Ø© Ø¹Ø±Ø¨ÙŠØ© Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ Ù…Ø¹ Ø¯Ø¹Ù… Ø§Ù„ÙƒØªØ§Ø¨Ø© Ù…Ù† Ø§Ù„ÙŠÙ…ÙŠÙ† Ø¥Ù„Ù‰ Ø§Ù„ÙŠØ³Ø§Ø± (RTL)\n- Ù†Ø¸Ø§Ù… Ø³Ù„Ø© ØªØ³ÙˆÙ‚ Ù…Ø¹ Ø­ÙØ¸ Ù…Ø­Ù„ÙŠ\n- Ø¹Ø±Ø¶ Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø®Ø§ØµØ© ÙˆØ§Ù„ØªØ®ÙÙŠØ¶Ø§Øª\n- ØªØªØ¨Ø¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„ÙØ¹Ù„ÙŠ\n- Ø¥Ø¯Ø§Ø±Ø© Ù…ØªØ¹Ø¯Ø¯Ø© Ù„Ø¹Ù†Ø§ÙˆÙŠÙ† Ø§Ù„ØªÙˆØµÙŠÙ„\n- Ù†Ø¸Ø§Ù… Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ù…ØªÙ‚Ø¯Ù…\n- Ø¯Ø¹Ù… Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ/Ø§Ù„Ù†Ù‡Ø§Ø±ÙŠ\n\n### 2. Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ© (/admin)\nÙ†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø´Ø§Ù…Ù„ Ù„Ø£ØµØ­Ø§Ø¨ Ø§Ù„Ù…Ø·Ø§Ø¹Ù… ÙˆØ§Ù„Ù…Ø¯ÙŠØ±ÙŠÙ†.\n\n**Ø§Ù„ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ©:**\n- **Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø·Ø§Ø¹Ù…**: Ø¥Ø¶Ø§ÙØ© ÙˆØªØ¹Ø¯ÙŠÙ„ ÙˆØ­Ø°Ù Ø§Ù„Ù…Ø·Ø§Ø¹Ù…\n- **Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª**: ØªÙ†Ø¸ÙŠÙ… ØªØµÙ†ÙŠÙØ§Øª Ø§Ù„Ù…Ø·Ø§Ø¹Ù… ÙˆØ§Ù„Ù…Ù†ØªØ¬Ø§Øª\n- **Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª**: Ø¥Ø¶Ø§ÙØ© ÙˆØªØ¹Ø¯ÙŠÙ„ Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù‚ÙˆØ§Ø¦Ù…\n- **Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª**: Ù…ØªØ§Ø¨Ø¹Ø© ÙˆØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª\n- **Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø³Ø§Ø¦Ù‚ÙŠÙ†**: Ø¥Ø¶Ø§ÙØ© ÙˆØ¥Ø¯Ø§Ø±Ø© Ø³Ø§Ø¦Ù‚ÙŠ Ø§Ù„ØªÙˆØµÙŠÙ„\n- **Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø±ÙˆØ¶**: Ø¥Ù†Ø´Ø§Ø¡ ÙˆØ¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø®Ø§ØµØ©\n- **Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª**: Ø¹Ø±Ø¶ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª ÙˆØ§Ù„Ø£Ø¯Ø§Ø¡\n\n**Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª:**\n- Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª ÙŠÙˆÙ…ÙŠØ© Ù„Ù„Ø·Ù„Ø¨Ø§Øª ÙˆØ§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª\n- Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø·Ø§Ø¹Ù… Ø§Ù„Ù†Ø´Ø·Ø©\n- Ø¹Ø¯Ø¯ Ø§Ù„Ø³Ø§Ø¦Ù‚ÙŠÙ† Ø§Ù„Ù…ØªØ§Ø­ÙŠÙ†\n- Ø±Ø³ÙˆÙ… Ø¨ÙŠØ§Ù†ÙŠØ© Ù„Ù„Ø£Ø¯Ø§Ø¡\n\n### 3. ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø³Ø§Ø¦Ù‚ÙŠÙ† (/delivery)\nØªØ·Ø¨ÙŠÙ‚ Ù…Ø®ØµØµ Ù„Ø³Ø§Ø¦Ù‚ÙŠ Ø§Ù„ØªÙˆØµÙŠÙ„ Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù‡Ø§Ù….\n\n**Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª Ù„Ù„Ø³Ø§Ø¦Ù‚ÙŠÙ†:**\n- **Ø­Ø§Ù„Ø© Ø§Ù„ØªÙˆÙØ±**: ØªÙØ¹ÙŠÙ„/Ø¥Ù„ØºØ§Ø¡ ØªÙØ¹ÙŠÙ„ Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨Ø§Øª\n- **Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©**: Ø¹Ø±Ø¶ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ù…Ø¹ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¹Ù…ÙˆÙ„Ø©\n- **Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ©**: Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ù‚ÙŠØ¯ Ø§Ù„ØªÙˆØµÙŠÙ„\n- **Ø§Ù„ØªÙ†Ù‚Ù„ Ø§Ù„Ù…Ø¨Ø§Ø´Ø±**: Ø±Ø¨Ø· Ù…Ø¹ Ø®Ø±Ø§Ø¦Ø· Ø¬ÙˆØ¬Ù„ Ù„Ù„ØªÙˆØ¬ÙŠÙ‡\n- **Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡**: Ø¥Ù…ÙƒØ§Ù†ÙŠØ© Ø§Ù„Ø§ØªØµØ§Ù„ Ø§Ù„Ù…Ø¨Ø§Ø´Ø±\n- **ØªØªØ¨Ø¹ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­**: Ø¹Ø±Ø¶ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ Ø§Ù„ÙŠÙˆÙ…ÙŠØ© ÙˆØ§Ù„Ø´Ù‡Ø±ÙŠØ©\n- **Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø£Ø¯Ø§Ø¡**: Ù…ØªÙˆØ³Ø· Ø§Ù„Ø·Ù„Ø¨Ø§Øª ÙˆØ§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª\n\n## Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„ØªÙ‚Ù†ÙŠØ©\n\n### Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø£Ù…Ø§Ù…ÙŠØ© (Frontend)\n- **Ø¥Ø·Ø§Ø± Ø§Ù„Ø¹Ù…Ù„**: React 18 Ù…Ø¹ TypeScript\n- **Ø£Ø¯Ø§Ø© Ø§Ù„Ø¨Ù†Ø§Ø¡**: Vite Ù„Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„Ø³Ø±ÙŠØ¹\n- **Ø§Ù„ØªØµÙ…ÙŠÙ…**: Tailwind CSS Ù…Ø¹ Ù…ÙƒØªØ¨Ø© shadcn/ui\n- **Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø§Ù„Ø©**: React Context API Ù„Ù„Ø³Ù„Ø© ÙˆØ§Ù„Ø«ÙŠÙ…\n- **Ø§Ø³ØªØ¹Ù„Ø§Ù… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª**: TanStack Query (React Query)\n- **Ø§Ù„ØªÙˆØ¬ÙŠÙ‡**: Wouter Ù„Ù„ØªÙ†Ù‚Ù„ Ø®ÙÙŠÙ Ø§Ù„ÙˆØ²Ù†\n- **Ù…ÙƒÙˆÙ†Ø§Øª ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…**: Radix UI Ù…Ø¹ ØªØ®ØµÙŠØµØ§Øª\n\n### Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø®Ù„ÙÙŠØ© (Backend)\n- **Ø¥Ø·Ø§Ø± Ø§Ù„Ø¹Ù…Ù„**: Express.js Ù…Ø¹ TypeScript\n- **Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª**: PostgreSQL Ù…Ø¹ Neon Database\n- **ORM**: Drizzle ORM Ù„Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø¢Ù…Ù†Ø©\n- **ØªØµÙ…ÙŠÙ… API**: RESTful endpoints Ù…Ø¹ Ø±Ù…ÙˆØ² HTTP ØµØ­ÙŠØ­Ø©\n- **Ø¨Ù†ÙŠØ© Ø§Ù„Ù…Ù„ÙØ§Øª**: Ù…Ø¹Ø§Ù„Ø¬Ø§Øª Ù…Ø³Ø§Ø±Ø§Øª Ù…Ù†ÙØµÙ„Ø© Ù…Ø¹ Ø·Ø¨Ù‚Ø© ØªØ®Ø²ÙŠÙ†\n- **Ø§Ù„ØªØ·ÙˆÙŠØ±**: Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ø³Ø§Ø®Ù†Ø© Ù…Ø¹ ØªÙƒØ§Ù…Ù„ Vite\n\n### Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\n**Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©:**\n- **Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙˆÙ† (users)**: Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ÙˆØ§Ù„Ù…ØµØ§Ø¯Ù‚Ø©\n- **Ø¹Ù†Ø§ÙˆÙŠÙ† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† (user_addresses)**: Ø¹Ù†Ø§ÙˆÙŠÙ† Ø§Ù„ØªÙˆØµÙŠÙ„ Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©\n- **Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª (categories)**: ØªØµÙ†ÙŠÙØ§Øª Ø§Ù„Ù…Ø·Ø§Ø¹Ù…\n- **Ø§Ù„Ù…Ø·Ø§Ø¹Ù… (restaurants)**: Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø·Ø§Ø¹Ù… ÙˆØ§Ù„Ø­Ø§Ù„Ø©\n- **Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© (menu_items)**: Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙˆØ§Ù„Ø£Ø³Ø¹Ø§Ø±\n- **Ø§Ù„Ø·Ù„Ø¨Ø§Øª (orders)**: ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨Ø§Øª ÙˆØ­Ø§Ù„Ø© Ø§Ù„ØªØªØ¨Ø¹\n- **Ø§Ù„Ø³Ø§Ø¦Ù‚ÙˆÙ† (drivers)**: Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø³Ø§Ø¦Ù‚ÙŠ Ø§Ù„ØªÙˆØµÙŠÙ„\n- **Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø®Ø§ØµØ© (special_offers)**: Ø§Ù„Ø¹Ø±ÙˆØ¶ ÙˆØ§Ù„ØªØ®ÙÙŠØ¶Ø§Øª\n\n## Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù„Ù„Ù†Ø¸Ø§Ù…\n\n### Ù„Ù„Ø¹Ù…Ù„Ø§Ø¡\n1. **ØªØµÙØ­ Ø³Ù‡Ù„**: ÙˆØ§Ø¬Ù‡Ø© Ø¨Ø¯ÙŠÙ‡ÙŠØ© Ù„ØªØµÙØ­ Ø§Ù„Ù…Ø·Ø§Ø¹Ù… ÙˆØ§Ù„Ù…Ù†ØªØ¬Ø§Øª\n2. **Ø¨Ø­Ø« Ù…ØªÙ‚Ø¯Ù…**: Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ù…Ø·Ø§Ø¹Ù… ÙˆØ§Ù„ÙˆØ¬Ø¨Ø§Øª\n3. **Ø³Ù„Ø© Ø°ÙƒÙŠØ©**: Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ù…Ø¹ Ø­ÙØ¸ ØªÙ„Ù‚Ø§Ø¦ÙŠ\n4. **ØªØªØ¨Ø¹ Ù…Ø¨Ø§Ø´Ø±**: Ù…ØªØ§Ø¨Ø¹Ø© Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨ Ø®Ø·ÙˆØ© Ø¨Ø®Ø·ÙˆØ©\n5. **Ø¹Ù†Ø§ÙˆÙŠÙ† Ù…ØªØ¹Ø¯Ø¯Ø©**: Ø­ÙØ¸ ÙˆØ¥Ø¯Ø§Ø±Ø© Ø¹Ù†Ø§ÙˆÙŠÙ† Ø§Ù„ØªÙˆØµÙŠÙ„\n6. **Ø¯ÙØ¹ Ù…ØªÙ†ÙˆØ¹**: Ø¯Ø¹Ù… Ø·Ø±Ù‚ Ø¯ÙØ¹ Ù…ØªØ¹Ø¯Ø¯Ø©\n7. **Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ÙÙˆØ±ÙŠØ©**: ØªØ­Ø¯ÙŠØ«Ø§Øª Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨\n\n### Ù„Ù„Ù…Ø·Ø§Ø¹Ù… ÙˆØ§Ù„Ø¥Ø¯Ø§Ø±Ø©\n1. **Ø¥Ø¯Ø§Ø±Ø© Ø´Ø§Ù…Ù„Ø©**: ØªØ­ÙƒÙ… ÙƒØ§Ù…Ù„ ÙÙŠ Ø§Ù„Ù…Ø·Ø¹Ù… ÙˆØ§Ù„Ù‚ÙˆØ§Ø¦Ù…\n2. **ØªØªØ¨Ø¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª**: Ø¥Ø¯Ø§Ø±Ø© ÙˆÙ…ØªØ§Ø¨Ø¹Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª\n3. **Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ù…ÙØµÙ„Ø©**: ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª ÙˆØ§Ù„Ø£Ø¯Ø§Ø¡\n4. **Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø±ÙˆØ¶**: Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ø±ÙˆØ¶ Ø¬Ø°Ø§Ø¨Ø©\n5. **Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø³Ø§Ø¦Ù‚ÙŠÙ†**: ØªÙ†Ø³ÙŠÙ‚ Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„ØªÙˆØµÙŠÙ„\n6. **ØªØ­Ø¯ÙŠØ«Ø§Øª ÙÙˆØ±ÙŠØ©**: ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„ÙØ¹Ù„ÙŠ\n\n### Ù„Ù„Ø³Ø§Ø¦Ù‚ÙŠÙ†\n1. **Ø¥Ø¯Ø§Ø±Ø© Ù…Ø±Ù†Ø©**: ØªØ­ÙƒÙ… ÙÙŠ Ø­Ø§Ù„Ø© Ø§Ù„ØªÙˆÙØ±\n2. **Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø·Ù„Ø¨Ø§Øª**: Ù‚Ø¨ÙˆÙ„ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©\n3. **ØªÙ†Ù‚Ù„ Ù…Ø­Ø³Ù†**: ØªÙˆØ¬ÙŠÙ‡ GPS Ù…Ø¨Ø§Ø´Ø±\n4. **ØªÙˆØ§ØµÙ„ Ø³Ù‡Ù„**: Ø§ØªØµØ§Ù„ Ù…Ø¨Ø§Ø´Ø± Ø¨Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡\n5. **ØªØªØ¨Ø¹ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­**: Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø¯Ø®Ù„ ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª\n6. **ÙˆØ§Ø¬Ù‡Ø© Ø¨Ø³ÙŠØ·Ø©**: ØªØµÙ…ÙŠÙ… Ù…Ø®ØµØµ Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ù‚ÙŠØ§Ø¯Ø©\n\n## Ø¥Ø¹Ø¯Ø§Ø¯ ÙˆØªØ´ØºÙŠÙ„ Ø§Ù„Ù†Ø¸Ø§Ù…\n\n### Ù…ØªØ·Ù„Ø¨Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…\n- Node.js 20+\n- PostgreSQL database\n- Ù…ØªØµÙØ­ Ø­Ø¯ÙŠØ« ÙŠØ¯Ø¹Ù… ES6+\n\n### Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªØ´ØºÙŠÙ„\n\n1. **ØªØ«Ø¨ÙŠØª Ø§Ù„ØªØ¨Ø¹ÙŠØ§Øª**:\n```bash\nnpm install\n```\n\n2. **Ø¥Ø¹Ø¯Ø§Ø¯ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª**:\n   - Ø¥Ù†Ø´Ø§Ø¡ Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª PostgreSQL\n   - ØªØ­Ø¯ÙŠØ« Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¨ÙŠØ¦Ø©\n   - ØªØ´ØºÙŠÙ„ migrations\n\n3. **ØªØ´ØºÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚**:\n```bash\nnpm run dev\n```\n\n### Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª\n- **ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡**: `http://localhost:5000/`\n- **Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…**: `http://localhost:5000/admin`\n- **ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø³Ø§Ø¦Ù‚ÙŠÙ†**: `http://localhost:5000/delivery`\n\n## Ø§Ù„Ø£Ù…Ø§Ù† ÙˆØ§Ù„Ø®ØµÙˆØµÙŠØ©\n\n- **ØªØ´ÙÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª**: Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø³Ø© Ù…Ø´ÙØ±Ø©\n- **Ù…ØµØ§Ø¯Ù‚Ø© Ø¢Ù…Ù†Ø©**: Ù†Ø¸Ø§Ù… Ù…ØµØ§Ø¯Ù‚Ø© Ù‚ÙˆÙŠ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†\n- **Ø­Ù…Ø§ÙŠØ© API**: ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª\n- **Ø®ØµÙˆØµÙŠØ© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª**: Ø§Ù…ØªØ«Ø§Ù„ Ù„Ù…Ø¹Ø§ÙŠÙŠØ± Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\n- **Ù†Ø³Ø® Ø§Ø­ØªÙŠØ§Ø·ÙŠ**: Ù†Ø³Ø® Ø§Ø­ØªÙŠØ§Ø·ÙŠ Ù…Ù†ØªØ¸Ù… Ù„Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\n\n## Ø§Ù„ØªØ­Ø¯ÙŠØ«Ø§Øª Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠØ©\n\n- **Ø¯ÙØ¹ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ**: Ø±Ø¨Ø· Ù…Ø¹ Ø¨ÙˆØ§Ø¨Ø§Øª Ø¯ÙØ¹ Ù…Ø­Ù„ÙŠØ© ÙˆØ¯ÙˆÙ„ÙŠØ©\n- **Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ø¯ÙØ¹**: Ø±Ø³Ø§Ø¦Ù„ SMS ÙˆØ¥Ø´Ø¹Ø§Ø±Ø§Øª ÙÙˆØ±ÙŠØ©\n- **ØªØ·Ø¨ÙŠÙ‚ Ù…ÙˆØ¨Ø§ÙŠÙ„**: Ù†Ø³Ø® Android Ùˆ iOS\n- **Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ**: ØªÙˆØµÙŠØ§Øª Ø´Ø®ØµÙŠØ© Ù„Ù„Ø¹Ù…Ù„Ø§Ø¡\n- **ØªØ­Ù„ÙŠÙ„Ø§Øª Ù…ØªÙ‚Ø¯Ù…Ø©**: Ø±Ø¤Ù‰ Ø£Ø¹Ù…Ù‚ Ù„Ø³Ù„ÙˆÙƒ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡\n\n## Ø§Ù„Ø¯Ø¹Ù… ÙˆØ§Ù„ØµÙŠØ§Ù†Ø©\n\n- **Ù…Ø±Ø§Ù‚Ø¨Ø© 24/7**: Ù…Ø±Ø§Ù‚Ø¨Ø© Ù…Ø³ØªÙ…Ø±Ø© Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ù†Ø¸Ø§Ù…\n- **ØªØ­Ø¯ÙŠØ«Ø§Øª Ø£Ù…Ù†ÙŠØ©**: ØªØ­Ø¯ÙŠØ«Ø§Øª Ø¯ÙˆØ±ÙŠØ© Ù„Ù„Ø­Ù…Ø§ÙŠØ©\n- **Ø¯Ø¹Ù… ÙÙ†ÙŠ**: ÙØ±ÙŠÙ‚ Ø¯Ø¹Ù… Ù…ØªØ®ØµØµ\n- **ØªØ¯Ø±ÙŠØ¨ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†**: Ø¯ÙˆØ±Ø§Øª ØªØ¯Ø±ÙŠØ¨ÙŠØ© Ù„Ù„Ù…Ø·Ø§Ø¹Ù… ÙˆØ§Ù„Ø³Ø§Ø¦Ù‚ÙŠÙ†\n\n## Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„\n\n- **Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ**: [alsarie-one.com]\n- **Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ**: support@alsarie-one.com\n- **Ø§Ù„Ù‡Ø§ØªÙ**: +967-1-234567\n- **Ø§Ù„Ø¹Ù†ÙˆØ§Ù†**: ØµÙ†Ø¹Ø§Ø¡ØŒ Ø§Ù„ÙŠÙ…Ù†\n\n## Ø§Ù„Ø®Ù„Ø§ØµØ©\n\nØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø³Ø±ÙŠØ¹ ÙˆÙ† ÙŠÙˆÙØ± Ø­Ù„Ø§Ù‹ Ù…ØªÙƒØ§Ù…Ù„Ø§Ù‹ Ù„ØµÙ†Ø§Ø¹Ø© ØªÙˆØµÙŠÙ„ Ø§Ù„Ø·Ø¹Ø§Ù… ÙÙŠ Ø§Ù„ÙŠÙ…Ù†ØŒ Ù…Ø¹ Ø§Ù„ØªØ±ÙƒÙŠØ² Ø¹Ù„Ù‰ Ø§Ù„Ø¬ÙˆØ¯Ø© ÙˆØ§Ù„Ø³Ø±Ø¹Ø© ÙˆØ³Ù‡ÙˆÙ„Ø© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…. Ø§Ù„Ù†Ø¸Ø§Ù… Ù…ØµÙ…Ù… Ù„ÙŠÙƒÙˆÙ† Ù‚Ø§Ø¨Ù„Ø§Ù‹ Ù„Ù„ØªÙˆØ³Ø¹ ÙˆÙŠØ¯Ø¹Ù… Ø§Ù„Ù†Ù…Ùˆ Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠ Ù„Ù„Ø£Ø¹Ù…Ø§Ù„.\n\n---\n\n*ØªÙ… ØªØ·ÙˆÙŠØ± Ù‡Ø°Ø§ Ø§Ù„Ù†Ø¸Ø§Ù… Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø£Ø­Ø¯Ø« Ø§Ù„ØªÙ‚Ù†ÙŠØ§Øª Ù„Ø¶Ù…Ø§Ù† Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø£Ù…Ø«Ù„ ÙˆØ§Ù„Ø£Ù…Ø§Ù† Ø§Ù„ÙƒØ§Ù…Ù„.*","size_bytes":9674},"tailwind.config.ts":{"content":"import type { Config } from \"tailwindcss\";\n\nexport default {\n  darkMode: [\"class\"],\n  content: [\"./client/index.html\", \"./client/src/**/*.{js,jsx,ts,tsx}\"],\n  theme: {\n    extend: {\n      borderRadius: {\n        lg: \"var(--radius)\",\n        md: \"calc(var(--radius) - 2px)\",\n        sm: \"calc(var(--radius) - 4px)\",\n      },\n      colors: {\n        background: \"var(--background)\",\n        foreground: \"var(--foreground)\",\n        card: {\n          DEFAULT: \"var(--card)\",\n          foreground: \"var(--card-foreground)\",\n        },\n        popover: {\n          DEFAULT: \"var(--popover)\",\n          foreground: \"var(--popover-foreground)\",\n        },\n        primary: {\n          DEFAULT: \"var(--primary)\",\n          foreground: \"var(--primary-foreground)\",\n        },\n        secondary: {\n          DEFAULT: \"var(--secondary)\",\n          foreground: \"var(--secondary-foreground)\",\n        },\n        muted: {\n          DEFAULT: \"var(--muted)\",\n          foreground: \"var(--muted-foreground)\",\n        },\n        accent: {\n          DEFAULT: \"var(--accent)\",\n          foreground: \"var(--accent-foreground)\",\n        },\n        destructive: {\n          DEFAULT: \"var(--destructive)\",\n          foreground: \"var(--destructive-foreground)\",\n        },\n        border: \"var(--border)\",\n        input: \"var(--input)\",\n        ring: \"var(--ring)\",\n        chart: {\n          \"1\": \"var(--chart-1)\",\n          \"2\": \"var(--chart-2)\",\n          \"3\": \"var(--chart-3)\",\n          \"4\": \"var(--chart-4)\",\n          \"5\": \"var(--chart-5)\",\n        },\n        sidebar: {\n          DEFAULT: \"var(--sidebar)\",\n          foreground: \"var(--sidebar-foreground)\",\n          primary: \"var(--sidebar-primary)\",\n          \"primary-foreground\": \"var(--sidebar-primary-foreground)\",\n          accent: \"var(--sidebar-accent)\",\n          \"accent-foreground\": \"var(--sidebar-accent-foreground)\",\n          border: \"var(--sidebar-border)\",\n          ring: \"var(--sidebar-ring)\",\n        },\n      },\n      fontFamily: {\n        sans: [\"var(--font-sans)\"],\n        serif: [\"var(--font-serif)\"],\n        mono: [\"var(--font-mono)\"],\n        arabic: [\"Noto Sans Arabic\", \"Inter\", \"sans-serif\"],\n      },\n      keyframes: {\n        \"accordion-down\": {\n          from: {\n            height: \"0\",\n          },\n          to: {\n            height: \"var(--radix-accordion-content-height)\",\n          },\n        },\n        \"accordion-up\": {\n          from: {\n            height: \"var(--radix-accordion-content-height)\",\n          },\n          to: {\n            height: \"0\",\n          },\n        },\n        fadeIn: {\n          from: {\n            opacity: \"0\",\n            transform: \"translateY(10px)\",\n          },\n          to: {\n            opacity: \"1\",\n            transform: \"translateY(0)\",\n          },\n        },\n      },\n      animation: {\n        \"accordion-down\": \"accordion-down 0.2s ease-out\",\n        \"accordion-up\": \"accordion-up 0.2s ease-out\",\n        \"fade-in\": \"fadeIn 0.3s ease-in\",\n      },\n    },\n  },\n  plugins: [require(\"tailwindcss-animate\"), require(\"@tailwindcss/typography\")],\n} satisfies Config;\n","size_bytes":3082},"vite.config.ts":{"content":"import { defineConfig } from \"vite\";\nimport react from \"@vitejs/plugin-react\";\nimport path from \"path\";\nimport runtimeErrorOverlay from \"@replit/vite-plugin-runtime-error-modal\";\nimport { fileURLToPath } from 'url';\n\nconst __dirname = path.dirname(fileURLToPath(import.meta.url));\n\nexport default defineConfig(async () => {\n  const plugins = [\n    react(),\n    runtimeErrorOverlay(),\n  ];\n\n  // Add cartographer plugin only in development on Replit\n  if (process.env.NODE_ENV !== \"production\" && process.env.REPL_ID) {\n    const { cartographer } = await import(\"@replit/vite-plugin-cartographer\");\n    plugins.push(cartographer());\n  }\n\n  return {\n    plugins,\n    resolve: {\n      alias: {\n        \"@\": path.resolve(__dirname, \"client\", \"src\"),\n        \"@shared\": path.resolve(__dirname, \"shared\"),\n        \"@assets\": path.resolve(__dirname, \"attached_assets\"),\n      },\n    },\n    root: path.resolve(__dirname, \"client\"),\n    build: {\n      outDir: path.resolve(__dirname, \"dist/public\"),\n      emptyOutDir: true,\n    },\n    server: {\n      host: \"0.0.0.0\",\n      port: 5000,\n      strictPort: false,\n      hmr: {\n        port: 5000,\n      },\n      fs: {\n        strict: false,\n      },\n    },\n  };\n});\n","size_bytes":1205},"client/tailwind.config.js":{"content":"/** @type {import('tailwindcss').Config} */\nexport default {\n  darkMode: [\"class\"],\n  content: [\n    './pages/**/*.{ts,tsx}',\n    './components/**/*.{ts,tsx}',\n    './app/**/*.{ts,tsx}',\n    './src/**/*.{ts,tsx}',\n  ],\n  prefix: \"\",\n  theme: {\n    container: {\n      center: true,\n      padding: \"2rem\",\n      screens: {\n        \"2xl\": \"1400px\",\n      },\n    },\n    extend: {\n      fontFamily: {\n        arabic: ['Noto Sans Arabic', 'Inter', 'sans-serif'],\n      },\n      colors: {\n        border: \"hsl(var(--border))\",\n        input: \"hsl(var(--input))\",\n        ring: \"hsl(var(--ring))\",\n        background: \"hsl(var(--background))\",\n        foreground: \"hsl(var(--foreground))\",\n        primary: {\n          DEFAULT: \"hsl(var(--primary))\",\n          foreground: \"hsl(var(--primary-foreground))\",\n        },\n        secondary: {\n          DEFAULT: \"hsl(var(--secondary))\",\n          foreground: \"hsl(var(--secondary-foreground))\",\n        },\n        destructive: {\n          DEFAULT: \"hsl(var(--destructive))\",\n          foreground: \"hsl(var(--destructive-foreground))\",\n        },\n        muted: {\n          DEFAULT: \"hsl(var(--muted))\",\n          foreground: \"hsl(var(--muted-foreground))\",\n        },\n        accent: {\n          DEFAULT: \"hsl(var(--accent))\",\n          foreground: \"hsl(var(--accent-foreground))\",\n        },\n        popover: {\n          DEFAULT: \"hsl(var(--popover))\",\n          foreground: \"hsl(var(--popover-foreground))\",\n        },\n        card: {\n          DEFAULT: \"hsl(var(--card))\",\n          foreground: \"hsl(var(--card-foreground))\",\n        },\n      },\n      borderRadius: {\n        lg: \"var(--radius)\",\n        md: \"calc(var(--radius) - 2px)\",\n        sm: \"calc(var(--radius) - 4px)\",\n      },\n      keyframes: {\n        \"accordion-down\": {\n          from: { height: \"0\" },\n          to: { height: \"var(--radix-accordion-content-height)\" },\n        },\n        \"accordion-up\": {\n          from: { height: \"var(--radix-accordion-content-height)\" },\n          to: { height: \"0\" },\n        },\n        \"caret-blink\": {\n          \"0%,70%,100%\": { opacity: \"1\" },\n          \"20%,50%\": { opacity: \"0\" },\n        },\n      },\n      animation: {\n        \"accordion-down\": \"accordion-down 0.2s ease-out\",\n        \"accordion-up\": \"accordion-up 0.2s ease-out\",\n        \"caret-blink\": \"caret-blink 1.25s ease-out infinite\",\n      },\n    },\n  },\n  plugins: [require(\"tailwindcss-animate\")],\n}","size_bytes":2411},"client/vite.config.ts":{"content":"import { defineConfig } from \"vite\";\nimport react from \"@vitejs/plugin-react\";\nimport path from \"path\";\nimport { fileURLToPath } from 'url';\n\nconst __dirname = path.dirname(fileURLToPath(import.meta.url));\n\nexport default defineConfig({\n  plugins: [react()],\n  resolve: {\n    alias: {\n      \"@\": path.resolve(__dirname, \"src\"),\n      \"@shared\": path.resolve(__dirname, \"..\", \"shared\"),\n      \"@assets\": path.resolve(__dirname, \"..\", \"attached_assets\"),\n    },\n  },\n  server: {\n    host: \"0.0.0.0\",\n    port: 5000,\n    strictPort: false,\n  },\n});","size_bytes":545},"migrations/migrate.js":{"content":"","size_bytes":0},"server/auth.ts":{"content":" import bcrypt from 'bcrypt'; // ØªÙ… Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ù‡Ù†Ø§\nimport { randomUUID } from 'crypto';\nimport { dbStorage } from './db';\nimport { type InsertAdminUser, type InsertAdminSession } from '@shared/schema';\n\nexport class AuthService {\n  async hashPassword(password: string): Promise<string> {\n    return bcrypt.hash(password, 10);\n  }\n  async verifyPassword(password: string, hashedPassword: string): Promise<boolean> {\n    return bcrypt.compare(password, hashedPassword);\n  }\n  async loginAdmin(email: string, password: string): Promise<{ success: boolean; token?: string; userType?: string; message?: string }> {\n    try {\n      console.log('ğŸ” Attempting login for email:', email);\n      const admin = await dbStorage.getAdminByEmail(email);\n      console.log('ğŸ“Š Retrieved admin data:', admin);\n      if (!admin) return { success: false, message: 'Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø£Ùˆ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©' };\n      console.log('âœ… Admin found, checking isActive:', admin.isActive, 'Type:', typeof admin.isActive);\n      if (!admin.isActive) return { success: false, message: 'Ø§Ù„Ø­Ø³Ø§Ø¨ ØºÙŠØ± Ù…ÙØ¹Ù„' };\n      const isPasswordValid = await this.verifyPassword(password, admin.password);\n      if (!isPasswordValid) return { success: false, message: 'Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø£Ùˆ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©' };\n      const token = randomUUID();\n      const expiresAt = new Date();\n      expiresAt.setHours(expiresAt.getHours() + 24);\n      const sessionData: InsertAdminSession = {\n        adminId: admin.id,\n        token,\n        userType: admin.userType,\n        expiresAt\n      };\n      await dbStorage.createAdminSession(sessionData);\n      return { success: true, token, userType: admin.userType };\n    } catch (error) {\n      console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„:', error);\n      return { success: false, message: 'Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…' };\n    }\n  }\n  async validateSession(token: string): Promise<{ valid: boolean; userType?: string; adminId?: string }> {\n    try {\n      const session = await dbStorage.getAdminSession(token);\n      if (!session) return { valid: false };\n      if (new Date() > session.expiresAt) {\n        await dbStorage.deleteAdminSession(token);\n        return { valid: false };\n      }\n      return { valid: true, userType: session.userType, adminId: session.adminId || undefined };\n    } catch (error) {\n      console.error('Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¬Ù„Ø³Ø©:', error);\n      return { valid: false };\n    }\n  }\n  async logout(token: string): Promise<boolean> {\n    try {\n      return await dbStorage.deleteAdminSession(token);\n    } catch (error) {\n      console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬:', error);\n      return false;\n    }\n  }\n  async createDefaultAdmin(): Promise<void> {\n    try {\n      // For now, skip the check and just try to create admin if not exists\n      console.log('Setting up default admin user...');\n      const adminPassword = process.env.DEFAULT_ADMIN_PASSWORD || 'admin123456';\n      const hashedPassword = await this.hashPassword(adminPassword);\n      const defaultAdmin: InsertAdminUser = {\n        name: 'Ù…Ø¯ÙŠØ± Ø§Ù„Ù†Ø¸Ø§Ù…',\n        email: 'admin@alsarie-one.com',\n        password: hashedPassword,\n        userType: 'admin'\n      };\n      \n      try {\n        await dbStorage.createAdminUser(defaultAdmin);\n        console.log('ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø¯ÙŠØ± Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ Ø¨Ù†Ø¬Ø§Ø­');\n      } catch (createError: any) {\n        // If it fails due to duplicate email, that means admin already exists\n        if (createError.message?.includes('unique') || createError.code === '23505') {\n          console.log('Ø§Ù„Ù…Ø¯ÙŠØ± Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ Ù…ÙˆØ¬ÙˆØ¯ Ø¨Ø§Ù„ÙØ¹Ù„');\n        } else {\n          throw createError;\n        }\n      }\n    } catch (error) {\n      console.error('Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø¯ÙŠØ± Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ:', error);\n    }\n  }\n}\nexport const authService = new AuthService();\n\n","size_bytes":3978},"server/db.ts":{"content":"import { drizzle } from \"drizzle-orm/neon-http\";\nimport { neon } from \"@neondatabase/serverless\";\nimport { \n  adminUsers, adminSessions, categories, restaurantSections, restaurants, \n  menuItems, users, userAddresses, orders, specialOffers, \n  notifications, ratings, systemSettingsTable as systemSettings, drivers, orderTracking,\n  type AdminUser, type InsertAdminUser,\n  type AdminSession, type InsertAdminSession,\n  type Category, type InsertCategory,\n  type Restaurant, type InsertRestaurant,\n  type RestaurantSection, type InsertRestaurantSection,\n  type MenuItem, type InsertMenuItem,\n  type User, type InsertUser,\n  type UserAddress, type InsertUserAddress,\n  type Order, type InsertOrder,\n  type SpecialOffer, type InsertSpecialOffer,\n  type Notification, type InsertNotification,\n  type Rating, type InsertRating,\n  type SystemSettings, type InsertSystemSettings,\n  type Driver, type InsertDriver\n} from \"@shared/schema\";\nimport { IStorage } from \"./storage\";\nimport { eq, and, desc, sql, or, like } from \"drizzle-orm\";\n\n// Database connection\nlet db: ReturnType<typeof drizzle> | null = null;\n\nfunction getDb() {\n  if (!db) {\n    if (!process.env.DATABASE_URL) {\n      throw new Error(\"DATABASE_URL must be defined in environment variables\");\n    }\n    \n    // Configure for Replit environment to handle SSL issues\n    process.env.NODE_TLS_REJECT_UNAUTHORIZED = '0';\n    \n    const sqlClient = neon(process.env.DATABASE_URL);\n    db = drizzle(sqlClient);\n  }\n  return db;\n}\n\n// ... rest of the DatabaseStorage class remains the same\n\nexport class DatabaseStorage implements IStorage {\n  get db() {\n    return getDb();\n  }\n\n  // Admin Authentication\n  async createAdminUser(adminUser: InsertAdminUser): Promise<AdminUser> {\n    const [newAdmin] = await this.db.insert(adminUsers).values(adminUser).returning();\n    return newAdmin;\n  }\n\n  async getAdminByEmail(emailOrUsername: string): Promise<AdminUser | undefined> {\n    const result = await this.db.select().from(adminUsers).where(\n      or(\n        eq(adminUsers.email, emailOrUsername),\n        eq(adminUsers.username, emailOrUsername)\n      )\n    );\n    return result[0];\n  }\n\n  async createAdminSession(session: InsertAdminSession): Promise<AdminSession> {\n    const [newSession] = await this.db.insert(adminSessions).values(session).returning();\n    return newSession;\n  }\n\n  async getAdminSession(token: string): Promise<AdminSession | undefined> {\n    const [session] = await this.db.select().from(adminSessions).where(eq(adminSessions.token, token));\n    return session;\n  }\n\n  async deleteAdminSession(token: string): Promise<boolean> {\n    const result = await this.db.delete(adminSessions).where(eq(adminSessions.token, token));\n    return result.rowCount > 0;\n  }\n\n  // Users\n  async getUser(id: string): Promise<User | undefined> {\n    const [user] = await this.db.select().from(users).where(eq(users.id, id));\n    return user;\n  }\n\n  async getUserByUsername(username: string): Promise<User | undefined> {\n    const [user] = await this.db.select().from(users).where(eq(users.username, username));\n    return user;\n  }\n\n  async createUser(user: InsertUser): Promise<User> {\n    const [newUser] = await this.db.insert(users).values(user).returning();\n    return newUser;\n  }\n\n  async updateUser(id: string, userData: Partial<InsertUser>): Promise<User | undefined> {\n    const [updated] = await this.db.update(users).set(userData).where(eq(users.id, id)).returning();\n    return updated;\n  }\n\n  // Categories\n  async getCategories(): Promise<Category[]> {\n    try {\n      const result = await this.db.select().from(categories);\n      return result || [];\n    } catch (error) {\n      console.error('Error fetching categories:', error);\n      return [];\n    }\n  }\n\n  async createCategory(category: InsertCategory): Promise<Category> {\n    const [newCategory] = await this.db.insert(categories).values(category).returning();\n    return newCategory;\n  }\n\n  async updateCategory(id: string, category: Partial<InsertCategory>): Promise<Category | undefined> {\n    const [updated] = await this.db.update(categories).set(category).where(eq(categories.id, id)).returning();\n    return updated;\n  }\n\n  async deleteCategory(id: string): Promise<boolean> {\n    const result = await this.db.delete(categories).where(eq(categories.id, id));\n    return result.rowCount > 0;\n  }\n\n  // Restaurants\n  async getRestaurants(): Promise<Restaurant[]> {\n    try {\n      const result = await this.db.select().from(restaurants);\n      return result || [];\n    } catch (error) {\n      console.error('Error fetching restaurants:', error);\n      return [];\n    }\n  }\n\n  async getRestaurant(id: string): Promise<Restaurant | undefined> {\n    const [restaurant] = await this.db.select().from(restaurants).where(eq(restaurants.id, id));\n    return restaurant;\n  }\n\n  async getRestaurantsByCategory(categoryId: string): Promise<Restaurant[]> {\n    return await this.db.select().from(restaurants).where(eq(restaurants.categoryId, categoryId));\n  }\n\n  async createRestaurant(restaurant: InsertRestaurant): Promise<Restaurant> {\n    const [newRestaurant] = await this.db.insert(restaurants).values(restaurant).returning();\n    return newRestaurant;\n  }\n\n  async updateRestaurant(id: string, restaurant: Partial<InsertRestaurant>): Promise<Restaurant | undefined> {\n    const [updated] = await this.db.update(restaurants).set(restaurant).where(eq(restaurants.id, id)).returning();\n    return updated;\n  }\n\n  async deleteRestaurant(id: string): Promise<boolean> {\n    const result = await this.db.delete(restaurants).where(eq(restaurants.id, id));\n    return result.rowCount > 0;\n  }\n\n  // Menu Items\n  async getMenuItems(restaurantId: string): Promise<MenuItem[]> {\n    return await this.db.select().from(menuItems).where(eq(menuItems.restaurantId, restaurantId));\n  }\n\n  async getMenuItem(id: string): Promise<MenuItem | undefined> {\n    const [item] = await this.db.select().from(menuItems).where(eq(menuItems.id, id));\n    return item;\n  }\n\n  async createMenuItem(menuItem: InsertMenuItem): Promise<MenuItem> {\n    const [newItem] = await this.db.insert(menuItems).values(menuItem).returning();\n    return newItem;\n  }\n\n  async updateMenuItem(id: string, menuItem: Partial<InsertMenuItem>): Promise<MenuItem | undefined> {\n    const [updated] = await this.db.update(menuItems).set(menuItem).where(eq(menuItems.id, id)).returning();\n    return updated;\n  }\n\n  async deleteMenuItem(id: string): Promise<boolean> {\n    const result = await this.db.delete(menuItems).where(eq(menuItems.id, id));\n    return result.rowCount > 0;\n  }\n\n  // Orders\n  async getOrders(): Promise<Order[]> {\n    return await this.db.select().from(orders);\n  }\n\n  async getOrder(id: string): Promise<Order | undefined> {\n    const [order] = await this.db.select().from(orders).where(eq(orders.id, id));\n    return order;\n  }\n\n  async getOrdersByRestaurant(restaurantId: string): Promise<Order[]> {\n    return await this.db.select().from(orders).where(eq(orders.restaurantId, restaurantId));\n  }\n\n  async createOrder(order: InsertOrder): Promise<Order> {\n    const [newOrder] = await this.db.insert(orders).values(order).returning();\n    return newOrder;\n  }\n\n  async updateOrder(id: string, order: Partial<InsertOrder>): Promise<Order | undefined> {\n    const [updated] = await this.db.update(orders).set(order).where(eq(orders.id, id)).returning();\n    return updated;\n  }\n\n  // Drivers\n  async getDrivers(): Promise<Driver[]> {\n    return await this.db.select().from(drivers);\n  }\n\n  async getDriver(id: string): Promise<Driver | undefined> {\n    const [driver] = await this.db.select().from(drivers).where(eq(drivers.id, id));\n    return driver;\n  }\n\n  async getAvailableDrivers(): Promise<Driver[]> {\n    return await this.db.select().from(drivers).where(\n      and(\n        eq(drivers.isAvailable, true),\n        eq(drivers.isActive, true)\n      )\n    );\n  }\n\n  async createDriver(driver: InsertDriver): Promise<Driver> {\n    const [newDriver] = await this.db.insert(drivers).values(driver).returning();\n    return newDriver;\n  }\n\n  async updateDriver(id: string, driver: Partial<InsertDriver>): Promise<Driver | undefined> {\n    const [updated] = await this.db.update(drivers).set(driver).where(eq(drivers.id, id)).returning();\n    return updated;\n  }\n\n  async deleteDriver(id: string): Promise<boolean> {\n    const result = await this.db.delete(drivers).where(eq(drivers.id, id));\n    return result.rowCount > 0;\n  }\n\n  // Special Offers\n  async getSpecialOffers(): Promise<SpecialOffer[]> {\n    return await this.db.select().from(specialOffers);\n  }\n\n  async getActiveSpecialOffers(): Promise<SpecialOffer[]> {\n    return await this.db.select().from(specialOffers).where(eq(specialOffers.isActive, true));\n  }\n\n  async createSpecialOffer(offer: InsertSpecialOffer): Promise<SpecialOffer> {\n    const [newOffer] = await this.db.insert(specialOffers).values(offer).returning();\n    return newOffer;\n  }\n\n  async updateSpecialOffer(id: string, offer: Partial<InsertSpecialOffer>): Promise<SpecialOffer | undefined> {\n    const [updated] = await this.db.update(specialOffers).set(offer).where(eq(specialOffers.id, id)).returning();\n    return updated;\n  }\n\n  async deleteSpecialOffer(id: string): Promise<boolean> {\n    const result = await this.db.delete(specialOffers).where(eq(specialOffers.id, id));\n    return result.rowCount > 0;\n  }\n\n  // UI Settings (using systemSettings)\n  async getUiSettings(): Promise<SystemSettings[]> {\n    try {\n      const result = await this.db.select().from(systemSettings).where(eq(systemSettings.isActive, true));\n      return result || [];\n    } catch (error) {\n      console.error('Error fetching UI settings:', error);\n      return [];\n    }\n  }\n\n  async getUiSetting(key: string): Promise<SystemSettings | undefined> {\n    const [setting] = await this.db.select().from(systemSettings).where(\n      and(eq(systemSettings.key, key), eq(systemSettings.isActive, true))\n    );\n    return setting;\n  }\n\n  async updateUiSetting(key: string, value: string): Promise<SystemSettings | undefined> {\n    const [updated] = await this.db.update(systemSettings)\n      .set({ value, updatedAt: new Date() })\n      .where(eq(systemSettings.key, key))\n      .returning();\n    return updated;\n  }\n\n  async createUiSetting(setting: InsertSystemSettings): Promise<SystemSettings> {\n    const [newSetting] = await this.db.insert(systemSettings).values(setting).returning();\n    return newSetting;\n  }\n\n  async deleteUiSetting(key: string): Promise<boolean> {\n    const result = await this.db.delete(systemSettings).where(eq(systemSettings.key, key));\n    return result.rowCount > 0;\n  }\n\n  // Notifications\n  async getNotifications(recipientType?: string, recipientId?: string, unread?: boolean): Promise<Notification[]> {\n    const conditions = [];\n    if (recipientType) {\n      conditions.push(eq(notifications.recipientType, recipientType));\n    }\n    if (recipientId) {\n      conditions.push(eq(notifications.recipientId, recipientId));\n    }\n    if (unread !== undefined) {\n      conditions.push(eq(notifications.isRead, !unread));\n    }\n    \n    if (conditions.length > 0) {\n      return await this.db.select().from(notifications)\n        .where(and(...conditions))\n        .orderBy(desc(notifications.createdAt));\n    }\n    \n    return await this.db.select().from(notifications)\n      .orderBy(desc(notifications.createdAt));\n  }\n\n  async createNotification(notification: InsertNotification): Promise<Notification> {\n    const [newNotification] = await this.db.insert(notifications).values(notification).returning();\n    return newNotification;\n  }\n\n  async markNotificationAsRead(id: string): Promise<Notification | undefined> {\n    const [updated] = await this.db.update(notifications)\n      .set({ isRead: true })\n      .where(eq(notifications.id, id))\n      .returning();\n    return updated;\n  }\n\n  // Search Functions\n  async searchRestaurants(searchTerm: string, categoryId?: string): Promise<Restaurant[]> {\n    const conditions = [\n      or(\n        like(restaurants.name, searchTerm),\n        like(restaurants.description, searchTerm)\n      )\n    ];\n    \n    if (categoryId) {\n      conditions.push(eq(restaurants.categoryId, categoryId));\n    }\n    \n    return await this.db.select().from(restaurants)\n      .where(and(...conditions))\n      .orderBy(restaurants.name);\n  }\n\n  async searchCategories(searchTerm: string): Promise<Category[]> {\n    return await this.db.select().from(categories)\n      .where(like(categories.name, searchTerm))\n      .orderBy(categories.name);\n  }\n\n  async searchMenuItems(searchTerm: string): Promise<MenuItem[]> {\n    return await this.db.select().from(menuItems)\n      .where(\n        or(\n          like(menuItems.name, searchTerm),\n          like(menuItems.description, searchTerm),\n          like(menuItems.category, searchTerm)\n        )\n      )\n      .orderBy(menuItems.name);\n  }\n\n  // Enhanced Restaurant Functions\n  async getRestaurants(filters?: { categoryId?: string; area?: string; isOpen?: boolean }): Promise<Restaurant[]> {\n    const conditions = [];\n    \n    if (filters?.categoryId) {\n      conditions.push(eq(restaurants.categoryId, filters.categoryId));\n    }\n    \n    if (filters?.isOpen !== undefined) {\n      conditions.push(eq(restaurants.isOpen, filters.isOpen));\n    }\n    \n    if (conditions.length > 0) {\n      return await this.db.select().from(restaurants)\n        .where(and(...conditions))\n        .orderBy(restaurants.name);\n    }\n    \n    return await this.db.select().from(restaurants).orderBy(restaurants.name);\n  }\n\n  // Order Functions\n  async getOrderById(id: string): Promise<Order | undefined> {\n    const [order] = await this.db.select().from(orders).where(eq(orders.id, id));\n    return order;\n  }\n\n  async getCustomerOrders(customerPhone: string): Promise<Order[]> {\n    return await this.db.select().from(orders)\n      .where(eq(orders.customerPhone, customerPhone))\n      .orderBy(desc(orders.createdAt));\n  }\n\n  async updateOrderStatus(orderId: string, status: string): Promise<Order | undefined> {\n    const [updated] = await this.db.update(orders)\n      .set({ status, updatedAt: new Date() })\n      .where(eq(orders.id, orderId))\n      .returning();\n    return updated;\n  }\n\n  // Order Tracking Functions\n  async createOrderTracking(tracking: any): Promise<any> {\n    const [newTracking] = await this.db.insert(orderTracking).values(tracking).returning();\n    return newTracking;\n  }\n\n  async getOrderTracking(orderId: string): Promise<any[]> {\n    return await this.db.select().from(orderTracking)\n      .where(eq(orderTracking.orderId, orderId))\n      .orderBy(desc(orderTracking.createdAt));\n  }\n}\n\nexport const dbStorage = new DatabaseStorage();","size_bytes":14684},"server/index.ts":{"content":"import express, { type Request, Response, NextFunction } from \"express\";\nimport { registerRoutes } from \"./routes\";\nimport { setupVite, serveStatic, log } from \"./vite\";\n\nconst app = express();\napp.use(express.json());\napp.use(express.urlencoded({ extended: false }));\n\napp.use((req, res, next) => {\n  const start = Date.now();\n  const path = req.path;\n  let capturedJsonResponse: Record<string, any> | undefined = undefined;\n\n  const originalResJson = res.json;\n  res.json = function (bodyJson, ...args) {\n    capturedJsonResponse = bodyJson;\n    return originalResJson.apply(res, [bodyJson, ...args]);\n  };\n\n  res.on(\"finish\", () => {\n    const duration = Date.now() - start;\n    if (path.startsWith(\"/api\")) {\n      let logLine = `${req.method} ${path} ${res.statusCode} in ${duration}ms`;\n      if (capturedJsonResponse) {\n        logLine += ` :: ${JSON.stringify(capturedJsonResponse)}`;\n      }\n      if (logLine.length > 80) {\n        logLine = logLine.slice(0, 79) + \"â€¦\";\n      }\n      log(logLine);\n    }\n  });\n\n  next();\n});\n\n(async () => {\n  try {\n    const server = await registerRoutes(app);\n\n    app.use((err: any, _req: Request, res: Response, _next: NextFunction) => {\n      const status = err.status || err.statusCode || 500;\n      const message = err.message || \"Internal Server Error\";\n      res.status(status).json({ message });\n      throw err;\n    });\n\n    if (app.get(\"env\") === \"development\") {\n      await setupVite(app, server);\n    } else {\n      serveStatic(app);\n    }\n    const port = parseInt(process.env.PORT || '5000', 10);\n    server.listen({\n      port,\n      host: \"0.0.0.0\",\n      reusePort: true,\n    }, () => {\n      log(`serving on port ${port}`);\n    });\n  } catch (err) {\n    console.error(\"Failed to start server:\", err);\n    process.exit(1);\n  }\n})();","size_bytes":1797},"server/routes.ts":{"content":"import type { Express } from \"express\";\nimport { createServer, type Server } from \"http\";\nimport { dbStorage } from \"./db\";\nimport { authService } from \"./auth\";\nimport { \n  insertRestaurantSchema, \n  insertMenuItemSchema, \n  insertOrderSchema, \n  insertDriverSchema, \n  insertCategorySchema, \n  insertSpecialOfferSchema,\n  insertUiSettingsSchema,\n  insertRestaurantSectionSchema,\n  insertRatingSchema,\n  insertNotificationSchema,\n  insertWalletSchema,\n  insertWalletTransactionSchema,\n  insertSystemSettingsSchema,\n  insertRestaurantEarningsSchema,\n  insertUserSchema,\n  orders\n} from \"@shared/schema\";\nimport { randomUUID } from \"crypto\";\nimport { eq, and, gte, lte, desc, isNull } from \"drizzle-orm\";\n\nexport async function registerRoutes(app: Express): Promise<Server> {\n  \n  // Initialize default admin user on startup\n  await authService.createDefaultAdmin();\n  \n  // Admin Authentication Routes\n  app.post(\"/api/admin/login\", async (req, res) => {\n    try {\n      const { email, password } = req.body;\n      \n      if (!email || !password) {\n        return res.status(400).json({ message: \"Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ÙˆÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ù…Ø·Ù„ÙˆØ¨Ø§Ù†\" });\n      }\n\n      // Use AuthService for login\n      const loginResult = await authService.loginAdmin(email, password);\n      \n      if (loginResult.success) {\n        res.json({\n          success: true,\n          token: loginResult.token,\n          userType: loginResult.userType,\n          message: \"ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­\"\n        });\n      } else {\n        res.status(401).json({ message: loginResult.message });\n      }\n    } catch (error) {\n      console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„:', error);\n      res.status(500).json({ message: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n    }\n  });\n\n  app.post(\"/api/admin/logout\", async (req, res) => {\n    try {\n      const { token } = req.body;\n      if (token) {\n        await dbStorage.deleteAdminSession(token);\n      }\n      res.json({ message: \"ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ Ø¨Ù†Ø¬Ø§Ø­\" });\n    } catch (error) {\n      res.status(500).json({ message: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n    }\n  });\n\n  app.get(\"/api/admin/verify\", async (req, res) => {\n    try {\n      const token = req.headers.authorization?.replace(\"Bearer \", \"\");\n      \n      if (!token) {\n        return res.status(401).json({ message: \"Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ø·Ù„ÙˆØ¨\" });\n      }\n\n      const validation = await authService.validateSession(token);\n      \n      if (validation.valid) {\n        res.json({\n          valid: true,\n          userType: validation.userType,\n          adminId: validation.adminId\n        });\n      } else {\n        res.status(401).json({ message: \"Ø§Ù†ØªÙ‡Øª ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„Ø¬Ù„Ø³Ø©\" });\n      }\n    } catch (error) {\n      console.error('Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ­Ù‚Ù‚:', error);\n      res.status(500).json({ message: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n    }\n  });\n\n  // Users\n  app.get(\"/api/users/:id\", async (req, res) => {\n    try {\n      const { id } = req.params;\n      const user = await dbStorage.getUser(id);\n      if (!user) {\n        return res.status(404).json({ message: \"Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯\" });\n      }\n      res.json(user);\n    } catch (error) {\n      res.status(500).json({ message: \"Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…\" });\n    }\n  });\n\n  app.get(\"/api/users/username/:username\", async (req, res) => {\n    try {\n      const { username } = req.params;\n      const user = await dbStorage.getUserByUsername(username);\n      if (!user) {\n        return res.status(404).json({ message: \"Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯\" });\n      }\n      res.json(user);\n    } catch (error) {\n      res.status(500).json({ message: \"Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…\" });\n    }\n  });\n\n  app.post(\"/api/users\", async (req, res) => {\n    try {\n      const validatedData = insertUserSchema.parse(req.body);\n      const user = await dbStorage.createUser(validatedData);\n      res.status(201).json(user);\n    } catch (error) {\n      res.status(400).json({ message: \"Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ØºÙŠØ± ØµØ­ÙŠØ­Ø©\" });\n    }\n  });\n\n  app.put(\"/api/users/:id\", async (req, res) => {\n    try {\n      const { id } = req.params;\n      const validatedData = insertUserSchema.partial().parse(req.body);\n      const user = await dbStorage.updateUser(id, validatedData);\n      if (!user) {\n        return res.status(404).json({ message: \"Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯\" });\n      }\n      res.json(user);\n    } catch (error) {\n      res.status(400).json({ message: \"Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ØºÙŠØ± ØµØ­ÙŠØ­Ø©\" });\n    }\n  });\n\n  // Categories\n  app.get(\"/api/categories\", async (req, res) => {\n    try {\n      const categories = await dbStorage.getCategories();\n      res.json(categories);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch categories\" });\n    }\n  });\n\n  app.post(\"/api/categories\", async (req, res) => {\n    try {\n      const validatedData = insertCategorySchema.parse(req.body);\n      const category = await dbStorage.createCategory(validatedData);\n      res.status(201).json(category);\n    } catch (error) {\n      res.status(400).json({ message: \"Invalid category data\" });\n    }\n  });\n\n  app.put(\"/api/categories/:id\", async (req, res) => {\n    try {\n      const { id } = req.params;\n      const validatedData = insertCategorySchema.partial().parse(req.body);\n      const category = await dbStorage.updateCategory(id, validatedData);\n      if (!category) {\n        return res.status(404).json({ message: \"Category not found\" });\n      }\n      res.json(category);\n    } catch (error) {\n      res.status(400).json({ message: \"Invalid category data\" });\n    }\n  });\n\n  app.delete(\"/api/categories/:id\", async (req, res) => {\n    try {\n      const { id } = req.params;\n      const success = await dbStorage.deleteCategory(id);\n      if (!success) {\n        return res.status(404).json({ message: \"Category not found\" });\n      }\n      res.status(204).send();\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to delete category\" });\n    }\n  });\n\n  // Restaurants\n  app.get(\"/api/restaurants\", async (req, res) => {\n    try {\n      const { categoryId } = req.query;\n      let restaurants;\n      \n      if (categoryId) {\n        restaurants = await dbStorage.getRestaurantsByCategory(categoryId as string);\n      } else {\n        restaurants = await dbStorage.getRestaurants();\n      }\n      \n      res.json(restaurants);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch restaurants\" });\n    }\n  });\n\n  app.get(\"/api/restaurants/:id\", async (req, res) => {\n    try {\n      const { id } = req.params;\n      const restaurant = await dbStorage.getRestaurant(id);\n      if (!restaurant) {\n        return res.status(404).json({ message: \"Restaurant not found\" });\n      }\n      res.json(restaurant);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch restaurant\" });\n    }\n  });\n\n  app.post(\"/api/restaurants\", async (req, res) => {\n    try {\n      const validatedData = insertRestaurantSchema.parse(req.body);\n      const restaurant = await dbStorage.createRestaurant(validatedData);\n      res.status(201).json(restaurant);\n    } catch (error) {\n      res.status(400).json({ message: \"Invalid restaurant data\" });\n    }\n  });\n\n  app.put(\"/api/restaurants/:id\", async (req, res) => {\n    try {\n      const { id } = req.params;\n      const validatedData = insertRestaurantSchema.partial().parse(req.body);\n      const restaurant = await dbStorage.updateRestaurant(id, validatedData);\n      if (!restaurant) {\n        return res.status(404).json({ message: \"Restaurant not found\" });\n      }\n      res.json(restaurant);\n    } catch (error) {\n      res.status(400).json({ message: \"Invalid restaurant data\" });\n    }\n  });\n\n  app.delete(\"/api/restaurants/:id\", async (req, res) => {\n    try {\n      const { id } = req.params;\n      const success = await dbStorage.deleteRestaurant(id);\n      if (!success) {\n        return res.status(404).json({ message: \"Restaurant not found\" });\n      }\n      res.status(204).send();\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to delete restaurant\" });\n    }\n  });\n\n  // Menu Items\n  app.get(\"/api/restaurants/:restaurantId/menu\", async (req, res) => {\n    try {\n      const { restaurantId } = req.params;\n      const menuItems = await dbStorage.getMenuItems(restaurantId);\n      res.json(menuItems);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch menu items\" });\n    }\n  });\n\n  app.post(\"/api/menu-items\", async (req, res) => {\n    try {\n      const validatedData = insertMenuItemSchema.parse(req.body);\n      const menuItem = await dbStorage.createMenuItem(validatedData);\n      res.status(201).json(menuItem);\n    } catch (error) {\n      res.status(400).json({ message: \"Invalid menu item data\" });\n    }\n  });\n\n  app.put(\"/api/menu-items/:id\", async (req, res) => {\n    try {\n      const { id } = req.params;\n      const validatedData = insertMenuItemSchema.partial().parse(req.body);\n      const menuItem = await dbStorage.updateMenuItem(id, validatedData);\n      if (!menuItem) {\n        return res.status(404).json({ message: \"Menu item not found\" });\n      }\n      res.json(menuItem);\n    } catch (error) {\n      res.status(400).json({ message: \"Invalid menu item data\" });\n    }\n  });\n\n  app.delete(\"/api/menu-items/:id\", async (req, res) => {\n    try {\n      const { id } = req.params;\n      const success = await dbStorage.deleteMenuItem(id);\n      if (!success) {\n        return res.status(404).json({ message: \"Menu item not found\" });\n      }\n      res.status(204).send();\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to delete menu item\" });\n    }\n  });\n\n  // Orders\n  app.get(\"/api/orders\", async (req, res) => {\n    try {\n      const { restaurantId } = req.query;\n      let orders;\n      \n      if (restaurantId) {\n        orders = await dbStorage.getOrdersByRestaurant(restaurantId as string);\n      } else {\n        orders = await dbStorage.getOrders();\n      }\n      \n      res.json(orders);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch orders\" });\n    }\n  });\n\n  app.get(\"/api/orders/:id\", async (req, res) => {\n    try {\n      const { id } = req.params;\n      const order = await dbStorage.getOrder(id);\n      if (!order) {\n        return res.status(404).json({ message: \"Order not found\" });\n      }\n      res.json(order);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch order\" });\n    }\n  });\n\n  app.post(\"/api/orders\", async (req, res) => {\n    try {\n      const validatedData = insertOrderSchema.parse(req.body);\n      const order = await dbStorage.createOrder(validatedData);\n      res.status(201).json(order);\n    } catch (error) {\n      res.status(400).json({ message: \"Invalid order data\" });\n    }\n  });\n\n  app.put(\"/api/orders/:id\", async (req, res) => {\n    try {\n      const { id } = req.params;\n      const validatedData = insertOrderSchema.partial().parse(req.body);\n      const order = await dbStorage.updateOrder(id, validatedData);\n      if (!order) {\n        return res.status(404).json({ message: \"Order not found\" });\n      }\n      res.json(order);\n    } catch (error) {\n      res.status(400).json({ message: \"Invalid order data\" });\n    }\n  });\n\n  // Drivers\n  app.get(\"/api/drivers\", async (req, res) => {\n    try {\n      const { available } = req.query;\n      let drivers;\n      \n      if (available === 'true') {\n        drivers = await dbStorage.getAvailableDrivers();\n      } else {\n        drivers = await dbStorage.getDrivers();\n      }\n      \n      res.json(drivers);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch drivers\" });\n    }\n  });\n\n  app.get(\"/api/drivers/:id\", async (req, res) => {\n    try {\n      const { id } = req.params;\n      const driver = await dbStorage.getDriver(id);\n      if (!driver) {\n        return res.status(404).json({ message: \"Driver not found\" });\n      }\n      res.json(driver);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch driver\" });\n    }\n  });\n\n  app.post(\"/api/drivers\", async (req, res) => {\n    try {\n      const validatedData = insertDriverSchema.parse(req.body);\n      const driver = await dbStorage.createDriver(validatedData);\n      res.status(201).json(driver);\n    } catch (error) {\n      res.status(400).json({ message: \"Invalid driver data\" });\n    }\n  });\n\n  app.put(\"/api/drivers/:id\", async (req, res) => {\n    try {\n      const { id } = req.params;\n      const validatedData = insertDriverSchema.partial().parse(req.body);\n      const driver = await dbStorage.updateDriver(id, validatedData);\n      if (!driver) {\n        return res.status(404).json({ message: \"Driver not found\" });\n      }\n      res.json(driver);\n    } catch (error) {\n      res.status(400).json({ message: \"Invalid driver data\" });\n    }\n  });\n\n  app.delete(\"/api/drivers/:id\", async (req, res) => {\n    try {\n      const { id } = req.params;\n      const success = await dbStorage.deleteDriver(id);\n      if (!success) {\n        return res.status(404).json({ message: \"Driver not found\" });\n      }\n      res.status(204).send();\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to delete driver\" });\n    }\n  });\n\n  // Special Offers\n  app.get(\"/api/special-offers\", async (req, res) => {\n    try {\n      const { active } = req.query;\n      let offers;\n      \n      if (active === 'true') {\n        offers = await dbStorage.getActiveSpecialOffers();\n      } else {\n        offers = await dbStorage.getSpecialOffers();\n      }\n      \n      res.json(offers);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch special offers\" });\n    }\n  });\n\n  app.post(\"/api/special-offers\", async (req, res) => {\n    try {\n      const validatedData = insertSpecialOfferSchema.parse(req.body);\n      const offer = await dbStorage.createSpecialOffer(validatedData);\n      res.status(201).json(offer);\n    } catch (error) {\n      res.status(400).json({ message: \"Invalid special offer data\" });\n    }\n  });\n\n  app.put(\"/api/special-offers/:id\", async (req, res) => {\n    try {\n      const { id } = req.params;\n      const validatedData = insertSpecialOfferSchema.partial().parse(req.body);\n      const offer = await dbStorage.updateSpecialOffer(id, validatedData);\n      if (!offer) {\n        return res.status(404).json({ message: \"Special offer not found\" });\n      }\n      res.json(offer);\n    } catch (error) {\n      res.status(400).json({ message: \"Invalid special offer data\" });\n    }\n  });\n\n  app.delete(\"/api/special-offers/:id\", async (req, res) => {\n    try {\n      const { id } = req.params;\n      const success = await dbStorage.deleteSpecialOffer(id);\n      if (!success) {\n        return res.status(404).json({ message: \"Special offer not found\" });\n      }\n      res.status(204).send();\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to delete special offer\" });\n    }\n  });\n\n  // UI Settings Routes\n  app.get(\"/api/ui-settings\", async (req, res) => {\n    try {\n      const settings = await dbStorage.getUiSettings();\n      res.json(settings);\n    } catch (error) {\n      console.error('Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©:', error);\n      res.status(500).json({ message: \"Failed to fetch UI settings\" });\n    }\n  });\n\n  app.get(\"/api/ui-settings/:key\", async (req, res) => {\n    try {\n      const { key } = req.params;\n      const setting = await dbStorage.getUiSetting(key);\n      if (!setting) {\n        return res.status(404).json({ message: \"Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯\" });\n      }\n      res.json(setting);\n    } catch (error) {\n      console.error('Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©:', error);\n      res.status(500).json({ message: \"Failed to fetch UI setting\" });\n    }\n  });\n\n  app.put(\"/api/ui-settings/:key\", async (req, res) => {\n    try {\n      const { key } = req.params;\n      const { value } = req.body;\n      \n      if (!value) {\n        return res.status(400).json({ message: \"Ù‚ÙŠÙ…Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ Ù…Ø·Ù„ÙˆØ¨Ø©\" });\n      }\n\n      const updated = await dbStorage.updateUiSetting(key, value);\n      if (!updated) {\n        return res.status(404).json({ message: \"Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯\" });\n      }\n      \n      res.json(updated);\n    } catch (error) {\n      console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©:', error);\n      res.status(500).json({ message: \"Failed to update UI setting\" });\n    }\n  });\n\n  // Driver-specific endpoints\n  app.get(\"/api/drivers/:id/orders\", async (req, res) => {\n    try {\n      const { id } = req.params;\n      const { status } = req.query;\n      \n      const db = dbStorage.db;\n      let driverOrders;\n      \n      if (status) {\n        driverOrders = await db.select().from(orders).where(and(eq(orders.driverId, id), eq(orders.status, status as string))).orderBy(desc(orders.createdAt));\n      } else {\n        driverOrders = await db.select().from(orders).where(eq(orders.driverId, id)).orderBy(desc(orders.createdAt));\n      }\n      \n      res.json(driverOrders);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch driver orders\" });\n    }\n  });\n\n  app.put(\"/api/drivers/:id/status\", async (req, res) => {\n    try {\n      const { id } = req.params;\n      const { status, latitude, longitude } = req.body;\n      \n      const driver = await dbStorage.updateDriver(id, {\n        isAvailable: status === 'available',\n        currentLocation: latitude && longitude ? `${latitude},${longitude}` : undefined,\n      });\n      \n      if (!driver) {\n        return res.status(404).json({ message: \"Driver not found\" });\n      }\n      \n      res.json(driver);\n    } catch (error) {\n      res.status(400).json({ message: \"Failed to update driver status\" });\n    }\n  });\n\n  app.post(\"/api/drivers/:id/accept-order\", async (req, res) => {\n    try {\n      const { id: driverId } = req.params;\n      const { orderId } = req.body;\n      \n      // Update order status and assign driver\n      const db = dbStorage.db;\n      const [updatedOrder] = await db\n        .update(orders)\n        .set({ \n          driverId: driverId,\n          status: 'accepted',\n        })\n        .where(eq(orders.id, orderId))\n        .returning();\n      \n      if (!updatedOrder) {\n        return res.status(404).json({ message: \"Order not found\" });\n      }\n      \n      // Update driver availability\n      await dbStorage.updateDriver(driverId, { isAvailable: false });\n      \n      res.json(updatedOrder);\n    } catch (error) {\n      res.status(400).json({ message: \"Failed to accept order\" });\n    }\n  });\n\n  app.post(\"/api/drivers/:id/complete-order\", async (req, res) => {\n    try {\n      const { id: driverId } = req.params;\n      const { orderId } = req.body;\n      \n      // Update order status\n      const db = dbStorage.db;\n      const [updatedOrder] = await db\n        .update(orders)\n        .set({ \n          status: 'delivered',\n        })\n        .where(eq(orders.id, orderId))\n        .returning();\n      \n      if (!updatedOrder) {\n        return res.status(404).json({ message: \"Order not found\" });\n      }\n      \n      // Update driver availability\n      await dbStorage.updateDriver(driverId, { isAvailable: true });\n      \n      res.json(updatedOrder);\n    } catch (error) {\n      res.status(400).json({ message: \"Failed to complete order\" });\n    }\n  });\n\n  app.get(\"/api/drivers/:id/stats\", async (req, res) => {\n    try {\n      const { id } = req.params;\n      const { period = 'today' } = req.query;\n      \n      let startDate: Date;\n      const endDate = new Date();\n      \n      switch (period) {\n        case 'today':\n          startDate = new Date();\n          startDate.setHours(0, 0, 0, 0);\n          break;\n        case 'week':\n          startDate = new Date();\n          startDate.setDate(startDate.getDate() - 7);\n          break;\n        case 'month':\n          startDate = new Date();\n          startDate.setMonth(startDate.getMonth() - 1);\n          break;\n        default:\n          startDate = new Date();\n          startDate.setHours(0, 0, 0, 0);\n      }\n      \n      const db = dbStorage.db;\n      const driverOrders = await db\n        .select()\n        .from(orders)\n        .where(\n          and(\n            eq(orders.driverId, id),\n            eq(orders.status, 'delivered'),\n            gte(orders.createdAt, startDate),\n            lte(orders.createdAt, endDate)\n          )\n        );\n      \n      const totalEarnings = driverOrders.reduce((sum: number, order: any) => {\n        return sum + (parseFloat(order.totalAmount) || 0);\n      }, 0);\n      \n      const stats = {\n        totalOrders: driverOrders.length,\n        totalEarnings,\n        avgOrderValue: driverOrders.length > 0 ? totalEarnings / driverOrders.length : 0,\n        period,\n        startDate,\n        endDate\n      };\n      \n      res.json(stats);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch driver stats\" });\n    }\n  });\n\n  app.get(\"/api/drivers/:id/available-orders\", async (req, res) => {\n    try {\n      const { id } = req.params;\n      \n      // Get orders that are pending and near the driver's location\n      const db = dbStorage.db;\n      const availableOrders = await db\n        .select({\n          id: orders.id,\n          totalAmount: orders.totalAmount,\n          status: orders.status,\n          createdAt: orders.createdAt,\n          deliveryAddress: orders.deliveryAddress,\n          restaurantId: orders.restaurantId,\n          customerName: orders.customerName,\n        })\n        .from(orders)\n        .where(\n          and(\n            eq(orders.status, 'pending'),\n            isNull(orders.driverId)\n          )\n        )\n        .orderBy(desc(orders.createdAt))\n        .limit(10);\n      \n      res.json(availableOrders);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch available orders\" });\n    }\n  });\n\n  // ================= RESTAURANT SECTIONS API =================\n  app.get(\"/api/restaurants/:restaurantId/sections\", async (req, res) => {\n    try {\n      const { restaurantId } = req.params;\n      const sections = await dbStorage.getRestaurantSections(restaurantId);\n      res.json(sections);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch restaurant sections\" });\n    }\n  });\n\n  app.post(\"/api/restaurants/:restaurantId/sections\", async (req, res) => {\n    try {\n      const { restaurantId } = req.params;\n      const validatedData = insertRestaurantSectionSchema.parse({\n        ...req.body,\n        restaurantId\n      });\n      const section = await dbStorage.createRestaurantSection(validatedData);\n      res.status(201).json(section);\n    } catch (error) {\n      res.status(400).json({ message: \"Invalid section data\" });\n    }\n  });\n\n  app.put(\"/api/restaurant-sections/:id\", async (req, res) => {\n    try {\n      const { id } = req.params;\n      const validatedData = insertRestaurantSectionSchema.partial().parse(req.body);\n      const section = await dbStorage.updateRestaurantSection(id, validatedData);\n      if (!section) {\n        return res.status(404).json({ message: \"Section not found\" });\n      }\n      res.json(section);\n    } catch (error) {\n      res.status(400).json({ message: \"Invalid section data\" });\n    }\n  });\n\n  app.delete(\"/api/restaurant-sections/:id\", async (req, res) => {\n    try {\n      const { id } = req.params;\n      const success = await dbStorage.deleteRestaurantSection(id);\n      if (!success) {\n        return res.status(404).json({ message: \"Section not found\" });\n      }\n      res.json({ message: \"Section deleted successfully\" });\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to delete section\" });\n    }\n  });\n\n  // ================= RATINGS & REVIEWS API =================\n  app.get(\"/api/ratings\", async (req, res) => {\n    try {\n      const { restaurantId, approved } = req.query;\n      const ratings = await dbStorage.getRatings(restaurantId as string, approved === 'true');\n      res.json(ratings);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch ratings\" });\n    }\n  });\n\n  app.post(\"/api/ratings\", async (req, res) => {\n    try {\n      const validatedData = insertRatingSchema.parse(req.body);\n      const rating = await dbStorage.createRating(validatedData);\n      res.status(201).json(rating);\n    } catch (error) {\n      res.status(400).json({ message: \"Invalid rating data\" });\n    }\n  });\n\n  app.put(\"/api/ratings/:id/approve\", async (req, res) => {\n    try {\n      const { id } = req.params;\n      const { approved } = req.body;\n      const rating = await dbStorage.updateRating(id, { isApproved: approved });\n      if (!rating) {\n        return res.status(404).json({ message: \"Rating not found\" });\n      }\n      res.json(rating);\n    } catch (error) {\n      res.status(400).json({ message: \"Failed to update rating\" });\n    }\n  });\n\n  app.delete(\"/api/ratings/:id\", async (req, res) => {\n    try {\n      const { id } = req.params;\n      const success = await dbStorage.deleteRating(id);\n      if (!success) {\n        return res.status(404).json({ message: \"Rating not found\" });\n      }\n      res.json({ message: \"Rating deleted successfully\" });\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to delete rating\" });\n    }\n  });\n\n  // ================= NOTIFICATIONS API =================\n  app.get(\"/api/notifications\", async (req, res) => {\n    try {\n      const { recipientType, recipientId, unread } = req.query;\n      const notifications = await dbStorage.getNotifications(\n        recipientType as string, \n        recipientId as string, \n        unread === 'true'\n      );\n      res.json(notifications);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch notifications\" });\n    }\n  });\n\n  app.post(\"/api/notifications\", async (req, res) => {\n    try {\n      const validatedData = insertNotificationSchema.parse(req.body);\n      const notification = await dbStorage.createNotification(validatedData);\n      res.status(201).json(notification);\n    } catch (error) {\n      res.status(400).json({ message: \"Invalid notification data\" });\n    }\n  });\n\n  app.put(\"/api/notifications/:id/read\", async (req, res) => {\n    try {\n      const { id } = req.params;\n      const notification = await dbStorage.markNotificationAsRead(id);\n      if (!notification) {\n        return res.status(404).json({ message: \"Notification not found\" });\n      }\n      res.json(notification);\n    } catch (error) {\n      res.status(400).json({ message: \"Failed to update notification\" });\n    }\n  });\n\n  // ================= WALLET & PAYMENTS API =================\n  app.get(\"/api/wallets/:phone\", async (req, res) => {\n    try {\n      const { phone } = req.params;\n      const wallet = await dbStorage.getWallet(phone);\n      res.json(wallet);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch wallet\" });\n    }\n  });\n\n  app.post(\"/api/wallets\", async (req, res) => {\n    try {\n      const validatedData = insertWalletSchema.parse(req.body);\n      const wallet = await dbStorage.createWallet(validatedData);\n      res.status(201).json(wallet);\n    } catch (error) {\n      res.status(400).json({ message: \"Invalid wallet data\" });\n    }\n  });\n\n  app.post(\"/api/wallet-transactions\", async (req, res) => {\n    try {\n      const validatedData = insertWalletTransactionSchema.parse(req.body);\n      const transaction = await dbStorage.createWalletTransaction(validatedData);\n      res.status(201).json(transaction);\n    } catch (error) {\n      res.status(400).json({ message: \"Invalid transaction data\" });\n    }\n  });\n\n  app.get(\"/api/wallets/:phone/transactions\", async (req, res) => {\n    try {\n      const { phone } = req.params;\n      const transactions = await dbStorage.getWalletTransactions(phone);\n      res.json(transactions);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch transactions\" });\n    }\n  });\n\n  // ================= SYSTEM SETTINGS API =================\n  app.get(\"/api/system-settings\", async (req, res) => {\n    try {\n      const { category } = req.query;\n      const settings = await dbStorage.getSystemSettings(category as string);\n      res.json(settings);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch system settings\" });\n    }\n  });\n\n  app.put(\"/api/system-settings/:key\", async (req, res) => {\n    try {\n      const { key } = req.params;\n      const { value } = req.body;\n      const setting = await dbStorage.updateSystemSetting(key, value);\n      if (!setting) {\n        return res.status(404).json({ message: \"Setting not found\" });\n      }\n      res.json(setting);\n    } catch (error) {\n      res.status(400).json({ message: \"Failed to update setting\" });\n    }\n  });\n\n  // ================= RESTAURANT EARNINGS API =================\n  app.get(\"/api/restaurant-earnings\", async (req, res) => {\n    try {\n      const earnings = await dbStorage.getRestaurantEarnings();\n      res.json(earnings);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch restaurant earnings\" });\n    }\n  });\n\n  app.get(\"/api/restaurant-earnings/:restaurantId\", async (req, res) => {\n    try {\n      const { restaurantId } = req.params;\n      const earnings = await dbStorage.getRestaurantEarningsByRestaurant(restaurantId);\n      res.json(earnings);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch restaurant earnings\" });\n    }\n  });\n\n  app.post(\"/api/restaurant-earnings\", async (req, res) => {\n    try {\n      const validatedData = insertRestaurantEarningsSchema.parse(req.body);\n      const earnings = await dbStorage.createRestaurantEarnings(validatedData);\n      res.status(201).json(earnings);\n    } catch (error) {\n      res.status(400).json({ message: \"Invalid earnings data\" });\n    }\n  });\n\n  app.put(\"/api/restaurant-earnings/:id\", async (req, res) => {\n    try {\n      const { id } = req.params;\n      const validatedData = insertRestaurantEarningsSchema.partial().parse(req.body);\n      const earnings = await dbStorage.updateRestaurantEarnings(id, validatedData);\n      if (!earnings) {\n        return res.status(404).json({ message: \"Earnings not found\" });\n      }\n      res.json(earnings);\n    } catch (error) {\n      res.status(400).json({ message: \"Invalid earnings data\" });\n    }\n  });\n\n  // ================= ANALYTICS & REPORTS API =================\n  app.get(\"/api/analytics/dashboard\", async (req, res) => {\n    try {\n      const analytics = await dbStorage.getDashboardAnalytics();\n      res.json(analytics);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch analytics\" });\n    }\n  });\n\n  app.get(\"/api/analytics/sales-report\", async (req, res) => {\n    try {\n      const { startDate, endDate, restaurantId } = req.query;\n      const report = await dbStorage.getSalesReport(\n        startDate as string, \n        endDate as string, \n        restaurantId as string\n      );\n      res.json(report);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch sales report\" });\n    }\n  });\n\n  app.get(\"/api/analytics/driver-performance\", async (req, res) => {\n    try {\n      const { startDate, endDate } = req.query;\n      const performance = await dbStorage.getDriverPerformance(\n        startDate as string, \n        endDate as string\n      );\n      res.json(performance);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch driver performance\" });\n    }\n  });\n\n  // ================= ADVANCED ORDER MANAGEMENT =================\n  app.put(\"/api/orders/:id/assign-driver\", async (req, res) => {\n    try {\n      const { id } = req.params;\n      const { driverId } = req.body;\n      \n      // Update order with driver\n      const order = await dbStorage.updateOrder(id, { \n        driverId,\n        status: 'assigned',\n        updatedAt: new Date()\n      });\n      \n      if (!order) {\n        return res.status(404).json({ message: \"Order not found\" });\n      }\n      \n      // Create notification for driver\n      await dbStorage.createNotification({\n        type: 'order',\n        title: 'Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯',\n        message: `ØªÙ… ØªÙƒÙ„ÙŠÙÙƒ Ø¨Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ Ø±Ù‚Ù… ${id.slice(0, 8)}`,\n        recipientType: 'driver',\n        recipientId: driverId,\n        orderId: id\n      });\n      \n      res.json(order);\n    } catch (error) {\n      res.status(400).json({ message: \"Failed to assign driver\" });\n    }\n  });\n\n  app.get(\"/api/orders/track/:id\", async (req, res) => {\n    try {\n      const { id } = req.params;\n      const order = await dbStorage.getOrder(id);\n      if (!order) {\n        return res.status(404).json({ message: \"Order not found\" });\n      }\n      \n      let driverLocation = null;\n      if (order.driverId) {\n        const driver = await dbStorage.getDriver(order.driverId);\n        if (driver) {\n          driverLocation = driver.currentLocation;\n        }\n      }\n      \n      res.json({\n        ...order,\n        driverLocation\n      });\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to track order\" });\n    }\n  });\n\n  // Search Routes\n  app.get(\"/api/search\", async (req, res) => {\n    try {\n      const { q: query, category } = req.query;\n      \n      if (!query) {\n        return res.status(400).json({ error: \"Query parameter is required\" });\n      }\n\n      const searchTerm = `%${query}%`;\n      \n      const restaurants = await dbStorage.searchRestaurants(searchTerm, category as string);\n      const categories = await dbStorage.searchCategories(searchTerm);\n      const menuItems = await dbStorage.searchMenuItems(searchTerm);\n\n      res.json({\n        restaurants,\n        categories,\n        menuItems,\n        total: restaurants.length + categories.length + menuItems.length\n      });\n    } catch (error) {\n      console.error(\"Search error:\", error);\n      res.status(500).json({ error: \"Internal server error\" });\n    }\n  });\n\n  const httpServer = createServer(app);\n  return httpServer;\n}\n","size_bytes":34015},"server/storage.ts":{"content":"import { \n  type Category, type InsertCategory,\n  type Restaurant, type InsertRestaurant,\n  type MenuItem, type InsertMenuItem,\n  type Order, type InsertOrder,\n  type Driver, type InsertDriver,\n  type SpecialOffer, type InsertSpecialOffer,\n  type User, type InsertUser,\n  type UiSettings, type InsertUiSettings\n} from \"../shared/schema\";\nimport { randomUUID } from \"crypto\";\n\nexport interface IStorage {\n  // Users\n  getUser(id: string): Promise<User | undefined>;\n  getUserByUsername(username: string): Promise<User | undefined>;\n  createUser(user: InsertUser): Promise<User>;\n  updateUser(id: string, user: Partial<InsertUser>): Promise<User | undefined>;\n\n  // Categories\n  getCategories(): Promise<Category[]>;\n  createCategory(category: InsertCategory): Promise<Category>;\n  updateCategory(id: string, category: Partial<InsertCategory>): Promise<Category | undefined>;\n  deleteCategory(id: string): Promise<boolean>;\n\n  // Restaurants\n  getRestaurants(): Promise<Restaurant[]>;\n  getRestaurant(id: string): Promise<Restaurant | undefined>;\n  getRestaurantsByCategory(categoryId: string): Promise<Restaurant[]>;\n  createRestaurant(restaurant: InsertRestaurant): Promise<Restaurant>;\n  updateRestaurant(id: string, restaurant: Partial<InsertRestaurant>): Promise<Restaurant | undefined>;\n  deleteRestaurant(id: string): Promise<boolean>;\n\n  // Menu Items\n  getMenuItems(restaurantId: string): Promise<MenuItem[]>;\n  getMenuItem(id: string): Promise<MenuItem | undefined>;\n  createMenuItem(menuItem: InsertMenuItem): Promise<MenuItem>;\n  updateMenuItem(id: string, menuItem: Partial<InsertMenuItem>): Promise<MenuItem | undefined>;\n  deleteMenuItem(id: string): Promise<boolean>;\n\n  // Orders\n  getOrders(): Promise<Order[]>;\n  getOrder(id: string): Promise<Order | undefined>;\n  getOrdersByRestaurant(restaurantId: string): Promise<Order[]>;\n  createOrder(order: InsertOrder): Promise<Order>;\n  updateOrder(id: string, order: Partial<InsertOrder>): Promise<Order | undefined>;\n\n  // Drivers\n  getDrivers(): Promise<Driver[]>;\n  getDriver(id: string): Promise<Driver | undefined>;\n  getAvailableDrivers(): Promise<Driver[]>;\n  createDriver(driver: InsertDriver): Promise<Driver>;\n  updateDriver(id: string, driver: Partial<InsertDriver>): Promise<Driver | undefined>;\n  deleteDriver(id: string): Promise<boolean>;\n\n  // Special Offers\n  getSpecialOffers(): Promise<SpecialOffer[]>;\n  getActiveSpecialOffers(): Promise<SpecialOffer[]>;\n  createSpecialOffer(offer: InsertSpecialOffer): Promise<SpecialOffer>;\n  updateSpecialOffer(id: string, offer: Partial<InsertSpecialOffer>): Promise<SpecialOffer | undefined>;\n  deleteSpecialOffer(id: string): Promise<boolean>;\n\n  // UI Settings\n  getUiSettings?(): Promise<UiSettings[]>;\n  getUiSetting?(key: string): Promise<UiSettings | undefined>;\n  updateUiSetting?(key: string, value: string): Promise<UiSettings | undefined>;\n  createUiSetting?(setting: InsertUiSettings): Promise<UiSettings>;\n  deleteUiSetting?(key: string): Promise<boolean>;\n}\n\nexport class MemStorage implements IStorage {\n  private users: Map<string, User>;\n  private categories: Map<string, Category>;\n  private restaurants: Map<string, Restaurant>;\n  private menuItems: Map<string, MenuItem>;\n  private orders: Map<string, Order>;\n  private drivers: Map<string, Driver>;\n  private specialOffers: Map<string, SpecialOffer>;\n\n  constructor() {\n    this.users = new Map();\n    this.categories = new Map();\n    this.restaurants = new Map();\n    this.menuItems = new Map();\n    this.orders = new Map();\n    this.drivers = new Map();\n    this.specialOffers = new Map();\n    \n    this.initializeData();\n  }\n\n  private initializeData() {\n    // Initialize categories\n    const categories = [\n      { id: \"1\", name: \"Ù…Ø·Ø§Ø¹Ù…\", icon: \"fas fa-utensils\", isActive: true },\n      { id: \"2\", name: \"Ù…Ù‚Ø§Ù‡ÙŠ\", icon: \"fas fa-coffee\", isActive: true },\n      { id: \"3\", name: \"Ø­Ù„ÙˆÙŠØ§Øª\", icon: \"fas fa-candy-cane\", isActive: true },\n      { id: \"4\", name: \"Ø³ÙˆØ¨Ø±Ù…Ø§Ø±ÙƒØª\", icon: \"fas fa-shopping-cart\", isActive: true },\n      { id: \"5\", name: \"ØµÙŠØ¯Ù„ÙŠØ§Øª\", icon: \"fas fa-pills\", isActive: true },\n    ];\n\n    categories.forEach(cat => this.categories.set(cat.id, cat));\n\n    // Initialize restaurants\n const restaurants = [\n      {\n        id: \"1\",\n        name: \"Ù…Ø·Ø¹Ù… Ø§Ù„ÙˆØ²ÙŠÙƒÙˆ Ù„Ù„Ø¹Ø±Ø¨ÙƒØ©\",\n        description: \"Ù…Ø·Ø¹Ù… ÙŠÙ…Ù†ÙŠ ØªÙ‚Ù„ÙŠØ¯ÙŠ Ù…ØªØ®ØµØµ ÙÙŠ Ø§Ù„Ø£Ø·Ø¨Ø§Ù‚ Ø§Ù„Ø´Ø¹Ø¨ÙŠØ©\",\n        image: \"https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=400\",\n        rating: \"4.8\",\n        reviewCount: 4891,\n        deliveryTime: \"40-60 Ø¯Ù‚ÙŠÙ‚Ø©\",\n        isOpen: true,\n        minimumOrder: \"25\", // ØªØºÙŠÙŠØ± Ø¥Ù„Ù‰ string\n        deliveryFee: \"5\", // ØªØºÙŠÙŠØ± Ø¥Ù„Ù‰ string\n        categoryId: \"1\",\n        openingTime: \"08:00\",\n        closingTime: \"23:00\",\n        workingDays: \"0,1,2,3,4,5,6\",\n        isTemporarilyClosed: false,\n        temporaryCloseReason: null,\n        createdAt: new Date(),\n      },\n      {\n        id: \"2\",\n        name: \"Ø­Ù„ÙˆÙŠØ§Øª Ø§Ù„Ø´Ø§Ù…\",\n        description: \"Ø£ÙØ¶Ù„ Ø§Ù„Ø­Ù„ÙˆÙŠØ§Øª Ø§Ù„Ø´Ø§Ù…ÙŠØ© ÙˆØ§Ù„Ø¹Ø±Ø¨ÙŠØ©\",\n        image: \"https://images.unsplash.com/photo-1558618666-fcd25c85cd64?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=400\",\n        rating: \"4.6\",\n        reviewCount: 2341,\n        deliveryTime: \"30-45 Ø¯Ù‚ÙŠÙ‚Ø©\",\n        isOpen: true,\n        minimumOrder: \"15\", // ØªØºÙŠÙŠØ± Ø¥Ù„Ù‰ string\n        deliveryFee: \"3\", // ØªØºÙŠÙŠØ± Ø¥Ù„Ù‰ string\n        categoryId: \"3\",\n        openingTime: \"08:00\",\n        closingTime: \"23:00\",\n        workingDays: \"0,1,2,3,4,5,6\",\n        isTemporarilyClosed: false,\n        temporaryCloseReason: null,\n        createdAt: new Date(),\n      },\n      {\n        id: \"3\",\n        name: \"Ù…Ù‚Ù‡Ù‰ Ø§Ù„Ø¹Ø±ÙˆØ¨Ø©\",\n        description: \"Ù…Ù‚Ù‡Ù‰ Ø´Ø¹Ø¨ÙŠ Ø¨Ø§Ù„Ø·Ø§Ø¨Ø¹ Ø§Ù„Ø¹Ø±Ø¨ÙŠ Ø§Ù„Ø£ØµÙŠÙ„\",\n        image: \"https://images.unsplash.com/photo-1442512595331-e89e73853f31?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=400\",\n        rating: \"4.5\",\n        reviewCount: 1876,\n        deliveryTime: \"ÙŠÙØªØ­ ÙÙŠ 8:00 Øµ\",\n        isOpen: false,\n        minimumOrder: \"20\", // ØªØºÙŠÙŠØ± Ø¥Ù„Ù‰ string\n        deliveryFee: \"4\", // ØªØºÙŠÙŠØ± Ø¥Ù„Ù‰ string\n        categoryId: \"2\",\n        openingTime: \"08:00\",\n        closingTime: \"23:00\",\n        workingDays: \"0,1,2,3,4,5,6\",\n        isTemporarilyClosed: false,\n        temporaryCloseReason: null,\n        createdAt: new Date(),\n      }\n    ];\n\n    restaurants.forEach(restaurant => this.restaurants.set(restaurant.id, restaurant));\n\n    // Initialize menu items\n   const menuItems = [\n      {\n        id: \"1\",\n        name: \"Ø¹Ø±Ø¨ÙƒØ© Ø¨Ø§Ù„Ù‚Ø´Ø·Ø© ÙˆØ§Ù„Ø¹Ø³Ù„\",\n        description: \"Ø­Ù„ÙˆÙ‰ ÙŠÙ…Ù†ÙŠØ© ØªÙ‚Ù„ÙŠØ¯ÙŠØ© Ø¨Ø§Ù„Ù‚Ø´Ø·Ø© Ø§Ù„Ø·Ø§Ø²Ø¬Ø© ÙˆØ§Ù„Ø¹Ø³Ù„ Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠ\",\n        price: \"55\", // ØªØºÙŠÙŠØ± Ø¥Ù„Ù‰ string\n        image: \"https://images.unsplash.com/photo-1551024506-0bccd828d307?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&h=200\",\n        category: \"ÙˆØ¬Ø¨Ø§Øª Ø±Ù…Ø¶Ø§Ù†\",\n        isAvailable: true,\n        isSpecialOffer: false,\n        originalPrice: null,\n        restaurantId: \"1\",\n      },\n      {\n        id: \"2\",\n        name: \"Ù…Ø¹ØµÙˆØ¨ Ø¨Ø§Ù„Ù‚Ø´Ø·Ø© ÙˆØ§Ù„Ø¹Ø³Ù„\",\n        description: \"Ø·Ø¨Ù‚ ÙŠÙ…Ù†ÙŠ Ø´Ø¹Ø¨ÙŠ Ø¨Ø§Ù„Ù…ÙˆØ² ÙˆØ§Ù„Ù‚Ø´Ø·Ø© ÙˆØ§Ù„Ø¹Ø³Ù„\",\n        price: \"55\", // ØªØºÙŠÙŠØ± Ø¥Ù„Ù‰ string\n        image: \"https://images.unsplash.com/photo-1565299507177-b0ac66763828?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&h=200\",\n        category: \"ÙˆØ¬Ø¨Ø§Øª Ø±Ù…Ø¶Ø§Ù†\",\n        isAvailable: true,\n        isSpecialOffer: false,\n        originalPrice: null,\n        restaurantId: \"1\",\n      },\n      {\n        id: \"3\",\n        name: \"Ù…ÙŠØ§Ù‡ Ù…Ø¹Ø¯Ù†ÙŠØ© 750 Ù…Ù„\",\n        description: \"Ù…ÙŠØ§Ù‡ Ø·Ø¨ÙŠØ¹ÙŠØ© Ù…Ø¹Ø¯Ù†ÙŠØ© Ø¹Ø§Ù„ÙŠØ© Ø§Ù„Ø¬ÙˆØ¯Ø©\",\n        price: \"3\", // ØªØºÙŠÙŠØ± Ø¥Ù„Ù‰ string\n        image: \"https://images.unsplash.com/photo-1559839734-2b71ea197ec2?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&h=200\",\n        category: \"Ø§Ù„Ù…Ø´Ø±ÙˆØ¨Ø§Øª\",\n        isAvailable: true,\n        isSpecialOffer: false,\n        originalPrice: null,\n        restaurantId: \"1\",\n      },\n      {\n        id: \"4\",\n        name: \"ÙƒÙˆÙ…Ø¨Ùˆ Ø¹Ø±Ø¨ÙƒØ© Ø®Ø§Øµ\",\n        description: \"Ø¹Ø±Ø¨ÙƒØ© + Ù…Ø·Ø¨Ù‚ Ø¹Ø§Ø¯ÙŠ + Ù…Ø´Ø±ÙˆØ¨ ØºØ§Ø²ÙŠ\",\n        price: \"55\", // ØªØºÙŠÙŠØ± Ø¥Ù„Ù‰ string\n        originalPrice: \"60\", // ØªØºÙŠÙŠØ± Ø¥Ù„Ù‰ string\n        image: \"https://images.unsplash.com/photo-1565299507177-b0ac66763828?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&h=200\",\n        category: \"Ø§Ù„Ø¹Ø±ÙˆØ¶\",\n        isAvailable: true,\n        isSpecialOffer: true,\n        restaurantId: \"1\",\n      }\n    ];\n\n    menuItems.forEach(item => this.menuItems.set(item.id, item));\n\n    // Initialize drivers\n    const drivers = [\n      {\n        id: \"1\",\n        name: \"Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯\",\n        phone: \"+967771234567\",\n        password: \"password123\",\n        isAvailable: true,\n        isActive: true,\n        currentLocation: \"ØµÙ†Ø¹Ø§Ø¡\",\n        earnings: \"2500\", // ØªØºÙŠÙŠØ± Ø¥Ù„Ù‰ string\n        createdAt: new Date(),\n      },\n      {\n        id: \"2\", \n        name: \"Ø¹Ù„ÙŠ Ø­Ø³Ù†\",\n        phone: \"+967779876543\",\n        password: \"password123\",\n        isAvailable: true,\n        isActive: true,\n        currentLocation: \"ØªØ¹Ø²\",\n        earnings: \"3200\", // ØªØºÙŠÙŠØ± Ø¥Ù„Ù‰ string\n        createdAt: new Date(),\n      }\n    ];\n    drivers.forEach(driver => this.drivers.set(driver.id, driver));\n  }\n\n  // Users\n  async getUser(id: string): Promise<User | undefined> {\n    return this.users.get(id);\n  }\n\n  async getUserByUsername(username: string): Promise<User | undefined> {\n    return Array.from(this.users.values()).find(user => user.username === username);\n  }\n\n  async createUser(insertUser: InsertUser): Promise<User> {\n    const id = randomUUID();\n    const user: User = { \n      ...insertUser, \n      id,\n      name: insertUser.username,\n      phone: null,\n      email: null,\n      address: null,\n      isActive: true,\n      createdAt: new Date()\n    };\n    this.users.set(id, user);\n    return user;\n  }\n\n  async updateUser(id: string, userData: Partial<InsertUser>): Promise<User | undefined> {\n    const existing = this.users.get(id);\n    if (!existing) return undefined;\n    const updated = { ...existing, ...userData };\n    this.users.set(id, updated);\n    return updated;\n  }\n\n  // Categories\n  async getCategories(): Promise<Category[]> {\n    return Array.from(this.categories.values());\n  }\n\n  async createCategory(category: InsertCategory): Promise<Category> {\n    const id = randomUUID();\n    const newCategory: Category = { \n      ...category, \n      id,\n      isActive: category.isActive ?? true \n    };\n    this.categories.set(id, newCategory);\n    return newCategory;\n  }\n\n  async updateCategory(id: string, category: Partial<InsertCategory>): Promise<Category | undefined> {\n    const existing = this.categories.get(id);\n    if (!existing) return undefined;\n    const updated = { ...existing, ...category };\n    this.categories.set(id, updated);\n    return updated;\n  }\n\n  async deleteCategory(id: string): Promise<boolean> {\n    return this.categories.delete(id);\n  }\n\n  // Restaurants\n  async getRestaurants(): Promise<Restaurant[]> {\n    return Array.from(this.restaurants.values());\n  }\n\n  async getRestaurant(id: string): Promise<Restaurant | undefined> {\n    return this.restaurants.get(id);\n  }\n\n  async getRestaurantsByCategory(categoryId: string): Promise<Restaurant[]> {\n    return Array.from(this.restaurants.values()).filter(r => r.categoryId === categoryId);\n  }\n\n  async createRestaurant(restaurant: InsertRestaurant): Promise<Restaurant> {\n  const id = randomUUID();\n  const newRestaurant: Restaurant = { \n    ...restaurant, \n    id, \n    createdAt: new Date(),\n    description: restaurant.description ?? null,\n    rating: restaurant.rating ?? \"0.0\",\n    reviewCount: restaurant.reviewCount ?? 0,\n    isOpen: restaurant.isOpen ?? true,\n    minimumOrder: restaurant.minimumOrder?.toString() ?? \"0\",\n    deliveryFee: restaurant.deliveryFee?.toString() ?? \"0\",\n    categoryId: restaurant.categoryId ?? null,\n    // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø®ØµØ§Ø¦Øµ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ù„Ø¶Ù…Ø§Ù† Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ undefined\n    openingTime: restaurant.openingTime ?? null,\n    closingTime: restaurant.closingTime ?? null,\n    workingDays: restaurant.workingDays ?? null,\n    isTemporarilyClosed: restaurant.isTemporarilyClosed ?? false,\n    temporaryCloseReason: restaurant.temporaryCloseReason ?? null\n  };\n  this.restaurants.set(id, newRestaurant);\n  return newRestaurant;\n}\nasync updateRestaurant(id: string, restaurant: Partial<InsertRestaurant>): Promise<Restaurant | undefined> {\n  const existing = this.restaurants.get(id);\n  if (!existing) return undefined;\n  \n  // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø®ØµØ§Ø¦Øµ Ù„ØªØ¬Ù†Ø¨ undefined\n  const updates: Partial<Restaurant> = {};\n  \n  if (restaurant.openingTime !== undefined) updates.openingTime = restaurant.openingTime ?? null;\n  if (restaurant.closingTime !== undefined) updates.closingTime = restaurant.closingTime ?? null;\n  if (restaurant.workingDays !== undefined) updates.workingDays = restaurant.workingDays ?? null;\n  if (restaurant.isTemporarilyClosed !== undefined) updates.isTemporarilyClosed = restaurant.isTemporarilyClosed;\n  if (restaurant.temporaryCloseReason !== undefined) updates.temporaryCloseReason = restaurant.temporaryCloseReason ?? null;\n  \n  // Ø§Ù„Ø®ØµØ§Ø¦Øµ Ø§Ù„Ø£Ø®Ø±Ù‰\n  if (restaurant.name !== undefined) updates.name = restaurant.name;\n  if (restaurant.description !== undefined) updates.description = restaurant.description ?? null;\n  if (restaurant.image !== undefined) updates.image = restaurant.image;\n  if (restaurant.rating !== undefined) updates.rating = restaurant.rating ?? \"0.0\";\n  if (restaurant.reviewCount !== undefined) updates.reviewCount = restaurant.reviewCount ?? 0;\n  if (restaurant.deliveryTime !== undefined) updates.deliveryTime = restaurant.deliveryTime;\n  if (restaurant.isOpen !== undefined) updates.isOpen = restaurant.isOpen ?? true;\n  if (restaurant.minimumOrder !== undefined) updates.minimumOrder = restaurant.minimumOrder?.toString() ?? \"0\";\n  if (restaurant.deliveryFee !== undefined) updates.deliveryFee = restaurant.deliveryFee?.toString() ?? \"0\";\n  if (restaurant.categoryId !== undefined) updates.categoryId = restaurant.categoryId ?? null;\n  \n  const updated = { ...existing, ...updates };\n  this.restaurants.set(id, updated);\n  return updated;\n}\n\n  async deleteRestaurant(id: string): Promise<boolean> {\n    return this.restaurants.delete(id);\n  }\n\n  // Menu Items\n  async getMenuItems(restaurantId: string): Promise<MenuItem[]> {\n    return Array.from(this.menuItems.values()).filter(item => item.restaurantId === restaurantId);\n  }\n\n  async getMenuItem(id: string): Promise<MenuItem | undefined> {\n    return this.menuItems.get(id);\n  }\n\n  async createMenuItem(menuItem: InsertMenuItem): Promise<MenuItem> {\n    const id = randomUUID();\n    const newMenuItem: MenuItem = { \n      ...menuItem, \n      id,\n      description: menuItem.description ?? null,\n      isAvailable: menuItem.isAvailable ?? true,\n      isSpecialOffer: menuItem.isSpecialOffer ?? false,\n      originalPrice: menuItem.originalPrice ?? null,\n      restaurantId: menuItem.restaurantId ?? null\n    };\n    this.menuItems.set(id, newMenuItem);\n    return newMenuItem;\n  }\n\n  async updateMenuItem(id: string, menuItem: Partial<InsertMenuItem>): Promise<MenuItem | undefined> {\n    const existing = this.menuItems.get(id);\n    if (!existing) return undefined;\n    const updated = { ...existing, ...menuItem };\n    this.menuItems.set(id, updated);\n    return updated;\n  }\n\n  async deleteMenuItem(id: string): Promise<boolean> {\n    return this.menuItems.delete(id);\n  }\n\n  // Orders\n  async getOrders(): Promise<Order[]> {\n    return Array.from(this.orders.values());\n  }\n\n  async getOrder(id: string): Promise<Order | undefined> {\n    return this.orders.get(id);\n  }\n\n  async getOrdersByRestaurant(restaurantId: string): Promise<Order[]> {\n    return Array.from(this.orders.values()).filter(order => order.restaurantId === restaurantId);\n  }\n\n  async createOrder(order: InsertOrder): Promise<Order> {\n    const id = randomUUID();\n    const newOrder: Order = { \n      ...order, \n      id, \n      createdAt: new Date(),\n      customerEmail: order.customerEmail ?? null,\n      notes: order.notes ?? null,\n      status: order.status ?? \"pending\",\n      estimatedTime: order.estimatedTime ?? \"30-45 Ø¯Ù‚ÙŠÙ‚Ø©\",\n      restaurantId: order.restaurantId ?? null,\n      driverId: order.driverId ?? null,\n      updatedAt: new Date()\n    };\n    this.orders.set(id, newOrder);\n    return newOrder;\n  }\n\n  async updateOrder(id: string, order: Partial<InsertOrder>): Promise<Order | undefined> {\n    const existing = this.orders.get(id);\n    if (!existing) return undefined;\n    const updated = { ...existing, ...order };\n    this.orders.set(id, updated);\n    return updated;\n  }\n\n  // Drivers\n  async getDrivers(): Promise<Driver[]> {\n    return Array.from(this.drivers.values());\n  }\n\n  async getDriver(id: string): Promise<Driver | undefined> {\n    return this.drivers.get(id);\n  }\n\n  async getAvailableDrivers(): Promise<Driver[]> {\n    return Array.from(this.drivers.values()).filter(driver => driver.isAvailable && driver.isActive);\n  }\n\n async createDriver(driver: InsertDriver): Promise<Driver> {\n    const id = randomUUID();\n    const newDriver: Driver = { \n      ...driver, \n      id, \n      createdAt: new Date(),\n      isActive: driver.isActive ?? true,\n      isAvailable: driver.isAvailable ?? true,\n      currentLocation: driver.currentLocation ?? null,\n      earnings: driver.earnings?.toString() ?? \"0\" // ØªØ­ÙˆÙŠÙ„ Ø¥Ù„Ù‰ string\n    };\n    this.drivers.set(id, newDriver);\n    return newDriver;\n  }\n\n  async updateDriver(id: string, driver: Partial<InsertDriver>): Promise<Driver | undefined> {\n    const existing = this.drivers.get(id);\n    if (!existing) return undefined;\n    const updated = { ...existing, ...driver };\n    this.drivers.set(id, updated);\n    return updated;\n  }\n\n  async deleteDriver(id: string): Promise<boolean> {\n    return this.drivers.delete(id);\n  }\n\n  // Special Offers\n  async getSpecialOffers(): Promise<SpecialOffer[]> {\n    return Array.from(this.specialOffers.values());\n  }\n\n  async getActiveSpecialOffers(): Promise<SpecialOffer[]> {\n    return Array.from(this.specialOffers.values()).filter(offer => offer.isActive);\n  }\n\n\n  async createSpecialOffer(offer: InsertSpecialOffer): Promise<SpecialOffer> {\n    const id = randomUUID();\n    const newOffer: SpecialOffer = { \n      ...offer, \n      id, \n      createdAt: new Date(),\n      isActive: offer.isActive ?? true,\n      minimumOrder: offer.minimumOrder?.toString() ?? \"0\", // ØªØ­ÙˆÙŠÙ„ Ø¥Ù„Ù‰ string\n      discountPercent: offer.discountPercent ?? null,\n      discountAmount: offer.discountAmount?.toString() ?? null, // ØªØ­ÙˆÙŠÙ„ Ø¥Ù„Ù‰ string\n      validUntil: offer.validUntil ?? null\n    };\n    this.specialOffers.set(id, newOffer);\n    return newOffer;\n  }\n\n  async updateSpecialOffer(id: string, offer: Partial<InsertSpecialOffer>): Promise<SpecialOffer | undefined> {\n    const existing = this.specialOffers.get(id);\n    if (!existing) return undefined;\n    const updated = { ...existing, ...offer };\n    this.specialOffers.set(id, updated);\n    return updated;\n  }\n\n  async deleteSpecialOffer(id: string): Promise<boolean> {\n    return this.specialOffers.delete(id);\n  }\n}\n\nimport { dbStorage } from './db';\nexport const storage = dbStorage;","size_bytes":19518},"server/vite.ts":{"content":"import { createServer } from \"vite\";\nimport express, { type Express } from \"express\";\nimport fs from \"fs\";\nimport path from \"path\";\nimport { type Server } from \"http\";\nimport viteConfig from \"../vite.config\";\nimport { nanoid } from \"nanoid\";\nimport { fileURLToPath } from \"url\";\n\nconst __dirname = path.dirname(fileURLToPath(import.meta.url));\n\nexport function log(message: string, source = \"express\") {\n  const formattedTime = new Date().toLocaleTimeString(\"en-US\", {\n    hour: \"numeric\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    hour12: true,\n  });\n  console.log(`${formattedTime} [${source}] ${message}`);\n}\n\nexport async function setupVite(app: Express, server: Server) {\n  const serverOptions = {\n    middlewareMode: true,\n    hmr: { server },\n    allowedHosts: true,\n  };\n\n  // Ø¥Ù†Ø´Ø§Ø¡ Vite server\n  const viteServer = await createServer({\n    ...viteConfig,\n    configFile: path.resolve(__dirname, \"..\", \"client\", \"vite.config.ts\"),\n    server: serverOptions,\n    appType: \"custom\",\n    root: path.resolve(__dirname, \"..\", \"client\"),\n  });\n\n  app.use(viteServer.middlewares);\n  app.use(\"*\", async (req, res, next) => {\n    const url = req.originalUrl;\n    try {\n      const clientTemplate = path.resolve(\n        __dirname,\n        \"..\",\n        \"client\",\n        \"index.html\",\n      );\n      let template = await fs.promises.readFile(clientTemplate, \"utf-8\");\n      template = template.replace(\n        `src=\"/src/main.tsx\"`,\n        `src=\"/src/main.tsx?v=${nanoid()}\"`,\n      );\n      const page = await viteServer.transformIndexHtml(url, template);\n      res.status(200).set({ \"Content-Type\": \"text/html\" }).end(page);\n    } catch (e) {\n      viteServer.ssrFixStacktrace(e as Error);\n      next(e);\n    }\n  });\n}\n\nexport function serveStatic(app: Express) {\n  const distPath = path.resolve(__dirname, \"public\");\n  if (!fs.existsSync(distPath)) {\n    throw new Error(\n      `Could not find the build directory: ${distPath}, make sure to build the client first`,\n    );\n  }\n  app.use(express.static(distPath));\n  app.use(\"*\", (_req, res) => {\n    res.sendFile(path.resolve(distPath, \"index.html\"));\n  });\n}\n","size_bytes":2127},"shared/schema.ts":{"content":"import { pgTable, text, uuid, timestamp, boolean, integer, decimal, varchar } from \"drizzle-orm/pg-core\";\nimport { createInsertSchema, createSelectSchema } from \"drizzle-zod\";\nimport { z } from \"zod\";\n\n// Users table (customers)\nexport const users = pgTable(\"users\", {\n  id: uuid(\"id\").primaryKey().defaultRandom(),\n  username: varchar(\"username\", { length: 50 }).notNull().unique(),\n  password: text(\"password\").notNull(),\n  name: text(\"name\").notNull(),\n  phone: varchar(\"phone\", { length: 20 }),\n  email: varchar(\"email\", { length: 100 }),\n  address: text(\"address\"),\n  isActive: boolean(\"is_active\").default(true).notNull(),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n});\n\n// Customers table (alias for users)\nexport const customers = users;\n\n// User addresses table\nexport const userAddresses = pgTable(\"user_addresses\", {\n  id: uuid(\"id\").primaryKey().defaultRandom(),\n  userId: uuid(\"user_id\").references(() => users.id).notNull(),\n  type: varchar(\"type\", { length: 50 }).notNull(), // ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ©: home, work, other\n  title: varchar(\"title\", { length: 100 }).notNull(),\n  address: text(\"address\").notNull(),\n  details: text(\"details\"), // ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ©\n  latitude: decimal(\"latitude\", { precision: 10, scale: 8 }),\n  longitude: decimal(\"longitude\", { precision: 11, scale: 8 }),\n  isDefault: boolean(\"is_default\").default(false).notNull(),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n});\n\n// Categories table\nexport const categories = pgTable(\"categories\", {\n  id: uuid(\"id\").primaryKey().defaultRandom(),\n  name: varchar(\"name\", { length: 100 }).notNull(),\n  icon: varchar(\"icon\", { length: 100 }).notNull(),\n  sortOrder: integer(\"sort_order\").default(0),\n  isActive: boolean(\"is_active\").default(true).notNull(),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n  updatedAt: timestamp(\"updated_at\").defaultNow().notNull(),\n});\n\n// Restaurants table\nexport const restaurants = pgTable(\"restaurants\", {\n  id: uuid(\"id\").primaryKey().defaultRandom(),\n  name: varchar(\"name\", { length: 200 }).notNull(),\n  description: text(\"description\"),\n  image: text(\"image\").notNull(), // ØªÙ… ØªØºÙŠÙŠØ± Ø¥Ù„Ù‰ notNull\n  rating: varchar(\"rating\", { length: 10 }).default(\"0.0\"),\n  reviewCount: integer(\"review_count\").default(0),\n  deliveryTime: varchar(\"delivery_time\", { length: 50 }).notNull(), // ØªÙ… ØªØºÙŠÙŠØ± Ø¥Ù„Ù‰ notNull\n  isOpen: boolean(\"is_open\").default(true).notNull(),\n  minimumOrder: decimal(\"minimum_order\", { precision: 10, scale: 2 }).default(\"0\"),\n  deliveryFee: decimal(\"delivery_fee\", { precision: 10, scale: 2 }).default(\"0\"),\n  categoryId: uuid(\"category_id\").references(() => categories.id),\n  openingTime: varchar(\"opening_time\", { length: 50 }).default(\"08:00\"), // ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ©\n  closingTime: varchar(\"closing_time\", { length: 50 }).default(\"23:00\"), // ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ©\n  workingDays: varchar(\"working_days\", { length: 50 }).default(\"0,1,2,3,4,5,6\"), // ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ©\n  isTemporarilyClosed: boolean(\"is_temporarily_closed\").default(false), // ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ©\n  temporaryCloseReason: text(\"temporary_close_reason\"), // ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ©\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n});\n\n// Menu items table\nexport const menuItems = pgTable(\"menu_items\", {\n  id: uuid(\"id\").primaryKey().defaultRandom(),\n  name: varchar(\"name\", { length: 200 }).notNull(),\n  description: text(\"description\"),\n  price: decimal(\"price\", { precision: 10, scale: 2 }).notNull(),\n  originalPrice: decimal(\"original_price\", { precision: 10, scale: 2 }),\n  image: text(\"image\").notNull(), // ØªÙ… ØªØºÙŠÙŠØ± Ø¥Ù„Ù‰ notNull\n  category: varchar(\"category\", { length: 100 }).notNull(), // ØªÙ… ØªØºÙŠÙŠØ± Ø¥Ù„Ù‰ notNull\n  isAvailable: boolean(\"is_available\").default(true).notNull(),\n  isSpecialOffer: boolean(\"is_special_offer\").default(false).notNull(),\n  restaurantId: uuid(\"restaurant_id\").references(() => restaurants.id),\n});\n\n// Drivers table\nexport const drivers = pgTable(\"drivers\", {\n  id: uuid(\"id\").primaryKey().defaultRandom(),\n  name: varchar(\"name\", { length: 100 }).notNull(),\n  phone: varchar(\"phone\", { length: 20 }).notNull().unique(),\n  password: text(\"password\").notNull(),\n  isAvailable: boolean(\"is_available\").default(true).notNull(),\n  isActive: boolean(\"is_active\").default(true).notNull(),\n  currentLocation: varchar(\"current_location\", { length: 200 }),\n  earnings: decimal(\"earnings\", { precision: 10, scale: 2 }).default(\"0\"),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n});\n\n// Orders table\nexport const orders = pgTable(\"orders\", {\n  id: uuid(\"id\").primaryKey().defaultRandom(),\n  orderNumber: varchar(\"order_number\", { length: 50 }).notNull().unique(),\n  customerName: varchar(\"customer_name\", { length: 100 }).notNull(),\n  customerPhone: varchar(\"customer_phone\", { length: 20 }).notNull(),\n  customerEmail: varchar(\"customer_email\", { length: 100 }),\n  customerId: uuid(\"customer_id\").references(() => users.id),\n  deliveryAddress: text(\"delivery_address\").notNull(),\n  notes: text(\"notes\"),\n  paymentMethod: varchar(\"payment_method\", { length: 50 }).notNull(),\n  status: varchar(\"status\", { length: 50 }).default(\"pending\").notNull(),\n  items: text(\"items\").notNull(), // JSON string\n  subtotal: decimal(\"subtotal\", { precision: 10, scale: 2 }).notNull(),\n  deliveryFee: decimal(\"delivery_fee\", { precision: 10, scale: 2 }).notNull(),\n  total: decimal(\"total\", { precision: 10, scale: 2 }).notNull(),\n  totalAmount: decimal(\"total_amount\", { precision: 10, scale: 2 }).notNull(),\n  estimatedTime: varchar(\"estimated_time\", { length: 50 }).default(\"30-45 Ø¯Ù‚ÙŠÙ‚Ø©\"),\n  driverEarnings: decimal(\"driver_earnings\", { precision: 10, scale: 2 }).default(\"0\"),\n  restaurantId: uuid(\"restaurant_id\").references(() => restaurants.id),\n  driverId: uuid(\"driver_id\").references(() => drivers.id),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n  updatedAt: timestamp(\"updated_at\").defaultNow().notNull(),\n});\n\n// Special offers table\nexport const specialOffers = pgTable(\"special_offers\", {\n  id: uuid(\"id\").primaryKey().defaultRandom(),\n  title: varchar(\"title\", { length: 200 }).notNull(),\n  description: text(\"description\").notNull(), // ØªÙ… ØªØºÙŠÙŠØ± Ø¥Ù„Ù‰ notNull\n  image: text(\"image\").notNull(), // ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ©\n  discountPercent: integer(\"discount_percent\"),\n  discountAmount: decimal(\"discount_amount\", { precision: 10, scale: 2 }),\n  minimumOrder: decimal(\"minimum_order\", { precision: 10, scale: 2 }).default(\"0\"),\n  validUntil: timestamp(\"valid_until\"),\n  isActive: boolean(\"is_active\").default(true).notNull(),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n});\n\n// Admin users table\nexport const adminUsers = pgTable(\"admin_users\", {\n  id: uuid(\"id\").primaryKey().defaultRandom(),\n  name: varchar(\"name\", { length: 100 }).notNull(),\n  username: varchar(\"username\", { length: 50 }).unique(),\n  email: varchar(\"email\", { length: 100 }).notNull().unique(),\n  password: text(\"password\").notNull(),\n  userType: varchar(\"user_type\", { length: 50 }).default(\"admin\").notNull(),\n  isActive: boolean(\"is_active\").default(true).notNull(),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n});\n\n// Admin sessions table\nexport const adminSessions = pgTable(\"admin_sessions\", {\n  id: uuid(\"id\").primaryKey().defaultRandom(),\n  adminId: uuid(\"admin_id\").references(() => adminUsers.id).notNull(),\n  token: text(\"token\").notNull().unique(),\n  userType: varchar(\"user_type\", { length: 50 }).notNull(),\n  expiresAt: timestamp(\"expires_at\").notNull(),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n});\n\n// System settings table\nexport const systemSettings = pgTable(\"system_settings\", {\n  id: uuid(\"id\").primaryKey().defaultRandom(),\n  key: varchar(\"key\", { length: 100 }).notNull().unique(),\n  value: text(\"value\").notNull(),\n  category: varchar(\"category\", { length: 100 }).default(\"general\"),\n  description: text(\"description\"),\n  isActive: boolean(\"is_active\").default(true).notNull(),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n  updatedAt: timestamp(\"updated_at\").defaultNow().notNull(),\n});\n\n// UI settings table (alias for system_settings)\nexport const uiSettings = systemSettings;\n\n// Zod schemas for validation\nexport const insertUserSchema = createInsertSchema(users);\nexport const selectUserSchema = createSelectSchema(users);\nexport type User = z.infer<typeof selectUserSchema>;\nexport type InsertUser = z.infer<typeof insertUserSchema>;\n\nexport const insertUserAddressSchema = createInsertSchema(userAddresses);\nexport const selectUserAddressSchema = createSelectSchema(userAddresses);\nexport type UserAddress = z.infer<typeof selectUserAddressSchema>;\nexport type InsertUserAddress = z.infer<typeof insertUserAddressSchema>;\n\nexport const insertCategorySchema = createInsertSchema(categories);\nexport const selectCategorySchema = createSelectSchema(categories);\nexport type Category = z.infer<typeof selectCategorySchema>;\nexport type InsertCategory = z.infer<typeof insertCategorySchema>;\n\nexport const insertRestaurantSchema = createInsertSchema(restaurants);\nexport const selectRestaurantSchema = createSelectSchema(restaurants);\nexport type Restaurant = z.infer<typeof selectRestaurantSchema>;\nexport type InsertRestaurant = z.infer<typeof insertRestaurantSchema>;\n\nexport const insertMenuItemSchema = createInsertSchema(menuItems);\nexport const selectMenuItemSchema = createSelectSchema(menuItems);\nexport type MenuItem = z.infer<typeof selectMenuItemSchema>;\nexport type InsertMenuItem = z.infer<typeof insertMenuItemSchema>;\n\nexport const insertOrderSchema = createInsertSchema(orders);\nexport const selectOrderSchema = createSelectSchema(orders);\nexport type Order = z.infer<typeof selectOrderSchema>;\nexport type InsertOrder = z.infer<typeof insertOrderSchema>;\n\nexport const insertDriverSchema = createInsertSchema(drivers);\nexport const selectDriverSchema = createSelectSchema(drivers);\nexport type Driver = z.infer<typeof selectDriverSchema>;\nexport type InsertDriver = z.infer<typeof insertDriverSchema>;\n\nexport const insertSpecialOfferSchema = createInsertSchema(specialOffers);\nexport const selectSpecialOfferSchema = createSelectSchema(specialOffers);\nexport type SpecialOffer = z.infer<typeof selectSpecialOfferSchema>;\nexport type InsertSpecialOffer = z.infer<typeof insertSpecialOfferSchema>;\n\nexport const insertAdminUserSchema = createInsertSchema(adminUsers);\nexport const selectAdminUserSchema = createSelectSchema(adminUsers);\nexport type AdminUser = z.infer<typeof selectAdminUserSchema>;\nexport type InsertAdminUser = z.infer<typeof insertAdminUserSchema>;\n\nexport const insertAdminSessionSchema = createInsertSchema(adminSessions);\nexport const selectAdminSessionSchema = createSelectSchema(adminSessions);\nexport type AdminSession = z.infer<typeof selectAdminSessionSchema>;\nexport type InsertAdminSession = z.infer<typeof insertAdminSessionSchema>;\n\n// Restaurant sections table\nexport const restaurantSections = pgTable(\"restaurant_sections\", {\n  id: uuid(\"id\").primaryKey().defaultRandom(),\n  restaurantId: uuid(\"restaurant_id\").references(() => restaurants.id),\n  name: varchar(\"name\", { length: 100 }).notNull(),\n  description: text(\"description\"),\n  sortOrder: integer(\"sort_order\").default(0),\n  isActive: boolean(\"is_active\").default(true).notNull(),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n});\n\n// Ratings table\nexport const ratings = pgTable(\"ratings\", {\n  id: uuid(\"id\").primaryKey().defaultRandom(),\n  orderId: uuid(\"order_id\").references(() => orders.id),\n  restaurantId: uuid(\"restaurant_id\").references(() => restaurants.id),\n  customerName: varchar(\"customer_name\", { length: 100 }).notNull(),\n  customerPhone: varchar(\"customer_phone\", { length: 20 }),\n  rating: integer(\"rating\").notNull(),\n  comment: text(\"comment\"),\n  isApproved: boolean(\"is_approved\").default(false).notNull(),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n});\n\n// Notifications table\nexport const notifications = pgTable(\"notifications\", {\n  id: uuid(\"id\").primaryKey().defaultRandom(),\n  type: varchar(\"type\", { length: 50 }).notNull(),\n  title: varchar(\"title\", { length: 200 }).notNull(),\n  message: text(\"message\").notNull(),\n  recipientType: varchar(\"recipient_type\", { length: 50 }).notNull(),\n  recipientId: uuid(\"recipient_id\"),\n  orderId: uuid(\"order_id\").references(() => orders.id),\n  isRead: boolean(\"is_read\").default(false).notNull(),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n});\n\n// Order tracking table\nexport const orderTracking = pgTable(\"order_tracking\", {\n  id: uuid(\"id\").primaryKey().defaultRandom(),\n  orderId: uuid(\"order_id\").references(() => orders.id).notNull(),\n  status: varchar(\"status\", { length: 50 }).notNull(),\n  message: text(\"message\").notNull(),\n  createdBy: uuid(\"created_by\").notNull(),\n  createdByType: varchar(\"created_by_type\", { length: 50 }).notNull(),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n});\n\n// Wallets table\nexport const wallets = pgTable(\"wallets\", {\n  id: uuid(\"id\").primaryKey().defaultRandom(),\n  customerPhone: varchar(\"customer_phone\", { length: 20 }).unique().notNull(),\n  balance: decimal(\"balance\", { precision: 10, scale: 2 }).default(\"0.00\"),\n  isActive: boolean(\"is_active\").default(true).notNull(),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n  updatedAt: timestamp(\"updated_at\").defaultNow().notNull(),\n});\n\n// Wallet transactions table\nexport const walletTransactions = pgTable(\"wallet_transactions\", {\n  id: uuid(\"id\").primaryKey().defaultRandom(),\n  walletId: uuid(\"wallet_id\").references(() => wallets.id),\n  type: varchar(\"type\", { length: 50 }).notNull(),\n  amount: decimal(\"amount\", { precision: 10, scale: 2 }).notNull(),\n  description: text(\"description\"),\n  orderId: uuid(\"order_id\").references(() => orders.id),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n});\n\n// System settings table (removed duplicate)\nexport const systemSettingsTable = pgTable(\"system_settings\", {\n  id: uuid(\"id\").primaryKey().defaultRandom(),\n  key: varchar(\"key\", { length: 100 }).unique().notNull(),\n  value: text(\"value\").notNull(),\n  category: varchar(\"category\", { length: 50 }),\n  description: text(\"description\"),\n  isActive: boolean(\"is_active\").default(true).notNull(),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n  updatedAt: timestamp(\"updated_at\").defaultNow().notNull(),\n});\n\n// Restaurant earnings table\nexport const restaurantEarnings = pgTable(\"restaurant_earnings\", {\n  id: uuid(\"id\").primaryKey().defaultRandom(),\n  restaurantId: uuid(\"restaurant_id\").references(() => restaurants.id),\n  ownerName: varchar(\"owner_name\", { length: 100 }).notNull(),\n  ownerPhone: varchar(\"owner_phone\", { length: 20 }).notNull(),\n  totalEarnings: decimal(\"total_earnings\", { precision: 10, scale: 2 }).default(\"0.00\"),\n  pendingAmount: decimal(\"pending_amount\", { precision: 10, scale: 2 }).default(\"0.00\"),\n  paidAmount: decimal(\"paid_amount\", { precision: 10, scale: 2 }).default(\"0.00\"),\n  isActive: boolean(\"is_active\").default(true).notNull(),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n  updatedAt: timestamp(\"updated_at\").defaultNow().notNull(),\n});\n\nexport const insertUiSettingsSchema = createInsertSchema(uiSettings);\nexport const selectUiSettingsSchema = createSelectSchema(uiSettings);\nexport type UiSettings = z.infer<typeof selectUiSettingsSchema>;\nexport type InsertUiSettings = z.infer<typeof insertUiSettingsSchema>;\n\nexport const insertRestaurantSectionSchema = createInsertSchema(restaurantSections);\nexport const selectRestaurantSectionSchema = createSelectSchema(restaurantSections);\nexport type RestaurantSection = z.infer<typeof selectRestaurantSectionSchema>;\nexport type InsertRestaurantSection = z.infer<typeof insertRestaurantSectionSchema>;\n\nexport const insertRatingSchema = createInsertSchema(ratings);\nexport const selectRatingSchema = createSelectSchema(ratings);\nexport type Rating = z.infer<typeof selectRatingSchema>;\nexport type InsertRating = z.infer<typeof insertRatingSchema>;\n\nexport const insertNotificationSchema = createInsertSchema(notifications);\nexport const selectNotificationSchema = createSelectSchema(notifications);\nexport type Notification = z.infer<typeof selectNotificationSchema>;\nexport type InsertNotification = z.infer<typeof insertNotificationSchema>;\n\nexport const insertWalletSchema = createInsertSchema(wallets);\nexport const selectWalletSchema = createSelectSchema(wallets);\nexport type Wallet = z.infer<typeof selectWalletSchema>;\nexport type InsertWallet = z.infer<typeof insertWalletSchema>;\n\nexport const insertWalletTransactionSchema = createInsertSchema(walletTransactions);\nexport const selectWalletTransactionSchema = createSelectSchema(walletTransactions);\nexport type WalletTransaction = z.infer<typeof selectWalletTransactionSchema>;\nexport type InsertWalletTransaction = z.infer<typeof insertWalletTransactionSchema>;\n\nexport const insertSystemSettingsSchema = createInsertSchema(systemSettingsTable);\nexport const selectSystemSettingsSchema = createSelectSchema(systemSettingsTable);\nexport type SystemSettings = z.infer<typeof selectSystemSettingsSchema>;\nexport type InsertSystemSettings = z.infer<typeof insertSystemSettingsSchema>;\n\nexport const insertRestaurantEarningsSchema = createInsertSchema(restaurantEarnings);\nexport const selectRestaurantEarningsSchema = createSelectSchema(restaurantEarnings);\nexport type RestaurantEarnings = z.infer<typeof selectRestaurantEarningsSchema>;\nexport type InsertRestaurantEarnings = z.infer<typeof insertRestaurantEarningsSchema>;","size_bytes":17617},"client/src/App.tsx":{"content":"import { Switch, Route } from \"wouter\";\nimport { queryClient } from \"./lib/queryClient\";\nimport { QueryClientProvider } from \"@tanstack/react-query\";\nimport { Toaster } from \"@/components/ui/toaster\";\nimport { TooltipProvider } from \"@/components/ui/tooltip\";\nimport { CartProvider } from \"./context/CartContext\";\nimport { ThemeProvider } from \"./context/ThemeContext\";\nimport { AuthProvider, useAuth } from \"./context/AuthContext\";\nimport { LocationProvider, useLocation } from \"./context/LocationContext\";\nimport { UiSettingsProvider } from \"./context/UiSettingsContext\";\nimport { LocationPermissionModal } from \"./components/LocationPermissionModal\";\nimport Layout from \"./components/Layout\";\nimport { LoginPage } from \"./pages/LoginPage\";\nimport { AdminDashboard } from \"./pages/AdminDashboard\";\nimport { DriverDashboard } from \"./pages/DriverDashboard\";\nimport { useState } from \"react\";\nimport Home from \"./pages/Home\";\nimport Restaurant from \"./pages/Restaurant\";\nimport Cart from \"./pages/Cart\";\nimport Profile from \"./pages/Profile\";\nimport Location from \"./pages/Location\";\nimport OrderTracking from \"./pages/OrderTracking\";\nimport Settings from \"./pages/Settings\";\nimport Privacy from \"./pages/Privacy\";\n// Admin pages removed - now handled separately\nimport NotFound from \"@/pages/not-found\";\n\nfunction AuthenticatedApp() {\n  const { isAuthenticated, userType, loading } = useAuth();\n  const { location } = useLocation();\n  const [showLogin, setShowLogin] = useState(false);\n  const [showLocationModal, setShowLocationModal] = useState(true);\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-primary mx-auto\"></div>\n          <p className=\"mt-4 text-gray-600\">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</p>\n        </div>\n      </div>\n    );\n  }\n\n  // Handle admin login route\n  if (window.location.pathname === '/admin-login') {\n    return (\n      <LoginPage \n        onSuccess={() => {\n          if (userType === 'admin') {\n            window.location.href = '/admin/dashboard';\n          } else if (userType === 'driver') {\n            window.location.href = '/driver/dashboard';\n          } else {\n            window.location.href = '/';\n          }\n        }} \n      />\n    );\n  }\n\n  // Handle admin routes (completely separate from customer app)\n  if (window.location.pathname.startsWith('/admin/')) {\n    if (!isAuthenticated || userType !== 'admin') {\n      window.location.href = '/admin-login';\n      return null;\n    }\n    return (\n      <AdminDashboard \n        onLogout={() => {\n          window.location.href = '/admin-login';\n        }} \n      />\n    );\n  }\n\n  // Handle driver routes (completely separate from customer app)\n  if (window.location.pathname.startsWith('/driver/')) {\n    if (!isAuthenticated || userType !== 'driver') {\n      window.location.href = '/admin-login';\n      return null;\n    }\n    return (\n      <DriverDashboard \n        onLogout={() => {\n          window.location.href = '/admin-login';\n        }} \n      />\n    );\n  }\n\n  // Remove admin/driver routes from customer app routing\n\n  // Default customer app\n  return (\n    <>\n      <Layout>\n        <Router />\n      </Layout>\n      \n      {showLocationModal && !location.hasPermission && (\n        <LocationPermissionModal\n          onPermissionGranted={(position) => {\n            console.log('ØªÙ… Ù…Ù†Ø­ Ø§Ù„Ø¥Ø°Ù† Ù„Ù„Ù…ÙˆÙ‚Ø¹:', position);\n            setShowLocationModal(false);\n          }}\n          onPermissionDenied={() => {\n            console.log('ØªÙ… Ø±ÙØ¶ Ø§Ù„Ø¥Ø°Ù† Ù„Ù„Ù…ÙˆÙ‚Ø¹');\n            setShowLocationModal(false);\n          }}\n        />\n      )}\n    </>\n  );\n}\n\nfunction Router() {\n  return (\n    <Switch>\n      <Route path=\"/\" component={Home} />\n      <Route path=\"/restaurant/:id\" component={Restaurant} />\n      <Route path=\"/cart\" component={Cart} />\n      <Route path=\"/profile\" component={Profile} />\n      <Route path=\"/addresses\" component={Location} />\n      <Route path=\"/orders/:orderId\" component={OrderTracking} />\n      <Route path=\"/settings\" component={Settings} />\n      <Route path=\"/privacy\" component={Privacy} />\n      <Route component={NotFound} />\n    </Switch>\n  );\n}\n\nfunction App() {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <TooltipProvider>\n        <ThemeProvider>\n          <UiSettingsProvider>\n            <LocationProvider>\n              <AuthProvider>\n                <CartProvider>\n                  <Toaster />\n                  <AuthenticatedApp />\n                </CartProvider>\n              </AuthProvider>\n            </LocationProvider>\n          </UiSettingsProvider>\n        </ThemeProvider>\n      </TooltipProvider>\n    </QueryClientProvider>\n  );\n}\n\nexport default App;\n","size_bytes":4826},"client/src/index.css":{"content":"@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+Arabic:wght@100..900&display=swap');\n\n@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n:root {\n  --background: hsl(0 0% 100%);\n  --foreground: hsl(222.2 84% 4.9%);\n  --card: hsl(0 0% 100%);\n  --card-foreground: hsl(222.2 84% 4.9%);\n  --popover: hsl(0 0% 100%);\n  --popover-foreground: hsl(222.2 84% 4.9%);\n  --primary: hsl(16 100% 55%);\n  --primary-foreground: hsl(0 0% 100%);\n  --secondary: hsl(16 15% 95%);\n  --secondary-foreground: hsl(222.2 84% 4.9%);\n  --muted: hsl(16 10% 96%);\n  --muted-foreground: hsl(215.4 16.3% 46.9%);\n  --accent: hsl(16 100% 55%);\n  --accent-foreground: hsl(0 0% 100%);\n  --destructive: hsl(0 84.2% 60.2%);\n  --destructive-foreground: hsl(210 40% 98%);\n  --border: hsl(214.3 31.8% 91.4%);\n  --input: hsl(214.3 31.8% 91.4%);\n  --ring: hsl(16 100% 55%);\n  --chart-1: hsl(16 100% 55%);\n  --chart-2: hsl(159.7826 100% 36.0784%);\n  --chart-3: hsl(42.0290 92.8251% 56.2745%);\n  --chart-4: hsl(147.1429 78.5047% 41.9608%);\n  --chart-5: hsl(341.4894 75.2000% 50.9804%);\n  --sidebar: hsl(180 6.6667% 97.0588%);\n  --sidebar-foreground: hsl(210 25% 7.8431%);\n  --sidebar-primary: hsl(16 100% 55%);\n  --sidebar-primary-foreground: hsl(0 0% 100%);\n  --sidebar-accent: hsl(210 40% 96%);\n  --sidebar-accent-foreground: hsl(16 100% 55%);\n  --sidebar-border: hsl(205.0000 25.0000% 90.5882%);\n  --sidebar-ring: hsl(16 100% 55%);\n  --font-sans: 'Inter', 'Noto Sans Arabic', sans-serif;\n  --font-serif: Georgia, serif;\n  --font-mono: Menlo, monospace;\n  --radius: 0.75rem;\n  --shadow-2xs: 0px 2px 0px 0px hsl(15 98% 56% / 0.00);\n  --shadow-xs: 0px 2px 0px 0px hsl(15 98% 56% / 0.00);\n  --shadow-sm: 0px 2px 0px 0px hsl(15 98% 56% / 0.00), 0px 1px 2px -1px hsl(15 98% 56% / 0.00);\n  --shadow: 0px 2px 0px 0px hsl(15 98% 56% / 0.00), 0px 1px 2px -1px hsl(15 98% 56% / 0.00);\n  --shadow-md: 0px 2px 0px 0px hsl(15 98% 56% / 0.00), 0px 2px 4px -1px hsl(15 98% 56% / 0.00);\n  --shadow-lg: 0px 2px 0px 0px hsl(15 98% 56% / 0.00), 0px 4px 6px -1px hsl(15 98% 56% / 0.00);\n  --shadow-xl: 0px 2px 0px 0px hsl(15 98% 56% / 0.00), 0px 8px 10px -1px hsl(15 98% 56% / 0.00);\n  --shadow-2xl: 0px 2px 0px 0px hsl(15 98% 56% / 0.00);\n  --tracking-normal: 0em;\n  --spacing: 0.25rem;\n}\n\n.dark {\n  --background: hsl(222.2 84% 4.9%);\n  --foreground: hsl(210 40% 98%);\n  --card: hsl(222.2 84% 4.9%);\n  --card-foreground: hsl(210 40% 98%);\n  --popover: hsl(222.2 84% 4.9%);\n  --popover-foreground: hsl(210 40% 98%);\n  --primary: hsl(16 100% 55%);\n  --primary-foreground: hsl(222.2 84% 4.9%);\n  --secondary: hsl(217.2 32.6% 17.5%);\n  --secondary-foreground: hsl(210 40% 98%);\n  --muted: hsl(217.2 32.6% 17.5%);\n  --muted-foreground: hsl(215 20.2% 65.1%);\n  --accent: hsl(217.2 32.6% 17.5%);\n  --accent-foreground: hsl(210 40% 98%);\n  --destructive: hsl(0 62.8% 30.6%);\n  --destructive-foreground: hsl(210 40% 98%);\n  --border: hsl(217.2 32.6% 17.5%);\n  --input: hsl(217.2 32.6% 17.5%);\n  --ring: hsl(16 100% 55%);\n  --chart-1: hsl(16 100% 55%);\n  --chart-2: hsl(159.7826 100% 36.0784%);\n  --chart-3: hsl(42.0290 92.8251% 56.2745%);\n  --chart-4: hsl(147.1429 78.5047% 41.9608%);\n  --chart-5: hsl(341.4894 75.2000% 50.9804%);\n  --sidebar: hsl(222.2 84% 4.9%);\n  --sidebar-foreground: hsl(210 40% 98%);\n  --sidebar-primary: hsl(16 100% 55%);\n  --sidebar-primary-foreground: hsl(222.2 84% 4.9%);\n  --sidebar-accent: hsl(217.2 32.6% 17.5%);\n  --sidebar-accent-foreground: hsl(16 100% 55%);\n  --sidebar-border: hsl(217.2 32.6% 17.5%);\n  --sidebar-ring: hsl(16 100% 55%);\n}\n\n@layer base {\n  * {\n    @apply border-border;\n  }\n\n  body {\n    @apply font-sans antialiased bg-background text-foreground;\n    direction: rtl;\n  }\n\n  html {\n    direction: rtl;\n  }\n}\n\n@layer components {\n  .hero-banner {\n    background: linear-gradient(135deg, hsl(16 100% 55%) 0%, hsl(16 100% 45%) 100%);\n  }\n\n  .gradient-header {\n    background: linear-gradient(135deg, hsl(16 100% 55%) 0%, hsl(16 100% 45%) 100%);\n  }\n\n  .orange-gradient {\n    background: linear-gradient(135deg, hsl(16 100% 55%) 0%, hsl(16 100% 45%) 100%);\n  }\n\n  .red-gradient {\n    background: linear-gradient(135deg, hsl(355 85% 55%) 0%, hsl(355 85% 45%) 100%);\n  }\n\n  .header-gradient {\n    background: linear-gradient(135deg, #d32f2f 0%, #b71c1c 100%);\n  }\n\n  .green-gradient {\n    background: linear-gradient(135deg, #388e3c 0%, #2e7d32 100%);\n  }\n\n  .brown-gradient {\n    background: linear-gradient(135deg, #8d6e63 0%, #5d4037 100%);\n  }\n\n  .fade-in {\n    animation: fadeIn 0.3s ease-in;\n  }\n\n  .floating-cart {\n    position: fixed;\n    bottom: 20px;\n    left: 20px;\n    z-index: 50;\n  }\n}\n\n@keyframes fadeIn {\n  from { \n    opacity: 0; \n    transform: translateY(10px); \n  }\n  to { \n    opacity: 1; \n    transform: translateY(0); \n  }\n}\n\n/* RTL specific styles */\n[dir=\"rtl\"] .rtl\\:space-x-reverse > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-x-reverse: 1;\n}\n\n/* Custom scrollbar for horizontal scrolling */\n.no-scrollbar {\n  scrollbar-width: none;\n  -ms-overflow-style: none;\n}\n\n.no-scrollbar::-webkit-scrollbar {\n  display: none;\n}\n","size_bytes":5149},"client/src/main.tsx":{"content":"import { createRoot } from \"react-dom/client\";\nimport App from \"./App\";\nimport \"./index.css\";\n\ncreateRoot(document.getElementById(\"root\")!).render(<App />);\n","size_bytes":157},"migrations/scripts/migrate.js":{"content":"import { drizzle } from \"drizzle-orm/neon-http\";\nimport { neon } from \"@neondatabase/serverless\";\nimport { migrate } from \"drizzle-orm/neon-http/migrator\";\nimport * as dotenv from \"dotenv\";\n\ndotenv.config();\n\nif (!process.env.DATABASE_URL) {\n  console.error(\"âŒ DATABASE_URL is not defined\");\n  process.exit(1);\n}\n\nconst sql = neon(process.env.DATABASE_URL);\nconst db = drizzle(sql);\n\nasync function runMigrations() {\n  try {\n    console.log(\"ğŸ”„ Running database migrations...\");\n    await migrate(db, { migrationsFolder: \"./drizzle\" });\n    console.log(\"âœ… Migrations completed successfully!\");\n  } catch (error) {\n    console.error(\"âŒ Migration failed:\", error);\n    process.exit(1);\n  }\n}\n\nrunMigrations();","size_bytes":715},"migrations/scripts/setup-database.js":{"content":"import { drizzle } from \"drizzle-orm/neon-http\";\nimport { neon } from \"@neondatabase/serverless\";\nimport * as dotenv from \"dotenv\";\nimport { \n  categories, restaurants, menuItems, drivers, specialOffers, uiSettings, adminUsers,\n  adminSessions, orders, users, userAddresses\n } from \"../../shared/schema\";\nimport bcrypt from \"bcrypt\";\nimport { eq } from \"drizzle-orm\";\n\ndotenv.config();\n\nif (!process.env.DATABASE_URL) {\n  console.error(\"âŒ DATABASE_URL is not defined in environment variables\");\n  process.exit(1);\n}\n\nconst sql = neon(process.env.DATABASE_URL);\nconst db = drizzle(sql);\n\nasync function setupInitialData() {\n  try {\n    console.log(\"ğŸš€ Setting up initial data...\");\n\n    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø³Ø¨Ù‚Ø§Ù‹ ÙˆØªØ®Ø·ÙŠ Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù…ÙˆØ¬ÙˆØ¯Ø©\n    const existingCategories = await db.select().from(categories);\n    if (existingCategories.length > 0) {\n      console.log(\"ğŸ“‚ Categories already exist, skipping...\");\n      return;\n    }\n\n    // Create categories\n    console.log(\"ğŸ“‚ Creating categories...\");\n    const categoryData = [\n      { id: \"1\", name: \"Ù…Ø·Ø§Ø¹Ù…\", icon: \"fas fa-utensils\", isActive: true },\n      { id: \"2\", name: \"Ù…Ù‚Ø§Ù‡ÙŠ\", icon: \"fas fa-coffee\", isActive: true },\n      { id: \"3\", name: \"Ø­Ù„ÙˆÙŠØ§Øª\", icon: \"fas fa-candy-cane\", isActive: true },\n      { id: \"4\", name: \"Ø³ÙˆØ¨Ø±Ù…Ø§Ø±ÙƒØª\", icon: \"fas fa-shopping-cart\", isActive: true },\n      { id: \"5\", name: \"ØµÙŠØ¯Ù„ÙŠØ§Øª\", icon: \"fas fa-pills\", isActive: true },\n    ];\n\n    const createdCategories = await db.insert(categories).values(categoryData).returning();\n    console.log(`âœ… Created ${createdCategories.length} categories`);\n\n    // Create restaurants\n    console.log(\"ğŸª Creating restaurants...\");\n    const restaurantData = [\n      {\n        id: \"1\",\n        name: \"Ù…Ø·Ø¹Ù… Ø§Ù„ÙˆØ²ÙŠÙƒÙˆ Ù„Ù„Ø¹Ø±Ø¨ÙƒØ©\",\n        description: \"Ù…Ø·Ø¹Ù… ÙŠÙ…Ù†ÙŠ ØªÙ‚Ù„ÙŠØ¯ÙŠ Ù…ØªØ®ØµØµ ÙÙŠ Ø§Ù„Ø£Ø·Ø¨Ø§Ù‚ Ø§Ù„Ø´Ø¹Ø¨ÙŠØ©\",\n        image: \"https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=400\",\n        rating: \"4.8\",\n        reviewCount: 4891,\n        deliveryTime: \"40-60 Ø¯Ù‚ÙŠÙ‚Ø©\",\n        isOpen: true,\n        minimumOrder: 25,\n        deliveryFee: 5,\n        categoryId: createdCategories[0].id,\n        openingTime: \"08:00\",\n        closingTime: \"23:00\",\n        workingDays: \"0,1,2,3,4,5,6\",\n        isTemporarilyClosed: false,\n        temporaryCloseReason: null,\n      },\n      {\n        id: \"2\",\n        name: \"Ø­Ù„ÙˆÙŠØ§Øª Ø§Ù„Ø´Ø§Ù…\",\n        description: \"Ø£ÙØ¶Ù„ Ø§Ù„Ø­Ù„ÙˆÙŠØ§Øª Ø§Ù„Ø´Ø§Ù…ÙŠØ© ÙˆØ§Ù„Ø¹Ø±Ø¨ÙŠØ©\",\n        image: \"https://images.unsplash.com/photo-1558618666-fcd25c85cd64?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=400\",\n        rating: \"4.6\",\n        reviewCount: 2341,\n        deliveryTime: \"30-45 Ø¯Ù‚ÙŠÙ‚Ø©\",\n        isOpen: true,\n        minimumOrder: 15,\n        deliveryFee: 3,\n        categoryId: createdCategories[2].id,\n        openingTime: \"08:00\",\n        closingTime: \"23:00\",\n        workingDays: \"0,1,2,3,4,5,6\",\n        isTemporarilyClosed: false,\n        temporaryCloseReason: null,\n      },\n      {\n        id: \"3\",\n        name: \"Ù…Ù‚Ù‡Ù‰ Ø§Ù„Ø¹Ø±ÙˆØ¨Ø©\",\n        description: \"Ù…Ù‚Ù‡Ù‰ Ø´Ø¹Ø¨ÙŠ Ø¨Ø§Ù„Ø·Ø§Ø¨Ø¹ Ø§Ù„Ø¹Ø±Ø¨ÙŠ Ø§Ù„Ø£ØµÙŠÙ„\",\n        image: \"https://images.unsplash.com/photo-1442512595331-e89e73853f31?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=400\",\n        rating: \"4.5\",\n        reviewCount: 1876,\n        deliveryTime: \"ÙŠÙØªØ­ ÙÙŠ 8:00 Øµ\",\n        isOpen: false,\n        minimumOrder: 20,\n        deliveryFee: 4,\n        categoryId: createdCategories[1].id,\n        openingTime: \"08:00\",\n        closingTime: \"23:00\",\n        workingDays: \"0,1,2,3,4,5,6\",\n        isTemporarilyClosed: false,\n        temporaryCloseReason: null,\n      }\n    ];\n\n    const createdRestaurants = await db.insert(restaurants).values(restaurantData).returning();\n    console.log(`âœ… Created ${createdRestaurants.length} restaurants`);\n\n    // Create menu items\n    console.log(\"ğŸ½ï¸ Creating menu items...\");\n    const menuItemData = [\n      {\n        id: \"1\",\n        name: \"Ø¹Ø±Ø¨ÙƒØ© Ø¨Ø§Ù„Ù‚Ø´Ø·Ø© ÙˆØ§Ù„Ø¹Ø³Ù„\",\n        description: \"Ø­Ù„ÙˆÙ‰ ÙŠÙ…Ù†ÙŠØ© ØªÙ‚Ù„ÙŠØ¯ÙŠØ© Ø¨Ø§Ù„Ù‚Ø´Ø·Ø© Ø§Ù„Ø·Ø§Ø²Ø¬Ø© ÙˆØ§Ù„Ø¹Ø³Ù„ Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠ\",\n        price: 55,\n        image: \"https://images.unsplash.com/photo-1551024506-0bccd828d307?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&h=200\",\n        category: \"ÙˆØ¬Ø¨Ø§Øª Ø±Ù…Ø¶Ø§Ù†\",\n        isAvailable: true,\n        isSpecialOffer: false,\n        originalPrice: null,\n        restaurantId: createdRestaurants[0].id,\n      },\n      {\n        id: \"2\",\n        name: \"Ù…Ø¹ØµÙˆØ¨ Ø¨Ø§Ù„Ù‚Ø´Ø·Ø© ÙˆØ§Ù„Ø¹Ø³Ù„\",\n        description: \"Ø·Ø¨Ù‚ ÙŠÙ…Ù†ÙŠ Ø´Ø¹Ø¨ÙŠ Ø¨Ø§Ù„Ù…ÙˆØ² ÙˆØ§Ù„Ù‚Ø´Ø·Ø© ÙˆØ§Ù„Ø¹Ø³Ù„\",\n        price: 55,\n        image: \"https://images.unsplash.com/photo-1565299507177-b0ac66763828?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&h=200\",\n        category: \"ÙˆØ¬Ø¨Ø§Øª Ø±Ù…Ø¶Ø§Ù†\",\n        isAvailable: true,\n        isSpecialOffer: false,\n        originalPrice: null,\n        restaurantId: createdRestaurants[0].id,\n      },\n      {\n        id: \"3\",\n        name: \"Ù…ÙŠØ§Ù‡ Ù…Ø¹Ø¯Ù†ÙŠØ© 750 Ù…Ù„\",\n        description: \"Ù…ÙŠØ§Ù‡ Ø·Ø¨ÙŠØ¹ÙŠØ© Ù…Ø¹Ø¯Ù†ÙŠØ© Ø¹Ø§Ù„ÙŠØ© Ø§Ù„Ø¬ÙˆØ¯Ø©\",\n        price: 3,\n        image: \"https://images.unsplash.com/photo-1559839734-2b71ea197ec2?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&h=200\",\n        category: \"Ø§Ù„Ù…Ø´Ø±ÙˆØ¨Ø§Øª\",\n        isAvailable: true,\n        isSpecialOffer: false,\n        originalPrice: null,\n        restaurantId: createdRestaurants[0].id,\n      },\n      {\n        id: \"4\",\n        name: \"ÙƒÙˆÙ…Ø¨Ùˆ Ø¹Ø±Ø¨ÙƒØ© Ø®Ø§Øµ\",\n        description: \"Ø¹Ø±Ø¨ÙƒØ© + Ù…Ø·Ø¨Ù‚ Ø¹Ø§Ø¯ÙŠ + Ù…Ø´Ø±ÙˆØ¨ ØºØ§Ø²ÙŠ\",\n        price: 55,\n        originalPrice: 60,\n        image: \"https://images.unsplash.com/photo-1565299507177-b0ac66763828?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&h=200\",\n        category: \"Ø§Ù„Ø¹Ø±ÙˆØ¶\",\n        isAvailable: true,\n        isSpecialOffer: true,\n        restaurantId: createdRestaurants[0].id,\n      }\n    ];\n\n    const createdMenuItems = await db.insert(menuItems).values(menuItemData).returning();\n    console.log(`âœ… Created ${createdMenuItems.length} menu items`);\n\n    // Create drivers\n    console.log(\"ğŸš— Creating drivers...\");\n    const hashedPassword = await bcrypt.hash(\"password123\", 10);\n    const driverData = [\n      {\n        id: \"1\",\n        name: \"Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯\",\n        phone: \"+967771234567\",\n        password: hashedPassword,\n        isAvailable: true,\n        isActive: true,\n        currentLocation: \"ØµÙ†Ø¹Ø§Ø¡\",\n        earnings: 2500,\n      },\n      {\n        id: \"2\",\n        name: \"Ø¹Ù„ÙŠ Ø­Ø³Ù†\",\n        phone: \"+967779876543\",\n        password: hashedPassword,\n        isAvailable: true,\n        isActive: true,\n        currentLocation: \"ØªØ¹Ø²\",\n        earnings: 3200,\n      }\n    ];\n\n    const createdDrivers = await db.insert(drivers).values(driverData).returning();\n    console.log(`âœ… Created ${createdDrivers.length} drivers`);\n\n    // Create special offers\n    console.log(\"ğŸ Creating special offers...\");\n    const offerData = [\n      {\n        id: \"1\",\n        title: \"Ø®ØµÙ… 20% Ø¹Ù„Ù‰ Ø§Ù„Ø·Ù„Ø¨Ø§Øª ÙÙˆÙ‚ 100 Ø±ÙŠØ§Ù„\",\n        description: \"Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø®ØµÙ… 20% Ø¹Ù†Ø¯ Ø·Ù„Ø¨ Ø¨Ù‚ÙŠÙ…Ø© 100 Ø±ÙŠØ§Ù„ Ø£Ùˆ Ø£ÙƒØ«Ø±\",\n        image: \"https://images.unsplash.com/photo-1571091718767-18b5b1457add?w=400\",\n        discountPercent: 20,\n        discountAmount: null,\n        minimumOrder: 100,\n        isActive: true,\n        validUntil: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000), // 30 days from now\n      },\n      {\n        id: \"2\",\n        title: \"ØªÙˆØµÙŠÙ„ Ù…Ø¬Ø§Ù†ÙŠ\",\n        description: \"ØªÙˆØµÙŠÙ„ Ù…Ø¬Ø§Ù†ÙŠ Ù„Ù„Ø·Ù„Ø¨Ø§Øª ÙÙˆÙ‚ 50 Ø±ÙŠØ§Ù„\",\n        image: \"https://images.unsplash.com/photo-1571091718767-18b5b1457add?w=400\",\n        discountPercent: null,\n        discountAmount: 5,\n        minimumOrder: 50,\n        isActive: true,\n        validUntil: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000), // 30 days from now\n      }\n    ];\n\n    const createdOffers = await db.insert(specialOffers).values(offerData).returning();\n    console.log(`âœ… Created ${createdOffers.length} special offers`);\n\n    // Create UI settings\n    console.log(\"âš™ï¸ Creating UI settings...\");\n    const uiSettingsData = [\n      { key: \"app_name\", value: \"Ø§Ù„Ø³Ø±ÙŠØ¹ ÙˆÙ† Ù„Ù„ØªÙˆØµÙŠÙ„\", description: \"Ø§Ø³Ù… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚\" },\n      { key: \"app_logo\", value: \"/logo.png\", description: \"Ø´Ø¹Ø§Ø± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚\" },\n      { key: \"primary_color\", value: \"#f6863bff\", description: \"Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ\" },\n      { key: \"secondary_color\", value: \"#10B981\", description: \"Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø«Ø§Ù†ÙˆÙŠ\" },\n      { key: \"delivery_fee\", value: \"5\", description: \"Ø±Ø³ÙˆÙ… Ø§Ù„ØªÙˆØµÙŠÙ„ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©\" },\n      { key: \"minimum_order\", value: \"25\", description: \"Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ù„Ù„Ø·Ù„Ø¨\" },\n      { key: \"contact_phone\", value: \"+967771234567\", description: \"Ø±Ù‚Ù… Ø§Ù„ØªÙˆØ§ØµÙ„\" },\n      { key: \"contact_email\", value: \"info@alsarie-one.com\", description: \"Ø¨Ø±ÙŠØ¯ Ø§Ù„ØªÙˆØ§ØµÙ„\" },\n    ];\n\n    const createdSettings = await db.insert(uiSettings).values(uiSettingsData).returning();\n    console.log(`âœ… Created ${createdSettings.length} UI settings`);\n\n    // Create default admin\n    console.log(\"ğŸ‘¤ Creating default admin...\");\n    const adminPassword = process.env.DEFAULT_ADMIN_PASSWORD || 'admin123456';\n    const hashedAdminPassword = await bcrypt.hash(adminPassword, 10);\n    \n    const adminData = {\n      id: \"1\",\n      name: 'Ù…Ø¯ÙŠØ± Ø§Ù„Ù†Ø¸Ø§Ù…',\n      email: 'admin@alsarie-one.com',\n      password: hashedAdminPassword,\n      userType: 'admin',\n      isActive: true\n    };\n\n    const [createdAdmin] = await db.insert(adminUsers).values(adminData).returning();\n    console.log(`âœ… Created admin user: ${createdAdmin.email}`);\n\n    console.log(\"ğŸ‰ Initial data setup completed successfully!\");\n    console.log(\"\\nğŸ“‹ Summary:\");\n    console.log(`   Categories: ${createdCategories.length}`);\n    console.log(`   Restaurants: ${createdRestaurants.length}`);\n    console.log(`   Menu Items: ${createdMenuItems.length}`);\n    console.log(`   Drivers: ${createdDrivers.length}`);\n    console.log(`   Special Offers: ${createdOffers.length}`);\n    console.log(`   UI Settings: ${createdSettings.length}`);\n    console.log(`   Admin Users: 1`);\n\n  } catch (error) {\n    console.error(\"âŒ Error setting up initial data:\", error);\n    process.exit(1);\n  }\n}\n\nsetupInitialData();","size_bytes":10541},"server/routes/admin.ts":{"content":"import express from \"express\";\nimport { dbStorage } from \"../db.js\";\nimport * as schema from \"../../shared/schema.js\";\nimport { eq, desc, and, or, like, count, sql } from \"drizzle-orm\";\nimport bcrypt from \"bcrypt\";\n\nconst router = express.Router();\n\n// Middleware Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…Ø¯ÙŠØ±\nconst requireAdmin = async (req: any, res: any, next: any) => {\n  try {\n    const authHeader = req.headers.authorization;\n    if (!authHeader) {\n      return res.status(401).json({ error: \"ØºÙŠØ± Ù…ØµØ±Ø­\" });\n    }\n\n    const token = authHeader.split(' ')[1];\n    const session = await dbStorage.getAdminSession(token);\n\n    if (!session || session.expiresAt < new Date()) {\n      return res.status(401).json({ error: \"Ø¬Ù„Ø³Ø© Ù…Ù†ØªÙ‡ÙŠØ© Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©\" });\n    }\n\n    const admin = await dbStorage.getAdminByEmail(session.adminId!);\n\n    if (!admin || admin.userType !== 'admin') {\n      return res.status(403).json({ error: \"ØµÙ„Ø§Ø­ÙŠØ§Øª ØºÙŠØ± ÙƒØ§ÙÙŠØ©\" });\n    }\n\n    req.admin = admin;\n    next();\n  } catch (error) {\n    console.error(\"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…Ø¯ÙŠØ±:\", error);\n    res.status(500).json({ error: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n  }\n};\n\n// ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ø¯ÙŠØ±\nrouter.post(\"/login\", async (req, res) => {\n  try {\n    const { email, password } = req.body;\n\n    // Ø§Ù„Ø¨Ø­Ø« Ø¨Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„ Ø£Ùˆ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…\n    const admin = await dbStorage.getAdminByEmail(email);\n\n    if (!admin) {\n      return res.status(401).json({ message: \"Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø£Ùˆ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©\" });\n    }\n\n    // Ù…Ù‚Ø§Ø±Ù†Ø© ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø¨Ø¥Ø³ØªØ®Ø¯Ø§Ù… bcrypt\n    const isPasswordValid = await bcrypt.compare(password, admin.password);\n    if (!isPasswordValid) {\n      return res.status(401).json({ message: \"Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø£Ùˆ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©\" });\n    }\n\n    if (!admin.isActive) {\n      return res.status(401).json({ error: \"Ø§Ù„Ø­Ø³Ø§Ø¨ ØºÙŠØ± Ù†Ø´Ø·\" });\n    }\n\n    // Ø¥Ù†Ø´Ø§Ø¡ Ø¬Ù„Ø³Ø© Ø¬Ø¯ÙŠØ¯Ø©\n    const token = `admin_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n    const expiresAt = new Date(Date.now() + 24 * 60 * 60 * 1000); // 24 Ø³Ø§Ø¹Ø©\n\n    await dbStorage.createAdminSession({\n      adminId: admin.id,\n      token,\n      userType: \"admin\",\n      expiresAt\n    });\n\n    res.json({\n      success: true,\n      token,\n      admin: {\n        id: admin.id,\n        name: admin.name,\n        email: admin.email,\n        userType: admin.userType\n      }\n    });\n  } catch (error) {\n    console.error(\"Ø®Ø·Ø£ ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ø¯ÙŠØ±:\", error);\n    res.status(500).json({ error: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n  }\n});\n\n// ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬ Ø§Ù„Ù…Ø¯ÙŠØ±\nrouter.post(\"/logout\", requireAdmin, async (req: any, res) => {\n  try {\n    const authHeader = req.headers.authorization;\n    const token = authHeader.split(' ')[1];\n\n    await dbStorage.deleteAdminSession(token);\n\n    res.json({ success: true });\n  } catch (error) {\n    res.status(500).json({ error: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n  }\n});\n\n// Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª\nrouter.get(\"/dashboard\", requireAdmin, async (req, res) => {\n  try {\n    // Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø¹Ø§Ù…Ø©\n    const [\n      totalRestaurants,\n      totalOrders,\n      totalDrivers,\n      totalCustomers,\n      todayOrders,\n      pendingOrders,\n      activeDrivers\n    ] = await Promise.all([\n      db.select({ count: count() }).from(schema.restaurants),\n      db.select({ count: count() }).from(schema.orders),\n      db.select({ count: count() }).from(schema.adminUsers).where(eq(schema.adminUsers.userType, \"driver\")),\n      db.select({ count: count() }).from(schema.customers),\n      db.select({ count: count() }).from(schema.orders)\n        .where(sql`DATE(created_at) = CURRENT_DATE`),\n      db.select({ count: count() }).from(schema.orders)\n        .where(eq(schema.orders.status, \"pending\")),\n      db.select({ count: count() }).from(schema.adminUsers)\n        .where(and(\n          eq(schema.adminUsers.userType, \"driver\"),\n          eq(schema.adminUsers.isActive, true)\n        ))\n    ]);\n\n    // Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ù…Ø§Ù„ÙŠØ©\n    const [totalRevenue, todayRevenue] = await Promise.all([\n      db.select({ \n        total: sql<number>`COALESCE(SUM(${schema.orders.total}), 0)` \n      }).from(schema.orders)\n        .where(eq(schema.orders.status, \"delivered\")),\n      db.select({ \n        total: sql<number>`COALESCE(SUM(${schema.orders.total}), 0)` \n      }).from(schema.orders)\n        .where(and(\n          eq(schema.orders.status, \"delivered\"),\n          sql`DATE(created_at) = CURRENT_DATE`\n        ))\n    ]);\n\n    // Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø£Ø®ÙŠØ±Ø©\n    const recentOrders = await db.query.orders.findMany({\n      limit: 10,\n      orderBy: desc(schema.orders.createdAt),\n      with: {\n        restaurantId: true,\n        customerId: true,\n        driverId: true\n      }\n    });\n\n    res.json({\n      stats: {\n        totalRestaurants: totalRestaurants[0].count,\n        totalOrders: totalOrders[0].count,\n        totalDrivers: totalDrivers[0].count,\n        totalCustomers: totalCustomers[0].count,\n        todayOrders: todayOrders[0].count,\n        pendingOrders: pendingOrders[0].count,\n        activeDrivers: activeDrivers[0].count,\n        totalRevenue: totalRevenue[0].total,\n        todayRevenue: todayRevenue[0].total\n      },\n      recentOrders\n    });\n  } catch (error) {\n    console.error(\"Ø®Ø·Ø£ ÙÙŠ Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª:\", error);\n    res.status(500).json({ error: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n  }\n});\n\n// Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª\nrouter.get(\"/categories\", requireAdmin, async (req, res) => {\n  try {\n    const categories = await db.query.categories.findMany({\n      orderBy: [schema.categories.sortOrder, schema.categories.name]\n    });\n    res.json(categories);\n  } catch (error) {\n    res.status(500).json({ error: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n  }\n});\n\nrouter.post(\"/categories\", requireAdmin, async (req, res) => {\n  try {\n    const categoryData = req.body;\n    const [newCategory] = await db.insert(schema.categories)\n      .values(categoryData)\n      .returning();\n    \n    res.json(newCategory);\n  } catch (error) {\n    res.status(500).json({ error: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n  }\n});\n\nrouter.put(\"/categories/:id\", requireAdmin, async (req, res) => {\n  try {\n    const { id } = req.params;\n    const updateData = req.body;\n    \n    const [updatedCategory] = await db.update(schema.categories)\n      .set({ ...updateData, updatedAt: new Date() })\n      .where(eq(schema.categories.id, id))\n      .returning();\n    \n    res.json(updatedCategory);\n  } catch (error) {\n    res.status(500).json({ error: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n  }\n});\n\nrouter.delete(\"/categories/:id\", requireAdmin, async (req, res) => {\n  try {\n    const { id } = req.params;\n    \n    await db.delete(schema.categories)\n      .where(eq(schema.categories.id, id));\n    \n    res.json({ success: true });\n  } catch (error) {\n    res.status(500).json({ error: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n  }\n});\n\n// Ø¥Ø¯Ø§Ø±Ø© Ø£Ù‚Ø³Ø§Ù… Ø§Ù„Ù…Ø·Ø§Ø¹Ù…\nrouter.get(\"/restaurant-sections\", requireAdmin, async (req, res) => {\n  try {\n    const sections = await db.query.restaurantSections.findMany({\n      orderBy: [schema.restaurantSections.sortOrder, schema.restaurantSections.name]\n    });\n    res.json(sections);\n  } catch (error) {\n    res.status(500).json({ error: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n  }\n});\n\nrouter.post(\"/restaurant-sections\", requireAdmin, async (req, res) => {\n  try {\n    const sectionData = req.body;\n    const [newSection] = await db.insert(schema.restaurantSections)\n      .values(sectionData)\n      .returning();\n    \n    res.json(newSection);\n  } catch (error) {\n    res.status(500).json({ error: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n  }\n});\n\n// Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø·Ø§Ø¹Ù…\nrouter.get(\"/restaurants\", requireAdmin, async (req, res) => {\n  try {\n    const { page = 1, limit = 10, search, categoryId } = req.query;\n    const offset = (Number(page) - 1) * Number(limit);\n\n    let whereConditions = [];\n    \n    if (search) {\n      whereConditions.push(\n        or(\n          like(schema.restaurants.name, `%${search}%`),\n          like(schema.restaurants.description, `%${search}%`)\n        )\n      );\n    }\n    \n    if (categoryId) {\n      whereConditions.push(eq(schema.restaurants.categoryId, categoryId as string));\n    }\n\n    const restaurants = await db.query.restaurants.findMany({\n      where: whereConditions.length > 0 ? and(...whereConditions) : undefined,\n      limit: Number(limit),\n      offset,\n      orderBy: desc(schema.restaurants.createdAt)\n    });\n\n    const [totalCount] = await db.select({ count: count() })\n      .from(schema.restaurants)\n      .where(whereConditions.length > 0 ? and(...whereConditions) : undefined);\n\n    res.json(restaurants);\n  } catch (error) {\n    console.error(\"Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ù…Ø·Ø§Ø¹Ù…:\", error);\n    res.status(500).json({ error: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n  }\n});\n\nrouter.post(\"/restaurants\", requireAdmin, async (req, res) => {\n  try {\n    const restaurantData = req.body;\n    \n    // Ø¥Ø¶Ø§ÙØ© ØµÙˆØ±Ø© Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ø¥Ø°Ø§ Ù„Ù… ØªÙƒÙ† Ù…ÙˆØ¬ÙˆØ¯Ø©\n    if (!restaurantData.image) {\n      restaurantData.image = \"https://images.pexels.com/photos/262978/pexels-photo-262978.jpeg\";\n    }\n    \n    const [newRestaurant] = await db.insert(schema.restaurants)\n      .values(restaurantData)\n      .returning();\n    \n    res.json(newRestaurant);\n  } catch (error) {\n    console.error(\"Ø®Ø·Ø£ ÙÙŠ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø·Ø¹Ù…:\", error);\n    res.status(500).json({ error: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n  }\n});\n\nrouter.put(\"/restaurants/:id\", requireAdmin, async (req, res) => {\n  try {\n    const { id } = req.params;\n    const updateData = req.body;\n    \n    const [updatedRestaurant] = await db.update(schema.restaurants)\n      .set({ ...updateData, updatedAt: new Date() })\n      .where(eq(schema.restaurants.id, id))\n      .returning();\n    \n    res.json(updatedRestaurant);\n  } catch (error) {\n    res.status(500).json({ error: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n  }\n});\n\nrouter.delete(\"/restaurants/:id\", requireAdmin, async (req, res) => {\n  try {\n    const { id } = req.params;\n    \n    await db.delete(schema.restaurants)\n      .where(eq(schema.restaurants.id, id));\n    \n    res.json({ success: true });\n  } catch (error) {\n    res.status(500).json({ error: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n  }\n});\n\n// Ø¥Ø¯Ø§Ø±Ø© Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©\nrouter.get(\"/restaurants/:restaurantId/menu\", requireAdmin, async (req, res) => {\n  try {\n    const { restaurantId } = req.params;\n    \n    const menuItems = await db.query.menuItems.findMany({\n      where: eq(schema.menuItems.restaurantId, restaurantId),\n      orderBy: [schema.menuItems.name]\n    });\n    \n    res.json(menuItems);\n  } catch (error) {\n    console.error(\"Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©:\", error);\n    res.status(500).json({ error: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n  }\n});\n\nrouter.post(\"/menu-items\", requireAdmin, async (req, res) => {\n  try {\n    const menuItemData = req.body;\n    \n    // Ø¥Ø¶Ø§ÙØ© ØµÙˆØ±Ø© Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ø¥Ø°Ø§ Ù„Ù… ØªÙƒÙ† Ù…ÙˆØ¬ÙˆØ¯Ø©\n    if (!menuItemData.image) {\n      menuItemData.image = \"https://images.pexels.com/photos/1640777/pexels-photo-1640777.jpeg\";\n    }\n    \n    const [newMenuItem] = await db.insert(schema.menuItems)\n      .values(menuItemData)\n      .returning();\n    \n    res.json(newMenuItem);\n  } catch (error) {\n    res.status(500).json({ error: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n  }\n});\n\nrouter.put(\"/menu-items/:id\", requireAdmin, async (req, res) => {\n  try {\n    const { id } = req.params;\n    const updateData = req.body;\n    \n    const [updatedMenuItem] = await db.update(schema.menuItems)\n      .set({ ...updateData, updatedAt: new Date() })\n      .where(eq(schema.menuItems.id, id))\n      .returning();\n    \n    res.json(updatedMenuItem);\n  } catch (error) {\n    res.status(500).json({ error: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n  }\n});\n\nrouter.delete(\"/menu-items/:id\", requireAdmin, async (req, res) => {\n  try {\n    const { id } = req.params;\n    \n    await db.delete(schema.menuItems)\n      .where(eq(schema.menuItems.id, id));\n    \n    res.json({ success: true });\n  } catch (error) {\n    res.status(500).json({ error: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n  }\n});\n\n// Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª\nrouter.get(\"/orders\", requireAdmin, async (req, res) => {\n  try {\n    const { page = 1, limit = 20, status, search } = req.query;\n    const offset = (Number(page) - 1) * Number(limit);\n\n    let whereConditions = [];\n    \n    if (status && status !== 'all') {\n      whereConditions.push(eq(schema.orders.status, status as string));\n    }\n    \n    if (search) {\n      whereConditions.push(\n        or(\n          like(schema.orders.orderNumber, `%${search}%`),\n          like(schema.orders.customerName, `%${search}%`),\n          like(schema.orders.customerPhone, `%${search}%`)\n        )\n      );\n    }\n\n    const orders = await db.query.orders.findMany({\n      where: whereConditions.length > 0 ? and(...whereConditions) : undefined,\n      with: {\n        restaurantId: true,\n        customerId: true,\n        driverId: true\n      },\n      limit: Number(limit),\n      offset,\n      orderBy: desc(schema.orders.createdAt)\n    });\n\n    const [totalCount] = await db.select({ count: count() })\n      .from(schema.orders)\n      .where(whereConditions.length > 0 ? and(...whereConditions) : undefined);\n\n    res.json({\n      orders,\n      pagination: {\n        page: Number(page),\n        limit: Number(limit),\n        total: totalCount.count,\n        pages: Math.ceil(totalCount.count / Number(limit))\n      }\n    });\n  } catch (error) {\n    res.status(500).json({ error: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n  }\n});\n\nrouter.put(\"/orders/:id/status\", requireAdmin, async (req: any, res) => {\n  try {\n    const { id } = req.params;\n    const { status, driverId } = req.body;\n    \n    const updateData: any = { \n      status, \n      updatedAt: new Date() \n    };\n    \n    if (driverId) {\n      updateData.driverId = driverId;\n    }\n    \n    const [updatedOrder] = await db.update(schema.orders)\n      .set(updateData)\n      .where(eq(schema.orders.id, id))\n      .returning();\n    \n    // Ø¥Ø¶Ø§ÙØ© ØªØªØ¨Ø¹ Ù„Ù„Ø·Ù„Ø¨\n    await db.insert(schema.orderTracking).values({\n      orderId: id,\n      status,\n      message: `ØªÙ… ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨ Ø¥Ù„Ù‰: ${status}`,\n      createdBy: req.admin.id,\n      createdByType: 'admin'\n    });\n    \n    res.json(updatedOrder);\n  } catch (error) {\n    console.error(\"Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨:\", error);\n    res.status(500).json({ error: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n  }\n});\n\n// Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø³Ø§Ø¦Ù‚ÙŠÙ†\nrouter.get(\"/drivers\", requireAdmin, async (req, res) => {\n  try {\n    const drivers = await db.query.adminUsers.findMany({\n      where: eq(schema.adminUsers.userType, \"driver\"),\n      orderBy: desc(schema.adminUsers.createdAt)\n    });\n    \n    res.json(drivers);\n  } catch (error) {\n    res.status(500).json({ error: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n  }\n});\n\nrouter.post(\"/drivers\", requireAdmin, async (req, res) => {\n  try {\n    const driverData = {\n      ...req.body,\n      userType: \"driver\"\n    };\n    \n    const [newDriver] = await db.insert(schema.adminUsers)\n      .values(driverData)\n      .returning();\n    \n    res.json(newDriver);\n  } catch (error) {\n    res.status(500).json({ error: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n  }\n});\n\nrouter.put(\"/drivers/:id\", requireAdmin, async (req, res) => {\n  try {\n    const { id } = req.params;\n    const updateData = req.body;\n    \n    const [updatedDriver] = await db.update(schema.adminUsers)\n      .set({ ...updateData, updatedAt: new Date() })\n      .where(eq(schema.adminUsers.id, id))\n      .returning();\n    \n    res.json(updatedDriver);\n  } catch (error) {\n    res.status(500).json({ error: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n  }\n});\n\nrouter.delete(\"/drivers/:id\", requireAdmin, async (req, res) => {\n  try {\n    const { id } = req.params;\n    \n    await db.delete(schema.adminUsers)\n      .where(eq(schema.adminUsers.id, id));\n    \n    res.json({ success: true });\n  } catch (error) {\n    res.status(500).json({ error: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n  }\n});\n\n// Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø³Ø§Ø¦Ù‚\nrouter.get(\"/drivers/:id/stats\", requireAdmin, async (req, res) => {\n  try {\n    const { id } = req.params;\n    const { startDate, endDate } = req.query;\n    \n    let dateFilter = [];\n    if (startDate) {\n      dateFilter.push(sql`${schema.orders.createdAt} >= ${startDate}`);\n    }\n    if (endDate) {\n      dateFilter.push(sql`${schema.orders.createdAt} <= ${endDate}`);\n    }\n    \n    const whereConditions = [\n      eq(schema.orders.driverId, id),\n      ...dateFilter\n    ];\n    \n    const [stats] = await db.select({\n      totalOrders: count(),\n      totalEarnings: sql<number>`COALESCE(SUM(${schema.orders.driverEarnings}), 0)`,\n      completedOrders: sql<number>`COUNT(CASE WHEN ${schema.orders.status} = 'delivered' THEN 1 END)`,\n      cancelledOrders: sql<number>`COUNT(CASE WHEN ${schema.orders.status} = 'cancelled' THEN 1 END)`\n    }).from(schema.orders)\n      .where(and(...whereConditions));\n    \n    res.json(stats);\n  } catch (error) {\n    res.status(500).json({ error: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n  }\n});\n\n// Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø®Ø§ØµØ©\nrouter.get(\"/special-offers\", requireAdmin, async (req, res) => {\n  try {\n    const offers = await db.query.specialOffers.findMany({\n      orderBy: desc(schema.specialOffers.createdAt)\n    });\n    \n    res.json(offers);\n  } catch (error) {\n    console.error(\"Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø®Ø§ØµØ©:\", error);\n    res.status(500).json({ error: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n  }\n});\n\nrouter.post(\"/special-offers\", requireAdmin, async (req, res) => {\n  try {\n    const offerData = req.body;\n    \n    const [newOffer] = await db.insert(schema.specialOffers)\n      .values(offerData)\n      .returning();\n    \n    res.json(newOffer);\n  } catch (error) {\n    res.status(500).json({ error: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n  }\n});\n\nrouter.put(\"/special-offers/:id\", requireAdmin, async (req, res) => {\n  try {\n    const { id } = req.params;\n    const updateData = req.body;\n    \n    const [updatedOffer] = await db.update(schema.specialOffers)\n      .set({ ...updateData, updatedAt: new Date() })\n      .where(eq(schema.specialOffers.id, id))\n      .returning();\n    \n    res.json(updatedOffer);\n  } catch (error) {\n    res.status(500).json({ error: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n  }\n});\n\nrouter.delete(\"/special-offers/:id\", requireAdmin, async (req, res) => {\n  try {\n    const { id } = req.params;\n    \n    await db.delete(schema.specialOffers)\n      .where(eq(schema.specialOffers.id, id));\n    \n    res.json({ success: true });\n  } catch (error) {\n    res.status(500).json({ error: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n  }\n});\n\n// Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª\nrouter.post(\"/notifications\", requireAdmin, async (req: any, res) => {\n  try {\n    const notificationData = {\n      ...req.body,\n      createdBy: req.admin.id\n    };\n    \n    const [newNotification] = await db.insert(schema.notifications)\n      .values(notificationData)\n      .returning();\n    \n    res.json(newNotification);\n  } catch (error) {\n    console.error(\"Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±:\", error);\n    res.status(500).json({ error: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n  }\n});\n\n// Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…\nrouter.get(\"/settings\", requireAdmin, async (req, res) => {\n  try {\n    const settings = await db.query.systemSettings.findMany({\n      orderBy: [schema.systemSettings.category, schema.systemSettings.key]\n    });\n    \n    res.json(settings);\n  } catch (error) {\n    res.status(500).json({ error: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n  }\n});\n\nrouter.put(\"/settings/:key\", requireAdmin, async (req, res) => {\n  try {\n    const { key } = req.params;\n    const { value } = req.body;\n    \n    const [updatedSetting] = await db.update(schema.systemSettings)\n      .set({ value, updatedAt: new Date() })\n      .where(eq(schema.systemSettings.key, key))\n      .returning();\n    \n    res.json(updatedSetting);\n  } catch (error) {\n    res.status(500).json({ error: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n  }\n});\n\n// Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… (Ù…ØªØ§Ø­Ø© Ù„Ù„Ø¹Ø§Ù…Ø©)\nrouter.get(\"/ui-settings\", async (req, res) => {\n  try {\n    const settings = await db.query.systemSettings.findMany({\n      where: eq(schema.systemSettings.isActive, true),\n      orderBy: [schema.systemSettings.category, schema.systemSettings.key]\n    });\n    \n    res.json(settings);\n  } catch (error) {\n    res.status(500).json({ error: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n  }\n});\n\n// ØªØ­Ø¯ÙŠØ« Ø£ÙˆÙ‚Ø§Øª Ø§Ù„Ø¹Ù…Ù„\nrouter.put(\"/business-hours\", requireAdmin, async (req, res) => {\n  try {\n    const { opening_time, closing_time, store_status } = req.body;\n    \n    const updates = [];\n    \n    if (opening_time) {\n      updates.push(\n        db.update(schema.systemSettings)\n          .set({ value: opening_time, updatedAt: new Date() })\n          .where(eq(schema.systemSettings.key, 'opening_time'))\n      );\n    }\n    \n    if (closing_time) {\n      updates.push(\n        db.update(schema.systemSettings)\n          .set({ value: closing_time, updatedAt: new Date() })\n          .where(eq(schema.systemSettings.key, 'closing_time'))\n      );\n    }\n    \n    if (store_status) {\n      updates.push(\n        db.update(schema.systemSettings)\n          .set({ value: store_status, updatedAt: new Date() })\n          .where(eq(schema.systemSettings.key, 'store_status'))\n      );\n    }\n    \n    await Promise.all(updates);\n    \n    res.json({ success: true, message: \"ØªÙ… ØªØ­Ø¯ÙŠØ« Ø£ÙˆÙ‚Ø§Øª Ø§Ù„Ø¹Ù…Ù„ Ø¨Ù†Ø¬Ø§Ø­\" });\n  } catch (error) {\n    console.error(\"Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø£ÙˆÙ‚Ø§Øª Ø§Ù„Ø¹Ù…Ù„:\", error);\n    res.status(500).json({ error: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n  }\n});\n\nexport { router as adminRoutes };","size_bytes":21839},"server/routes/customer.ts":{"content":"import express from \"express\";\nimport { db } from \"../db.js\";\nimport * as schema from \"../../shared/schema.js\";\nimport { eq, desc, and } from \"drizzle-orm\";\n\nconst router = express.Router();\n\n// ØªØ³Ø¬ÙŠÙ„ Ø¹Ù…ÙŠÙ„ Ø¬Ø¯ÙŠØ¯ Ø£Ùˆ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„\nrouter.post(\"/auth\", async (req, res) => {\n  try {\n    const { phone, name } = req.body;\n\n    // Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø¹Ù…ÙŠÙ„\n    let customer = await db.query.customers.findFirst({\n      where: eq(schema.customers.phone, phone)\n    });\n\n    if (!customer) {\n      // Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù…ÙŠÙ„ Ø¬Ø¯ÙŠØ¯\n      [customer] = await db.insert(schema.customers)\n        .values({ phone, name })\n        .returning();\n    }\n\n    res.json(customer);\n  } catch (error) {\n    console.error(\"Ø®Ø·Ø£ ÙÙŠ Ù…ØµØ§Ø¯Ù‚Ø© Ø§Ù„Ø¹Ù…ÙŠÙ„:\", error);\n    res.status(500).json({ error: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n  }\n});\n\n// Ø¬Ù„Ø¨ Ù…Ù„Ù Ø§Ù„Ø¹Ù…ÙŠÙ„\nrouter.get(\"/:id/profile\", async (req, res) => {\n  try {\n    const { id } = req.params;\n    \n    const customer = await db.query.customers.findFirst({\n      where: eq(schema.customers.id, id)\n    });\n\n    if (!customer) {\n      return res.status(404).json({ error: \"Ø§Ù„Ø¹Ù…ÙŠÙ„ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯\" });\n    }\n\n    res.json(customer);\n  } catch (error) {\n    res.status(500).json({ error: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n  }\n});\n\n// ØªØ­Ø¯ÙŠØ« Ù…Ù„Ù Ø§Ù„Ø¹Ù…ÙŠÙ„\nrouter.put(\"/:id/profile\", async (req, res) => {\n  try {\n    const { id } = req.params;\n    const updateData = req.body;\n\n    const [updatedCustomer] = await db.update(schema.customers)\n      .set({ ...updateData, updatedAt: new Date() })\n      .where(eq(schema.customers.id, id))\n      .returning();\n\n    res.json(updatedCustomer);\n  } catch (error) {\n    res.status(500).json({ error: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n  }\n});\n\n// Ø¬Ù„Ø¨ Ø¹Ù†Ø§ÙˆÙŠÙ† Ø§Ù„Ø¹Ù…ÙŠÙ„\nrouter.get(\"/:id/addresses\", async (req, res) => {\n  try {\n    const { id } = req.params;\n    \n    const addresses = await db.query.customerAddresses.findMany({\n      where: eq(schema.customerAddresses.customerId, id),\n      orderBy: [desc(schema.customerAddresses.isDefault), desc(schema.customerAddresses.createdAt)]\n    });\n\n    res.json(addresses);\n  } catch (error) {\n    res.status(500).json({ error: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n  }\n});\n\n// Ø¥Ø¶Ø§ÙØ© Ø¹Ù†ÙˆØ§Ù† Ø¬Ø¯ÙŠØ¯\nrouter.post(\"/:id/addresses\", async (req, res) => {\n  try {\n    const { id } = req.params;\n    const addressData = { ...req.body, customerId: id };\n\n    // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§ÙØªØ±Ø§Ø¶ÙŠØŒ Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ Ù…Ù† Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ† Ø§Ù„Ø£Ø®Ø±Ù‰\n    if (addressData.isDefault) {\n      await db.update(schema.customerAddresses)\n        .set({ isDefault: false })\n        .where(eq(schema.customerAddresses.customerId, id));\n    }\n\n    const [newAddress] = await db.insert(schema.customerAddresses)\n      .values(addressData)\n      .returning();\n\n    res.json(newAddress);\n  } catch (error) {\n    res.status(500).json({ error: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n  }\n});\n\n// ØªØ­Ø¯ÙŠØ« Ø¹Ù†ÙˆØ§Ù†\nrouter.put(\"/:customerId/addresses/:addressId\", async (req, res) => {\n  try {\n    const { customerId, addressId } = req.params;\n    const updateData = req.body;\n\n    // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§ÙØªØ±Ø§Ø¶ÙŠØŒ Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ Ù…Ù† Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ† Ø§Ù„Ø£Ø®Ø±Ù‰\n    if (updateData.isDefault) {\n      await db.update(schema.customerAddresses)\n        .set({ isDefault: false })\n        .where(eq(schema.customerAddresses.customerId, customerId));\n    }\n\n    const [updatedAddress] = await db.update(schema.customerAddresses)\n      .set(updateData)\n      .where(and(\n        eq(schema.customerAddresses.id, addressId),\n        eq(schema.customerAddresses.customerId, customerId)\n      ))\n      .returning();\n\n    res.json(updatedAddress);\n  } catch (error) {\n    res.status(500).json({ error: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n  }\n});\n\n// Ø­Ø°Ù Ø¹Ù†ÙˆØ§Ù†\nrouter.delete(\"/:customerId/addresses/:addressId\", async (req, res) => {\n  try {\n    const { customerId, addressId } = req.params;\n\n    await db.delete(schema.customerAddresses)\n      .where(and(\n        eq(schema.customerAddresses.id, addressId),\n        eq(schema.customerAddresses.customerId, customerId)\n      ));\n\n    res.json({ success: true });\n  } catch (error) {\n    res.status(500).json({ error: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n  }\n});\n\n// Ø¬Ù„Ø¨ Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„\nrouter.get(\"/:id/orders\", async (req, res) => {\n  try {\n    const { id } = req.params;\n    const { page = 1, limit = 10 } = req.query;\n    const offset = (Number(page) - 1) * Number(limit);\n\n    const orders = await db.query.orders.findMany({\n      where: eq(schema.orders.customerId, id),\n      with: {\n        restaurantId: true,\n        driverId: true\n      },\n      limit: Number(limit),\n      offset,\n      orderBy: desc(schema.orders.createdAt)\n    });\n\n    res.json(orders);\n  } catch (error) {\n    res.status(500).json({ error: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n  }\n});\n\n// ØªÙ‚ÙŠÙŠÙ… Ø·Ù„Ø¨\nrouter.post(\"/orders/:orderId/review\", async (req, res) => {\n  try {\n    const { orderId } = req.params;\n    const { customerId, rating, comment, foodQuality, deliverySpeed, packaging, driverService } = req.body;\n\n    // ØªØ­Ø¯ÙŠØ« ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø·Ù„Ø¨\n    await db.update(schema.orders)\n      .set({ rating, review: comment })\n      .where(eq(schema.orders.id, orderId));\n\n    // Ø¥Ø¶Ø§ÙØ© Ù…Ø±Ø§Ø¬Ø¹Ø© Ù…ÙØµÙ„Ø©\n    const [newReview] = await db.insert(schema.reviews)\n      .values({\n        customerId,\n        orderId,\n        rating,\n        comment,\n        foodQuality,\n        deliverySpeed,\n        packaging,\n        driverService\n      })\n      .returning();\n\n    res.json(newReview);\n  } catch (error) {\n    res.status(500).json({ error: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n  }\n});\n\nexport { router as customerRoutes };","size_bytes":5773},"server/routes/driver.ts":{"content":"import express from \"express\";\nimport { db } from \"../db.js\";\nimport * as schema from \"../../shared/schema.js\";\nimport { eq, desc, and, or, sql } from \"drizzle-orm\";\nimport bcrypt from \"bcrypt\";\n\nconst router = express.Router();\n\n// Middleware Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ø³Ø§Ø¦Ù‚\nconst requireDriver = async (req: any, res: any, next: any) => {\n  try {\n    const authHeader = req.headers.authorization;\n    if (!authHeader) {\n      return res.status(401).json({ error: \"ØºÙŠØ± Ù…ØµØ±Ø­\" });\n    }\n\n    const token = authHeader.split(' ')[1];\n    const session = await db.query.adminSessions.findFirst({\n      where: eq(schema.adminSessions.token, token),\n    });\n\n    if (!session || session.expiresAt < new Date()) {\n      return res.status(401).json({ error: \"Ø¬Ù„Ø³Ø© Ù…Ù†ØªÙ‡ÙŠØ© Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©\" });\n    }\n\n    const driver = await db.query.adminUsers.findFirst({\n      where: eq(schema.adminUsers.id, session.adminId!)\n    });\n\n    if (!driver || driver.userType !== 'driver') {\n      return res.status(403).json({ error: \"ØµÙ„Ø§Ø­ÙŠØ§Øª ØºÙŠØ± ÙƒØ§ÙÙŠØ©\" });\n    }\n\n    req.driver = driver;\n    next();\n  } catch (error) {\n    console.error(\"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ø³Ø§Ø¦Ù‚:\", error);\n    res.status(500).json({ error: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n  }\n};\n\n// ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø³Ø§Ø¦Ù‚\nrouter.post(\"/login\", async (req, res) => {\n  try {\n    const { phone, password } = req.body;\n\n    const driver = await db.query.adminUsers.findFirst({\n      where: and(\n        eq(schema.adminUsers.phone, phone),\n        eq(schema.adminUsers.userType, \"driver\")\n      )\n    });\n\n    if (!driver) {\n      return res.status(401).json({ error: \"Ø¨ÙŠØ§Ù†Ø§Øª Ø¯Ø®ÙˆÙ„ Ø®Ø§Ø·Ø¦Ø©\" });\n    }\n\n    // Ù…Ù‚Ø§Ø±Ù†Ø© ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø¨Ø¥Ø³ØªØ®Ø¯Ø§Ù… bcrypt\n    const isPasswordValid = await bcrypt.compare(password, driver.password);\n    if (!isPasswordValid) {\n      return res.status(401).json({ error: \"Ø¨ÙŠØ§Ù†Ø§Øª Ø¯Ø®ÙˆÙ„ Ø®Ø§Ø·Ø¦Ø©\" });\n    }\n\n    if (!driver.isActive) {\n      return res.status(401).json({ error: \"Ø§Ù„Ø­Ø³Ø§Ø¨ ØºÙŠØ± Ù†Ø´Ø·\" });\n    }\n\n    // Ø¥Ù†Ø´Ø§Ø¡ Ø¬Ù„Ø³Ø© Ø¬Ø¯ÙŠØ¯Ø©\n    const token = `driver_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n    const expiresAt = new Date(Date.now() + 24 * 60 * 60 * 1000); // 24 Ø³Ø§Ø¹Ø©\n\n    await db.insert(schema.adminSessions).values({\n      adminId: driver.id,\n      token,\n      userType: \"driver\",\n      expiresAt\n    });\n\n    res.json({\n      success: true,\n      token,\n      driver: {\n        id: driver.id,\n        name: driver.name,\n        phone: driver.phone,\n        userType: driver.userType\n      }\n    });\n  } catch (error) {\n    console.error(\"Ø®Ø·Ø£ ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø³Ø§Ø¦Ù‚:\", error);\n    res.status(500).json({ error: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n  }\n});\n\n// ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬ Ø§Ù„Ø³Ø§Ø¦Ù‚\nrouter.post(\"/logout\", requireDriver, async (req: any, res) => {\n  try {\n    const authHeader = req.headers.authorization;\n    const token = authHeader.split(' ')[1];\n\n    await db.delete(schema.adminSessions)\n      .where(eq(schema.adminSessions.token, token));\n\n    res.json({ success: true });\n  } catch (error) {\n    res.status(500).json({ error: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n  }\n});\n\n// Ù„ÙˆØ­Ø© Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø³Ø§Ø¦Ù‚\nrouter.get(\"/dashboard\", requireDriver, async (req: any, res) => {\n  try {\n    const driverId = req.driver.id;\n    \n    // Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø³Ø§Ø¦Ù‚\n    const [todayStats] = await db.select({\n      todayOrders: sql<number>`COUNT(CASE WHEN DATE(${schema.orders.createdAt}) = CURRENT_DATE THEN 1 END)`,\n      todayEarnings: sql<number>`COALESCE(SUM(CASE WHEN DATE(${schema.orders.createdAt}) = CURRENT_DATE THEN ${schema.orders.driverEarnings} END), 0)`,\n      completedToday: sql<number>`COUNT(CASE WHEN DATE(${schema.orders.createdAt}) = CURRENT_DATE AND ${schema.orders.status} = 'delivered' THEN 1 END)`,\n      totalOrders: sql<number>`COUNT(*)`,\n      totalEarnings: sql<number>`COALESCE(SUM(${schema.orders.driverEarnings}), 0)`,\n      averageRating: sql<number>`COALESCE(AVG(${schema.orders.rating}), 0)`\n    }).from(schema.orders)\n      .where(eq(schema.orders.driverId, driverId));\n\n    // Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø© (ØºÙŠØ± Ù…ÙØ¹ÙŠÙÙ‘Ù†Ø© Ù„Ø³Ø§Ø¦Ù‚)\n    const availableOrders = await db.query.orders.findMany({\n      where: and(\n        eq(schema.orders.status, \"confirmed\"),\n        sql`${schema.orders.driverId} IS NULL`\n      ),\n      orderBy: desc(schema.orders.createdAt),\n      limit: 10\n    });\n\n    // Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ© Ù„Ù„Ø³Ø§Ø¦Ù‚\n    const currentOrders = await db.query.orders.findMany({\n      where: and(\n        eq(schema.orders.driverId, driverId),\n        or(\n          eq(schema.orders.status, \"picked_up\"),\n          eq(schema.orders.status, \"ready\")\n        )\n      ),\n      orderBy: desc(schema.orders.createdAt)\n    });\n\n    res.json({\n      stats: todayStats,\n      availableOrders,\n      currentOrders\n    });\n  } catch (error) {\n    console.error(\"Ø®Ø·Ø£ ÙÙŠ Ù„ÙˆØ­Ø© Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø³Ø§Ø¦Ù‚:\", error);\n    res.status(500).json({ error: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n  }\n});\n\n// Ù‚Ø¨ÙˆÙ„ Ø·Ù„Ø¨\nrouter.post(\"/orders/:id/accept\", requireDriver, async (req: any, res) => {\n  try {\n    const { id } = req.params;\n    const driverId = req.driver.id;\n\n    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø£Ù† Ø§Ù„Ø·Ù„Ø¨ Ù…ØªØ§Ø­\n    const order = await db.query.orders.findFirst({\n      where: and(\n        eq(schema.orders.id, id),\n        eq(schema.orders.status, \"confirmed\"),\n        sql`${schema.orders.driverId} IS NULL`\n      )\n    });\n\n    if (!order) {\n      return res.status(400).json({ error: \"Ø§Ù„Ø·Ù„Ø¨ ØºÙŠØ± Ù…ØªØ§Ø­\" });\n    }\n\n    // ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø³Ø§Ø¦Ù‚ Ù„Ù„Ø·Ù„Ø¨\n    const [updatedOrder] = await db.update(schema.orders)\n      .set({ \n        driverId,\n        status: \"ready\",\n        updatedAt: new Date()\n      })\n      .where(eq(schema.orders.id, id))\n      .returning();\n\n    // Ø­Ø³Ø§Ø¨ Ø£Ø±Ø¨Ø§Ø­ Ø§Ù„Ø³Ø§Ø¦Ù‚ (Ù…Ø«Ù„Ø§Ù‹ 80% Ù…Ù† Ø±Ø³ÙˆÙ… Ø§Ù„ØªÙˆØµÙŠÙ„)\n    const driverEarnings = Number(order.deliveryFee) * 0.8;\n    await db.update(schema.orders)\n      .set({ driverEarnings })\n      .where(eq(schema.orders.id, id));\n\n    // Ø¥Ø¶Ø§ÙØ© ØªØªØ¨Ø¹ Ù„Ù„Ø·Ù„Ø¨\n    await db.insert(schema.orderTracking).values({\n      orderId: id,\n      status: \"ready\",\n      message: `ØªÙ… Ù‚Ø¨ÙˆÙ„ Ø§Ù„Ø·Ù„Ø¨ Ù…Ù† Ù‚Ø¨Ù„ Ø§Ù„Ø³Ø§Ø¦Ù‚ ${req.driver.name}`,\n      createdBy: driverId,\n      createdByType: 'driver'\n    });\n\n    res.json(updatedOrder);\n  } catch (error) {\n    console.error(\"Ø®Ø·Ø£ ÙÙŠ Ù‚Ø¨ÙˆÙ„ Ø§Ù„Ø·Ù„Ø¨:\", error);\n    res.status(500).json({ error: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n  }\n});\n\n// ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨\nrouter.put(\"/orders/:id/status\", requireDriver, async (req: any, res) => {\n  try {\n    const { id } = req.params;\n    const { status, location } = req.body;\n    const driverId = req.driver.id;\n\n    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø£Ù† Ø§Ù„Ø·Ù„Ø¨ Ù…ÙØ¹ÙŠÙÙ‘Ù† Ù„Ù„Ø³Ø§Ø¦Ù‚\n    const order = await db.query.orders.findFirst({\n      where: and(\n        eq(schema.orders.id, id),\n        eq(schema.orders.driverId, driverId)\n      )\n    });\n\n    if (!order) {\n      return res.status(403).json({ error: \"ØºÙŠØ± Ù…ØµØ±Ø­ Ø¨ØªØ­Ø¯ÙŠØ« Ù‡Ø°Ø§ Ø§Ù„Ø·Ù„Ø¨\" });\n    }\n\n    const updateData: any = { \n      status, \n      updatedAt: new Date() \n    };\n\n    if (status === 'delivered') {\n      updateData.actualDeliveryTime = new Date();\n    }\n\n    const [updatedOrder] = await db.update(schema.orders)\n      .set(updateData)\n      .where(eq(schema.orders.id, id))\n      .returning();\n\n    // Ø¥Ø¶Ø§ÙØ© ØªØªØ¨Ø¹ Ù„Ù„Ø·Ù„Ø¨\n    await db.insert(schema.orderTracking).values({\n      orderId: id,\n      status,\n      message: getStatusMessage(status),\n      location: location ? JSON.stringify(location) : null,\n      createdBy: driverId,\n      createdByType: 'driver'\n    });\n\n\n    res.json(updatedOrder);\n  } catch (error) {\n    console.error(\"Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨:\", error);\n    res.status(500).json({ error: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n  }\n});\n\n// Ø¬Ù„Ø¨ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨\nrouter.get(\"/orders/:id\", requireDriver, async (req: any, res) => {\n  try {\n    const { id } = req.params;\n    const driverId = req.driver.id;\n\n    const order = await db.query.orders.findFirst({\n      where: and(\n        eq(schema.orders.id, id),\n        eq(schema.orders.driverId, driverId)\n      ),\n    });\n\n    if (!order) {\n      return res.status(404).json({ error: \"Ø§Ù„Ø·Ù„Ø¨ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯\" });\n    }\n\n    // Ø¬Ù„Ø¨ ØªØªØ¨Ø¹ Ø§Ù„Ø·Ù„Ø¨\n    const tracking = await db.query.orderTracking.findMany({\n      where: eq(schema.orderTracking.orderId, id),\n      orderBy: desc(schema.orderTracking.timestamp!)\n    });\n\n    res.json({\n      ...order,\n      tracking\n    });\n  } catch (error) {\n    console.error(\"Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨:\", error);\n    res.status(500).json({ error: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n  }\n});\n\n// Ø¬Ù„Ø¨ ØªØ§Ø±ÙŠØ® Ø§Ù„Ø·Ù„Ø¨Ø§Øª\nrouter.get(\"/orders\", requireDriver, async (req: any, res) => {\n  try {\n    const driverId = req.driver.id;\n    const { page = 1, limit = 20, status } = req.query;\n    const offset = (Number(page) - 1) * Number(limit);\n\n    let whereConditions = [eq(schema.orders.driverId, driverId)];\n    \n    if (status && status !== 'all') {\n      whereConditions.push(eq(schema.orders.status, status as string));\n    }\n\n    const orders = await db.query.orders.findMany({\n      where: and(...whereConditions),\n      limit: Number(limit),\n      offset,\n      orderBy: desc(schema.orders.createdAt)\n    });\n\n    res.json(orders);\n  } catch (error) {\n    console.error(\"Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ ØªØ§Ø±ÙŠØ® Ø§Ù„Ø·Ù„Ø¨Ø§Øª:\", error);\n    res.status(500).json({ error: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n  }\n});\n\n// Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø³Ø§Ø¦Ù‚ Ø§Ù„Ù…ÙØµÙ„Ø©\nrouter.get(\"/stats\", requireDriver, async (req: any, res) => {\n  try {\n    const driverId = req.driver.id;\n    const { period = 'week' } = req.query;\n\n    let dateFilter;\n    switch (period) {\n      case 'today':\n        dateFilter = sql`DATE(${schema.orders.createdAt}) = CURRENT_DATE`;\n        break;\n      case 'week':\n        dateFilter = sql`${schema.orders.createdAt} >= CURRENT_DATE - INTERVAL '7 days'`;\n        break;\n      case 'month':\n        dateFilter = sql`${schema.orders.createdAt} >= CURRENT_DATE - INTERVAL '30 days'`;\n        break;\n      default:\n        dateFilter = sql`1=1`;\n    }\n\n    const [stats] = await db.select({\n      totalOrders: sql<number>`COUNT(*)`,\n      completedOrders: sql<number>`COUNT(CASE WHEN ${schema.orders.status} = 'delivered' THEN 1 END)`,\n      cancelledOrders: sql<number>`COUNT(CASE WHEN ${schema.orders.status} = 'cancelled' THEN 1 END)`,\n      totalEarnings: sql<number>`COALESCE(SUM(${schema.orders.driverEarnings}), 0)`,\n      averageRating: sql<number>`COALESCE(AVG(${schema.orders.rating}), 0)`,\n      totalRevenue: sql<number>`COALESCE(SUM(${schema.orders.total}), 0)`\n    }).from(schema.orders)\n      .where(and(\n        eq(schema.orders.driverId, driverId),\n        dateFilter\n      ));\n\n    // Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª ÙŠÙˆÙ…ÙŠØ© Ù„Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ù…Ø§Ø¶ÙŠ\n    const dailyStats = await db.select({\n      date: sql<string>`DATE(${schema.orders.createdAt})`,\n      orders: sql<number>`COUNT(*)`,\n      earnings: sql<number>`COALESCE(SUM(${schema.orders.driverEarnings}), 0)`\n    }).from(schema.orders)\n      .where(and(\n        eq(schema.orders.driverId, driverId),\n        sql`${schema.orders.createdAt} >= CURRENT_DATE - INTERVAL '7 days'`\n      ))\n      .groupBy(sql`DATE(${schema.orders.createdAt})`)\n      .orderBy(sql`DATE(${schema.orders.createdAt})`);\n\n    res.json({\n      summary: stats,\n      dailyStats\n    });\n  } catch (error) {\n    console.error(\"Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø³Ø§Ø¦Ù‚:\", error);\n    res.status(500).json({ error: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n  }\n});\n\n// ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ\nrouter.put(\"/profile\", requireDriver, async (req: any, res) => {\n  try {\n    const driverId = req.driver.id;\n    const updateData = req.body;\n\n    // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø­Ø³Ø§Ø³Ø©\n    delete updateData.password;\n    delete updateData.userType;\n    delete updateData.id;\n\n    const [updatedDriver] = await db.update(schema.adminUsers)\n      .set({ ...updateData, updatedAt: new Date() })\n      .where(eq(schema.adminUsers.id, driverId))\n      .returning();\n\n    res.json(updatedDriver);\n  } catch (error) {\n    res.status(500).json({ error: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n  }\n});\n\n// ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±\nrouter.put(\"/change-password\", requireDriver, async (req: any, res) => {\n  try {\n    const driverId = req.driver.id;\n    const { currentPassword, newPassword } = req.body;\n\n    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø­Ø§Ù„ÙŠØ©\n    const driver = await db.query.adminUsers.findFirst({\n      where: eq(schema.adminUsers.id, driverId)\n    });\n\n    if (!driver) {\n      return res.status(400).json({ error: \"ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø­Ø§Ù„ÙŠØ© Ø®Ø§Ø·Ø¦Ø©\" });\n    }\n\n    // Ù…Ù‚Ø§Ø±Ù†Ø© ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø­Ø§Ù„ÙŠØ© Ø¨Ø¥Ø³ØªØ®Ø¯Ø§Ù… bcrypt\n    const isCurrentPasswordValid = await bcrypt.compare(currentPassword, driver.password);\n    if (!isCurrentPasswordValid) {\n      return res.status(400).json({ error: \"ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø­Ø§Ù„ÙŠØ© Ø®Ø§Ø·Ø¦Ø©\" });\n    }\n\n    // ØªØ´ÙÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©\n    const hashedNewPassword = await bcrypt.hash(newPassword, 10);\n\n    // ØªØ­Ø¯ÙŠØ« ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±\n    await db.update(schema.adminUsers)\n      .set({ password: hashedNewPassword, updatedAt: new Date() })\n      .where(eq(schema.adminUsers.id, driverId));\n\n    res.json({ success: true, message: \"ØªÙ… ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø¨Ù†Ø¬Ø§Ø­\" });\n  } catch (error) {\n    res.status(500).json({ error: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n  }\n});\n\n// Ø¯Ø§Ù„Ø© Ù…Ø³Ø§Ø¹Ø¯Ø© Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ø­Ø§Ù„Ø©\nfunction getStatusMessage(status: string): string {\n  const messages: { [key: string]: string } = {\n    'ready': 'Ø§Ù„Ø³Ø§Ø¦Ù‚ ÙÙŠ Ø§Ù„Ø·Ø±ÙŠÙ‚ Ù„Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ø·Ù„Ø¨',\n    'picked_up': 'ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ø·Ù„Ø¨ ÙˆÙ‡Ùˆ ÙÙŠ Ø§Ù„Ø·Ø±ÙŠÙ‚ Ø¥Ù„ÙŠÙƒ',\n    'delivered': 'ØªÙ… ØªÙˆØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­',\n    'cancelled': 'ØªÙ… Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø·Ù„Ø¨'\n  };\n  \n  return messages[status] || `ØªÙ… ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨ Ø¥Ù„Ù‰: ${status}`;\n}\n\nexport { router as driverRoutes };","size_bytes":14298},"server/routes/orders.ts":{"content":"import express from \"express\";\nimport { dbStorage } from \"../db.js\";\nimport * as schema from \"../../shared/schema.js\";\nimport { eq, desc, and, sql } from \"drizzle-orm\";\n\nconst router = express.Router();\n\n// Ø¥Ù†Ø´Ø§Ø¡ Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯\nrouter.post(\"/\", async (req, res) => {\n  try {\n    const {\n      customerName,\n      customerPhone,\n      customerEmail,\n      deliveryAddress,\n      notes,\n      paymentMethod,\n      items,\n      subtotal,\n      deliveryFee,\n      totalAmount,\n      restaurantId\n    } = req.body;\n\n    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©\n    if (!customerName || !customerPhone || !deliveryAddress || !items || !restaurantId) {\n      return res.status(400).json({ \n        message: \"Missing required fields: customerName, customerPhone, deliveryAddress, items, restaurantId\",\n        received: { customerName, customerPhone, deliveryAddress, items: !!items, restaurantId }\n      });\n    }\n\n    // Ø¥Ù†Ø´Ø§Ø¡ Ø±Ù‚Ù… Ø·Ù„Ø¨ ÙØ±ÙŠØ¯\n    const orderNumber = `ORD-${Date.now()}`;\n\n    // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø·Ù„Ø¨\n    const orderData = {\n      orderNumber,\n      customerName,\n      customerPhone,\n      customerEmail: customerEmail || null,\n      deliveryAddress,\n      notes: notes || null,\n      paymentMethod: paymentMethod || 'cash',\n      status: 'pending',\n      items: typeof items === 'string' ? items : JSON.stringify(items),\n      subtotal: parseFloat(subtotal),\n      deliveryFee: parseFloat(deliveryFee),\n      total: parseFloat(totalAmount),\n      totalAmount: parseFloat(totalAmount),\n      driverEarnings: 0,\n      restaurantId,\n      estimatedTime: '30-45 Ø¯Ù‚ÙŠÙ‚Ø©'\n    };\n\n    const order = await dbStorage.createOrder(orderData);\n\n    // Ø¥Ù†Ø´Ø§Ø¡ ØªØªØ¨Ø¹ Ù„Ù„Ø·Ù„Ø¨\n    await dbStorage.createOrderTracking({\n      orderId: order.id,\n      status: 'pending',\n      message: 'ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ø·Ù„Ø¨ ÙˆØ¬Ø§Ø±ÙŠ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©',\n      createdBy: 'system',\n      createdByType: 'system'\n    });\n\n    // Ø¥Ø±Ø³Ø§Ù„ Ø¥Ø´Ø¹Ø§Ø± Ù„Ù„Ù…Ø·Ø¹Ù… (Ù…Ø­Ø§ÙƒØ§Ø©)\n    await dbStorage.createNotification({\n      type: 'new_order',\n      title: 'Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯',\n      message: `Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ Ø±Ù‚Ù… ${orderNumber} Ù…Ù† ${customerName}`,\n      recipientType: 'restaurant',\n      recipientId: restaurantId,\n      orderId: order.id\n    });\n\n    res.status(201).json({\n      success: true,\n      order: {\n        id: order.id,\n        orderNumber,\n        status: 'pending',\n        estimatedTime: '30-45 Ø¯Ù‚ÙŠÙ‚Ø©',\n        total: totalAmount\n      }\n    });\n\n  } catch (error) {\n    console.error(\"Create order error:\", error);\n    res.status(500).json({ error: \"Internal server error\" });\n  }\n});\n\n// Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„\nrouter.get(\"/customer/:phone\", async (req, res) => {\n  try {\n    const { phone } = req.params;\n    const orders = await dbStorage.getCustomerOrders(phone);\n    res.json(orders);\n  } catch (error) {\n    console.error(\"Get customer orders error:\", error);\n    res.status(500).json({ error: \"Internal server error\" });\n  }\n});\n\n// Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ ØªÙØ§ØµÙŠÙ„ Ø·Ù„Ø¨\nrouter.get(\"/:orderId\", async (req, res) => {\n  try {\n    const { orderId } = req.params;\n    const order = await dbStorage.getOrderById(orderId);\n    \n    if (!order) {\n      return res.status(404).json({ error: \"Order not found\" });\n    }\n\n    const tracking = await dbStorage.getOrderTracking(orderId);\n    \n    res.json({\n      ...order,\n      tracking\n    });\n  } catch (error) {\n    console.error(\"Get order error:\", error);\n    res.status(500).json({ error: \"Internal server error\" });\n  }\n});\n\n// ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨\nrouter.patch(\"/:orderId/status\", async (req, res) => {\n  try {\n    const { orderId } = req.params;\n    const { status, message, updatedBy, updatedByType } = req.body;\n\n    if (!status) {\n      return res.status(400).json({ error: \"Status is required\" });\n    }\n\n    // ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨\n    await dbStorage.updateOrderStatus(orderId, status);\n\n    // Ø¥Ø¶Ø§ÙØ© ØªØªØ¨Ø¹\n    await dbStorage.createOrderTracking({\n      orderId,\n      status,\n      message: message || `ØªÙ… ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨ Ø¥Ù„Ù‰ ${status}`,\n      createdBy: updatedBy || 'system',\n      createdByType: updatedByType || 'system'\n    });\n\n    // Ø¥Ø±Ø³Ø§Ù„ Ø¥Ø´Ø¹Ø§Ø± Ù„Ù„Ø¹Ù…ÙŠÙ„\n    const order = await dbStorage.getOrderById(orderId);\n    if (order) {\n      await dbStorage.createNotification({\n        type: 'order_status',\n        title: 'ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨',\n        message: message || `ØªÙ… ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø·Ù„Ø¨Ùƒ Ø±Ù‚Ù… ${order.orderNumber}`,\n        recipientType: 'customer',\n        recipientId: order.customerPhone,\n        orderId\n      });\n    }\n\n    res.json({ success: true, status });\n  } catch (error) {\n    console.error(\"Update order status error:\", error);\n    res.status(500).json({ error: \"Internal server error\" });\n  }\n});\n\n// Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø·Ù„Ø¨\nrouter.patch(\"/:orderId/cancel\", async (req, res) => {\n  try {\n    const { orderId } = req.params;\n    const { reason, cancelledBy } = req.body;\n\n    await dbStorage.updateOrderStatus(orderId, 'cancelled');\n\n    await dbStorage.createOrderTracking({\n      orderId,\n      status: 'cancelled',\n      message: `ØªÙ… Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø·Ù„Ø¨. Ø§Ù„Ø³Ø¨Ø¨: ${reason || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}`,\n      createdBy: cancelledBy || 'system',\n      createdByType: 'system'\n    });\n\n    res.json({ success: true, status: 'cancelled' });\n  } catch (error) {\n    console.error(\"Cancel order error:\", error);\n    res.status(500).json({ error: \"Internal server error\" });\n  }\n});\n\nexport default router;","size_bytes":5562},"server/routes/public.ts":{"content":"import express from \"express\";\nimport { dbStorage } from \"../db.js\";\nimport * as schema from \"../../shared/schema.js\";\nimport { eq, desc, and, or, like, sql } from \"drizzle-orm\";\n\nconst router = express.Router();\n\n// Ø¬Ù„Ø¨ Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª\nrouter.get(\"/categories\", async (req, res) => {\n  try {\n    const categories = await dbStorage.getCategories();\n    res.json(categories);\n  } catch (error) {\n    console.error(\"Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª:\", error);\n    res.status(500).json({ error: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n  }\n});\n\n// Ø¬Ù„Ø¨ Ø§Ù„Ù…Ø·Ø§Ø¹Ù…\nrouter.get(\"/restaurants\", async (req, res) => {\n  try {\n    const { categoryId, search } = req.query;\n    \n    let restaurants;\n    if (search) {\n      restaurants = await dbStorage.searchRestaurants(`%${search}%`, categoryId as string);\n    } else if (categoryId && categoryId !== 'all') {\n      restaurants = await dbStorage.getRestaurantsByCategory(categoryId as string);\n    } else {\n      restaurants = await dbStorage.getRestaurants();\n    }\n\n    res.json(restaurants);\n  } catch (error) {\n    console.error(\"Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ù…Ø·Ø§Ø¹Ù…:\", error);\n    res.status(500).json({ message: \"Failed to fetch restaurants\" });\n  }\n});\n\n// Ø¬Ù„Ø¨ ØªÙØ§ØµÙŠÙ„ Ù…Ø·Ø¹Ù… Ù…Ø­Ø¯Ø¯\nrouter.get(\"/restaurants/:id\", async (req, res) => {\n  try {\n    const { id } = req.params;\n    \n    const restaurant = await dbStorage.getRestaurant(id);\n\n    if (!restaurant) {\n      return res.status(404).json({ message: \"Ø§Ù„Ù…Ø·Ø¹Ù… ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯\" });\n    }\n\n    res.json(restaurant);\n  } catch (error) {\n    console.error(\"Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ø·Ø¹Ù…:\", error);\n    res.status(500).json({ message: \"Failed to fetch restaurant\" });\n  }\n});\n\n// Ø¬Ù„Ø¨ Ù‚Ø§Ø¦Ù…Ø© Ù…Ø·Ø¹Ù…\nrouter.get(\"/restaurants/:id/menu\", async (req, res) => {\n  try {\n    const { id } = req.params;\n    \n    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø§Ù„Ù…Ø·Ø¹Ù…\n    const restaurant = await dbStorage.getRestaurant(id);\n\n    if (!restaurant) {\n      return res.status(404).json({ message: \"Ø§Ù„Ù…Ø·Ø¹Ù… ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯\" });\n    }\n\n    // Ø¬Ù„Ø¨ Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©\n    const menuItems = await dbStorage.getMenuItems(id);\n\n    res.json({\n      restaurant,\n      menu: [],\n      allItems: menuItems\n    });\n  } catch (error) {\n    console.error(\"Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø·Ø¹Ù…:\", error);\n    res.status(500).json({ message: \"Failed to fetch menu items\" });\n  }\n});\n\n// Ø¬Ù„Ø¨ Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø®Ø§ØµØ©\nrouter.get(\"/special-offers\", async (req, res) => {\n  try {\n    const { restaurantId, categoryId } = req.query;\n    \n    let whereConditions = [eq(schema.specialOffers.isActive, true)];\n    \n    if (restaurantId) {\n      whereConditions.push(eq(schema.specialOffers.restaurantId, restaurantId as string));\n    }\n    \n    if (categoryId) {\n      whereConditions.push(eq(schema.specialOffers.categoryId, categoryId as string));\n    }\n\n    const offers = await db.query.specialOffers.findMany({\n      where: and(...whereConditions),\n      orderBy: [desc(schema.specialOffers.createdAt)]\n    });\n\n    res.json(offers);\n  } catch (error) {\n    console.error(\"Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø®Ø§ØµØ©:\", error);\n    res.status(500).json({ error: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n  }\n});\n\n// Ø¥Ù†Ø´Ø§Ø¡ Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯\nrouter.post(\"/orders\", async (req, res) => {\n  try {\n    const orderData = req.body;\n    \n    // ØªÙˆÙ„ÙŠØ¯ Ø±Ù‚Ù… Ø·Ù„Ø¨ ÙØ±ÙŠØ¯\n    const orderNumber = `ORD${Date.now()}${Math.floor(Math.random() * 1000)}`;\n    \n    const newOrderData = {\n      ...orderData,\n      orderNumber,\n      status: \"pending\",\n      paymentStatus: \"pending\"\n    };\n\n    const [newOrder] = await db.insert(schema.orders)\n      .values(newOrderData)\n      .returning();\n\n    // Ø¥Ø¶Ø§ÙØ© ØªØªØ¨Ø¹ Ù„Ù„Ø·Ù„Ø¨\n    await db.insert(schema.orderTracking).values({\n      orderId: newOrder.id,\n      status: \"pending\",\n      message: \"ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø·Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­\",\n      createdByType: 'system'\n    });\n\n    // Ø¥Ø´Ø¹Ø§Ø± Ø§Ù„Ù…Ø·Ø¹Ù… (ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© WebSocket Ù‡Ù†Ø§)\n    \n    res.json(newOrder);\n  } catch (error) {\n    console.error(\"Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø·Ù„Ø¨:\", error);\n    res.status(500).json({ error: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n  }\n});\n\n// ØªØªØ¨Ø¹ Ø§Ù„Ø·Ù„Ø¨\nrouter.get(\"/orders/:id/track\", async (req, res) => {\n  try {\n    const { id } = req.params;\n    \n    const order = await db.query.orders.findFirst({\n      where: eq(schema.orders.id, id),\n    });\n\n    if (!order) {\n      return res.status(404).json({ error: \"Ø§Ù„Ø·Ù„Ø¨ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯\" });\n    }\n\n    // Ø¬Ù„Ø¨ ØªØªØ¨Ø¹ Ø§Ù„Ø·Ù„Ø¨\n    const tracking = await db.query.orderTracking.findMany({\n      where: eq(schema.orderTracking.orderId, id),\n      orderBy: desc(schema.orderTracking.timestamp!)\n    });\n\n    res.json({\n      order,\n      tracking\n    });\n  } catch (error) {\n    console.error(\"Ø®Ø·Ø£ ÙÙŠ ØªØªØ¨Ø¹ Ø§Ù„Ø·Ù„Ø¨:\", error);\n    res.status(500).json({ error: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n  }\n});\n\n// Ø¬Ù„Ø¨ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø¹Ø§Ù…Ø©\nrouter.get(\"/settings\", async (req, res) => {\n  try {\n    const settings = await db.query.systemSettings.findMany({\n      where: eq(schema.systemSettings.isPublic, true)\n    });\n    \n    // ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¥Ù„Ù‰ ÙƒØ§Ø¦Ù†\n    const settingsObject = settings.reduce((acc, setting) => {\n      acc[setting.key] = setting.value;\n      return acc;\n    }, {} as any);\n    \n    res.json(settingsObject);\n  } catch (error) {\n    console.error(\"Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª:\", error);\n    res.status(500).json({ error: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n  }\n});\n\n// Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø¹Ø§Ù…\nrouter.get(\"/search\", async (req, res) => {\n  try {\n    const { q, type = 'all' } = req.query;\n    \n    if (!q) {\n      return res.json({ restaurants: [], menuItems: [] });\n    }\n\n    const searchTerm = `%${q}%`;\n    let results: any = {};\n\n    if (type === 'all' || type === 'restaurants') {\n      results.restaurants = await db.query.restaurants.findMany({\n        where: and(\n          eq(schema.restaurants.isActive, true),\n          or(\n            like(schema.restaurants.name, searchTerm),\n            like(schema.restaurants.description, searchTerm)\n          )\n        ),\n        limit: 10\n      });\n    }\n\n    if (type === 'all' || type === 'menu') {\n      results.menuItems = await db.query.menuItems.findMany({\n        where: and(\n          or(\n            like(schema.menuItems.name, searchTerm),\n            like(schema.menuItems.description, searchTerm)\n          )\n        ),\n        limit: 20\n      });\n    }\n\n    res.json(results);\n  } catch (error) {\n    console.error(\"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø¨Ø­Ø«:\", error);\n    res.status(500).json({ error: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…\" });\n  }\n});\n\nexport { router as publicRoutes };","size_bytes":6728},"server/routes/search.ts":{"content":"import express from \"express\";\nimport { dbStorage } from \"../db.js\";\nimport * as schema from \"../../shared/schema.js\";\nimport { eq, like, and, or, sql } from \"drizzle-orm\";\n\nconst router = express.Router();\n\n// Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø¹Ø§Ù…\nrouter.get(\"/\", async (req, res) => {\n  try {\n    const { q: query, category } = req.query;\n    \n    if (!query) {\n      return res.status(400).json({ error: \"Query parameter is required\" });\n    }\n\n    const searchTerm = `%${query}%`;\n    \n    // Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ù…Ø·Ø§Ø¹Ù…\n    const restaurants = await dbStorage.searchRestaurants(searchTerm, category as string);\n    \n    // Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª\n    const categories = await dbStorage.searchCategories(searchTerm);\n    \n    // Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù‚ÙˆØ§Ø¦Ù…\n    const menuItems = await dbStorage.searchMenuItems(searchTerm);\n\n    res.json({\n      restaurants,\n      categories,\n      menuItems,\n      total: restaurants.length + categories.length + menuItems.length\n    });\n  } catch (error) {\n    console.error(\"Search error:\", error);\n    res.status(500).json({ error: \"Internal server error\" });\n  }\n});\n\n// Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø·Ø§Ø¹Ù…\nrouter.get(\"/restaurants\", async (req, res) => {\n  try {\n    const { categoryId, area, isOpen } = req.query;\n    const restaurants = await dbStorage.getRestaurants({\n      categoryId: categoryId as string,\n      area: area as string,\n      isOpen: isOpen === 'true'\n    });\n    res.json(restaurants);\n  } catch (error) {\n    console.error(\"Get restaurants error:\", error);\n    res.status(500).json({ error: \"Internal server error\" });\n  }\n});\n\n// Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª\nrouter.get(\"/categories\", async (req, res) => {\n  try {\n    const categories = await dbStorage.getCategories();\n    res.json(categories);\n  } catch (error) {\n    console.error(\"Get categories error:\", error);\n    res.status(500).json({ error: \"Internal server error\" });\n  }\n});\n\n// Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù‚Ø§Ø¦Ù…Ø© Ù…Ø·Ø¹Ù…\nrouter.get(\"/restaurants/:restaurantId/menu\", async (req, res) => {\n  try {\n    const { restaurantId } = req.params;\n    const menuItems = await dbStorage.getMenuItems(restaurantId);\n    res.json(menuItems);\n  } catch (error) {\n    console.error(\"Get menu items error:\", error);\n    res.status(500).json({ error: \"Internal server error\" });\n  }\n});\n\n// Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…Ø·Ø§Ø¹Ù… ØªØµÙ†ÙŠÙ Ù…Ø¹ÙŠÙ†\nrouter.get(\"/categories/:categoryId/restaurants\", async (req, res) => {\n  try {\n    const { categoryId } = req.params;\n    const restaurants = await dbStorage.getRestaurantsByCategory(categoryId);\n    res.json(restaurants);\n  } catch (error) {\n    console.error(\"Get restaurants by category error:\", error);\n    res.status(500).json({ error: \"Internal server error\" });\n  }\n});\n\nexport default router;","size_bytes":2775},"client/src/components/Cart.tsx":{"content":"import React, { useState } from 'react';\nimport { Minus, Plus, Trash2, ShoppingBag, X } from 'lucide-react';\nimport { useCart } from '../contexts/CartContext';\nimport { MapPicker } from './MapPicker';\n\ninterface LocationData {\n  lat: number;\n  lng: number;\n  address: string;\n  area?: string;\n  city?: string;\n}\n\ninterface CartProps {\n  isOpen: boolean;\n  onClose: () => void;\n}\n\nexport function Cart({ isOpen, onClose }: CartProps) {\n  const { state, updateQuantity, removeItem, addNotes, clearCart } = useCart();\n  const [showCheckout, setShowCheckout] = useState(false);\n  const [selectedLocation, setSelectedLocation] = useState<LocationData | null>(null);\n  const [customerInfo, setCustomerInfo] = useState({\n    name: '',\n    phone: '',\n    notes: ''\n  });\n\n  if (!isOpen) return null;\n\n  const handleCheckout = async () => {\n    if (!selectedLocation) {\n      alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ ØªØ­Ø¯ÙŠØ¯ Ù…ÙˆÙ‚Ø¹ Ø§Ù„ØªÙˆØµÙŠÙ„');\n      return;\n    }\n\n    if (!customerInfo.name || !customerInfo.phone) {\n      alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø§Ø³Ù… ÙˆØ±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ');\n      return;\n    }\n\n    try {\n      const orderData = {\n        customerName: customerInfo.name,\n        customerPhone: customerInfo.phone,\n        deliveryAddress: selectedLocation.address,\n        notes: customerInfo.notes,\n        paymentMethod: 'cash',\n        items: JSON.stringify(state.items),\n        subtotal: state.subtotal,\n        deliveryFee: state.deliveryFee,\n        totalAmount: state.total,\n        restaurantId: state.restaurantId\n      };\n\n      const response = await fetch('/api/orders', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(orderData),\n      });\n\n      if (response.ok) {\n        const order = await response.json();\n        alert(`ØªÙ… ØªØ£ÙƒÙŠØ¯ Ø·Ù„Ø¨Ùƒ! Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨: ${order.orderNumber}`);\n        clearCart();\n        onClose();\n      } else {\n        throw new Error('ÙØ´Ù„ ÙÙŠ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨');\n      }\n    } catch (error) {\n      console.error('Order error:', error);\n      alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨. Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.');\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-end\">\n      <div className=\"bg-white w-full max-w-md h-5/6 rounded-t-xl flex flex-col\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between p-4 border-b\">\n          <div className=\"flex items-center gap-2\">\n            <ShoppingBag className=\"text-red-500\" size={24} />\n            <h2 className=\"text-lg font-semibold\">Ø³Ù„Ø© Ø§Ù„ØªØ³ÙˆÙ‚</h2>\n            {state.items.length > 0 && (\n              <span className=\"bg-red-500 text-white text-xs px-2 py-1 rounded-full\">\n                {state.items.length}\n              </span>\n            )}\n          </div>\n          <button onClick={onClose} className=\"p-2 hover:bg-gray-100 rounded-full\">\n            <X size={20} />\n          </button>\n        </div>\n\n        {/* Content */}\n        <div className=\"flex-1 overflow-y-auto\">\n          {state.items.length === 0 ? (\n            <div className=\"flex flex-col items-center justify-center h-full text-gray-500\">\n              <ShoppingBag size={64} className=\"mb-4 opacity-50\" />\n              <p>Ø³Ù„Ø© Ø§Ù„ØªØ³ÙˆÙ‚ ÙØ§Ø±ØºØ©</p>\n              <p className=\"text-sm\">Ø£Ø¶Ù Ø¹Ù†Ø§ØµØ± Ù…Ù† Ø§Ù„Ù…Ø·Ø§Ø¹Ù… Ù„ØªØ¨Ø¯Ø£ Ø·Ù„Ø¨Ùƒ</p>\n            </div>\n          ) : (\n            <>\n              {/* Restaurant Name */}\n              {state.restaurantName && (\n                <div className=\"p-4 bg-gray-50 border-b\">\n                  <h3 className=\"font-medium text-gray-800\">Ù…Ù† {state.restaurantName}</h3>\n                </div>\n              )}\n\n              {/* Cart Items */}\n              <div className=\"p-4 space-y-4\">\n                {state.items.map((item) => (\n                  <div key={item.id} className=\"border rounded-lg p-3\">\n                    <div className=\"flex justify-between items-start mb-2\">\n                      <div className=\"flex-1\">\n                        <h4 className=\"font-medium\">{item.name}</h4>\n                        <p className=\"text-sm text-gray-600\">{item.description}</p>\n                        <p className=\"text-red-500 font-medium\">{item.price} Ø±.Ø³</p>\n                      </div>\n                      <button\n                        onClick={() => removeItem(item.id)}\n                        className=\"p-1 text-red-500 hover:bg-red-50 rounded\"\n                      >\n                        <Trash2 size={16} />\n                      </button>\n                    </div>\n\n                    {/* Quantity Controls */}\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"flex items-center gap-2\">\n                        <button\n                          onClick={() => updateQuantity(item.id, item.quantity - 1)}\n                          className=\"p-1 border rounded hover:bg-gray-50\"\n                        >\n                          <Minus size={16} />\n                        </button>\n                        <span className=\"px-3 py-1 bg-gray-100 rounded\">{item.quantity}</span>\n                        <button\n                          onClick={() => updateQuantity(item.id, item.quantity + 1)}\n                          className=\"p-1 border rounded hover:bg-gray-50\"\n                        >\n                          <Plus size={16} />\n                        </button>\n                      </div>\n                      <span className=\"font-medium\">\n                        {(parseFloat(item.price) * item.quantity).toFixed(2)} Ø±.Ø³\n                      </span>\n                    </div>\n\n                    {/* Notes */}\n                    <textarea\n                      placeholder=\"Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø®Ø§ØµØ© Ø¨Ù‡Ø°Ø§ Ø§Ù„Ø¹Ù†ØµØ±\"\n                      value={item.notes || ''}\n                      onChange={(e) => addNotes(item.id, e.target.value)}\n                      className=\"w-full mt-2 p-2 border rounded text-sm resize-none\"\n                      rows={2}\n                    />\n                  </div>\n                ))}\n              </div>\n\n              {/* Checkout Section */}\n              {!showCheckout ? (\n                <div className=\"p-4 border-t\">\n                  {/* Summary */}\n                  <div className=\"space-y-2 mb-4\">\n                    <div className=\"flex justify-between\">\n                      <span>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„ÙØ±Ø¹ÙŠ:</span>\n                      <span>{state.subtotal.toFixed(2)} Ø±.Ø³</span>\n                    </div>\n                    <div className=\"flex justify-between\">\n                      <span>Ø±Ø³ÙˆÙ… Ø§Ù„ØªÙˆØµÙŠÙ„:</span>\n                      <span>{state.deliveryFee.toFixed(2)} Ø±.Ø³</span>\n                    </div>\n                    <div className=\"flex justify-between font-bold text-lg border-t pt-2\">\n                      <span>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„ÙƒÙ„ÙŠ:</span>\n                      <span className=\"text-red-500\">{state.total.toFixed(2)} Ø±.Ø³</span>\n                    </div>\n                  </div>\n\n                  <button\n                    onClick={() => setShowCheckout(true)}\n                    className=\"w-full bg-red-500 text-white py-3 rounded-lg font-medium hover:bg-red-600 transition-colors\"\n                  >\n                    Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨\n                  </button>\n                </div>\n              ) : (\n                <div className=\"p-4 border-t space-y-4\">\n                  {/* Customer Info */}\n                  <div>\n                    <h3 className=\"font-medium mb-2\">Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„</h3>\n                    <div className=\"space-y-3\">\n                      <input\n                        type=\"text\"\n                        placeholder=\"Ø§Ù„Ø§Ø³Ù… *\"\n                        value={customerInfo.name}\n                        onChange={(e) => setCustomerInfo({...customerInfo, name: e.target.value})}\n                        className=\"w-full p-3 border rounded-lg\"\n                      />\n                      <input\n                        type=\"tel\"\n                        placeholder=\"Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ *\"\n                        value={customerInfo.phone}\n                        onChange={(e) => setCustomerInfo({...customerInfo, phone: e.target.value})}\n                        className=\"w-full p-3 border rounded-lg\"\n                      />\n                      <textarea\n                        placeholder=\"Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©\"\n                        value={customerInfo.notes}\n                        onChange={(e) => setCustomerInfo({...customerInfo, notes: e.target.value})}\n                        className=\"w-full p-3 border rounded-lg resize-none\"\n                        rows={2}\n                      />\n                    </div>\n                  </div>\n\n                  {/* Location Picker */}\n                  <MapPicker\n                    onLocationSelect={setSelectedLocation}\n                    className=\"border-0 shadow-none p-0\"\n                  />\n\n                  {/* Action Buttons */}\n                  <div className=\"flex gap-2\">\n                    <button\n                      onClick={() => setShowCheckout(false)}\n                      className=\"flex-1 border border-gray-300 py-3 rounded-lg font-medium hover:bg-gray-50\"\n                    >\n                      Ø±Ø¬ÙˆØ¹\n                    </button>\n                    <button\n                      onClick={handleCheckout}\n                      className=\"flex-1 bg-red-500 text-white py-3 rounded-lg font-medium hover:bg-red-600 transition-colors\"\n                    >\n                      ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨\n                    </button>\n                  </div>\n                </div>\n              )}\n            </>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}","size_bytes":9940},"client/src/components/CartButton.tsx":{"content":"import { ShoppingCart } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { useCart } from '../context/CartContext';\nimport { useLocation } from 'wouter';\nimport { useState } from 'react';\nimport { Cart } from './Cart';\n\nexport default function CartButton() {\n  const { getItemCount } = useCart();\n  const [, setLocation] = useLocation();\n  const [showCart, setShowCart] = useState(false);\n  const itemCount = getItemCount();\n\n  return (\n    <>\n      <div className=\"floating-cart\">\n        <Button\n          className=\"relative bg-primary text-primary-foreground p-4 rounded-full shadow-lg hover:bg-primary/90\"\n          onClick={() => setShowCart(true)}\n          data-testid=\"button-floating-cart\"\n        >\n          <ShoppingCart className=\"h-6 w-6\" />\n          <span\n            className=\"absolute -top-2 -right-2 bg-destructive text-destructive-foreground text-xs rounded-full h-6 w-6 flex items-center justify-center\"\n            data-testid=\"text-cart-count\"\n          >\n            {itemCount}\n          </span>\n        </Button>\n      </div>\n      \n      <Cart isOpen={showCart} onClose={() => setShowCart(false)} />\n    </>\n  );\n}\n","size_bytes":1172},"client/src/components/CategoryTabs.tsx":{"content":"import { Button } from '@/components/ui/button';\nimport { useQuery } from '@tanstack/react-query';\nimport type { Category } from '@shared/schema';\nimport { useUiSettings } from '@/context/UiSettingsContext';\n\ninterface CategoryTabsProps {\n  selectedCategory: string | null;\n  onCategoryChange: (categoryId: string | null) => void;\n}\n\nexport default function CategoryTabs({ selectedCategory, onCategoryChange }: CategoryTabsProps) {\n  const { data: categories, isLoading } = useQuery<Category[]>({\n    queryKey: ['/api/categories'],\n  });\n  const { isFeatureEnabled } = useUiSettings();\n\n  // Ù„Ø§ ØªØ¹Ø±Ø¶ Ø§Ù„Ù…ÙƒÙˆÙ† Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…Ø¹Ø·Ù„\n  if (!isFeatureEnabled('show_categories')) {\n    return null;\n  }\n\n  if (isLoading) {\n    return (\n      <div className=\"flex gap-3 overflow-x-auto pb-2 no-scrollbar px-4\">\n        {[...Array(5)].map((_, i) => (\n          <div key={i} className=\"bg-muted rounded-full h-10 w-24 animate-pulse\" />\n        ))}\n      </div>\n    );\n  }\n\n  return (\n    <section className=\"px-4 mb-6\">\n      <div className=\"flex gap-3 overflow-x-auto pb-2 no-scrollbar\">\n        <Button\n          variant={selectedCategory === null ? \"default\" : \"secondary\"}\n          className=\"whitespace-nowrap font-medium\"\n          onClick={() => onCategoryChange(null)}\n          data-testid=\"category-tab-all\"\n        >\n          <i className=\"fas fa-th-large ml-2\"></i>\n          Ø§Ù„ÙƒÙ„\n        </Button>\n        {categories?.map((category) => (\n          <Button\n            key={category.id}\n            variant={selectedCategory === category.id ? \"default\" : \"secondary\"}\n            className=\"whitespace-nowrap font-medium\"\n            onClick={() => onCategoryChange(category.id)}\n            data-testid={`category-tab-${category.id}`}\n          >\n            <i className={`${category.icon} ml-2`}></i>\n            {category.name}\n          </Button>\n        ))}\n      </div>\n    </section>\n  );\n}\n","size_bytes":1921},"client/src/components/DriverControlPanel.tsx":{"content":"import React from 'react';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Switch } from '@/components/ui/switch';\nimport { Label } from '@/components/ui/label';\nimport { useUiSettings } from '@/context/UiSettingsContext';\nimport { Truck, DollarSign, Bell, Navigation, MapPin, Clock } from 'lucide-react';\n\nexport function DriverControlPanel() {\n  const { loading, updateSetting, isFeatureEnabled } = useUiSettings();\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center p-8\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 dark:border-gray-100\"></div>\n      </div>\n    );\n  }\n\n  const handleToggle = (key: string, enabled: boolean) => {\n    updateSetting(key, enabled.toString());\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center gap-2 mb-6\">\n        <Truck className=\"h-6 w-6\" />\n        <h2 className=\"text-2xl font-bold\">Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø³Ø§Ø¦Ù‚</h2>\n      </div>\n\n      {/* Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ ÙˆØ§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <DollarSign className=\"h-5 w-5\" />\n            Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ ÙˆØ§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª\n          </CardTitle>\n          <CardDescription>\n            ØªØ­ÙƒÙ… ÙÙŠ Ø¹Ø±Ø¶ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª\n          </CardDescription>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <div className=\"flex items-center justify-between\">\n            <Label htmlFor=\"driver_show_earnings\" className=\"flex-1\">\n              Ø¹Ø±Ø¶ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ Ù„Ù„Ø³Ø§Ø¦Ù‚\n            </Label>\n            <Switch\n              id=\"driver_show_earnings\"\n              checked={isFeatureEnabled('driver_show_earnings')}\n              onCheckedChange={(checked) => handleToggle('driver_show_earnings', checked)}\n            />\n          </div>\n\n          <div className=\"flex items-center justify-between\">\n            <Label htmlFor=\"driver_show_customer_info\" className=\"flex-1\">\n              Ø¹Ø±Ø¶ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„\n            </Label>\n            <Switch\n              id=\"driver_show_customer_info\"\n              checked={isFeatureEnabled('driver_show_customer_info')}\n              onCheckedChange={(checked) => handleToggle('driver_show_customer_info', checked)}\n            />\n          </div>\n\n          <div className=\"flex items-center justify-between\">\n            <Label htmlFor=\"driver_show_order_details\" className=\"flex-1\">\n              Ø¹Ø±Ø¶ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨\n            </Label>\n            <Switch\n              id=\"driver_show_order_details\"\n              checked={isFeatureEnabled('driver_show_order_details')}\n              onCheckedChange={(checked) => handleToggle('driver_show_order_details', checked)}\n            />\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø·Ù„Ø¨Ø§Øª ÙˆØ§Ù„ØªÙˆØµÙŠÙ„ */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Clock className=\"h-5 w-5\" />\n            Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø·Ù„Ø¨Ø§Øª ÙˆØ§Ù„ØªÙˆØµÙŠÙ„\n          </CardTitle>\n          <CardDescription>\n            ØªØ­ÙƒÙ… ÙÙŠ Ø¹Ø±Ø¶ Ø§Ù„Ø·Ù„Ø¨Ø§Øª ÙˆØ¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªÙˆØµÙŠÙ„\n          </CardDescription>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <div className=\"flex items-center justify-between\">\n            <Label htmlFor=\"driver_show_available_orders\" className=\"flex-1\">\n              Ø¹Ø±Ø¶ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©\n            </Label>\n            <Switch\n              id=\"driver_show_available_orders\"\n              checked={isFeatureEnabled('driver_show_available_orders')}\n              onCheckedChange={(checked) => handleToggle('driver_show_available_orders', checked)}\n            />\n          </div>\n\n          <div className=\"flex items-center justify-between\">\n            <Label htmlFor=\"driver_auto_refresh\" className=\"flex-1\">\n              Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ù„Ø·Ù„Ø¨Ø§Øª\n            </Label>\n            <Switch\n              id=\"driver_auto_refresh\"\n              checked={isFeatureEnabled('driver_auto_refresh')}\n              onCheckedChange={(checked) => handleToggle('driver_auto_refresh', checked)}\n            />\n          </div>\n\n          <div className=\"flex items-center justify-between\">\n            <Label htmlFor=\"driver_show_status_toggle\" className=\"flex-1\">\n              Ø¹Ø±Ø¶ Ù…ÙØªØ§Ø­ ØªØºÙŠÙŠØ± Ø§Ù„Ø­Ø§Ù„Ø©\n            </Label>\n            <Switch\n              id=\"driver_show_status_toggle\"\n              checked={isFeatureEnabled('driver_show_status_toggle')}\n              onCheckedChange={(checked) => handleToggle('driver_show_status_toggle', checked)}\n            />\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªÙ†Ù‚Ù„ ÙˆØ§Ù„Ù…ÙˆÙ‚Ø¹ */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Navigation className=\"h-5 w-5\" />\n            Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªÙ†Ù‚Ù„ ÙˆØ§Ù„Ù…ÙˆÙ‚Ø¹\n          </CardTitle>\n          <CardDescription>\n            ØªØ­ÙƒÙ… ÙÙŠ Ø®Ø¯Ù…Ø§Øª Ø§Ù„ØªÙ†Ù‚Ù„ ÙˆØ§Ù„Ù…ÙˆÙ‚Ø¹\n          </CardDescription>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <div className=\"flex items-center justify-between\">\n            <Label htmlFor=\"driver_show_location_button\" className=\"flex-1\">\n              Ø¹Ø±Ø¶ Ø²Ø± ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…ÙˆÙ‚Ø¹\n            </Label>\n            <Switch\n              id=\"driver_show_location_button\"\n              checked={isFeatureEnabled('driver_show_location_button')}\n              onCheckedChange={(checked) => handleToggle('driver_show_location_button', checked)}\n            />\n          </div>\n\n          <div className=\"flex items-center justify-between\">\n            <Label htmlFor=\"driver_show_navigation_help\" className=\"flex-1\">\n              Ø¹Ø±Ø¶ Ù…Ø³Ø§Ø¹Ø¯Ø© Ø§Ù„ØªÙ†Ù‚Ù„\n            </Label>\n            <Switch\n              id=\"driver_show_navigation_help\"\n              checked={isFeatureEnabled('driver_show_navigation_help')}\n              onCheckedChange={(checked) => handleToggle('driver_show_navigation_help', checked)}\n            />\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Bell className=\"h-5 w-5\" />\n            Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª\n          </CardTitle>\n          <CardDescription>\n            ØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ÙˆØ§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª\n          </CardDescription>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <div className=\"flex items-center justify-between\">\n            <Label htmlFor=\"driver_notification_sound\" className=\"flex-1\">\n              ØªÙØ¹ÙŠÙ„ ØµÙˆØª Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª\n            </Label>\n            <Switch\n              id=\"driver_notification_sound\"\n              checked={isFeatureEnabled('driver_notification_sound')}\n              onCheckedChange={(checked) => handleToggle('driver_notification_sound', checked)}\n            />\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}","size_bytes":7338},"client/src/components/Layout.tsx":{"content":"import { useState, useEffect } from 'react';\nimport { useLocation } from 'wouter';\nimport { Home, Search, Receipt, User, ShoppingCart, Moon, Sun, Menu, X, Settings, Shield, MapPin, Clock, Truck } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Sheet, SheetContent, SheetHeader, SheetTitle, SheetTrigger } from '@/components/ui/sheet';\nimport { useTheme } from '../context/ThemeContext';\nimport { useCart } from '../context/CartContext';\nimport CartButton from './CartButton';\nimport { useToast } from '@/hooks/use-toast';\n\ninterface LayoutProps {\n  children: React.ReactNode;\n}\n\nexport default function Layout({ children }: LayoutProps) {\n  const [location, setLocation] = useLocation();\n  const { theme, toggleTheme } = useTheme();\n  const { getItemCount } = useCart();\n  const { toast } = useToast();\n  const [sidebarOpen, setSidebarOpen] = useState(false);\n  const [logoClickCount, setLogoClickCount] = useState(0);\n  const [showAdminButtons, setShowAdminButtons] = useState(false);\n  \n  // States for profile click counter\n  const [profileClickCount, setProfileClickCount] = useState(0);\n  const [lastProfileClickTime, setLastProfileClickTime] = useState(0);\n\n  const isHomePage = location === '/';\n  const isAdminPage = location.startsWith('/admin');\n  const isDeliveryPage = location.startsWith('/delivery');\n\n  const navigationItems = [\n    { icon: Home, label: 'Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©', path: '/', testId: 'nav-home' },\n    { icon: Search, label: 'Ø§Ù„Ø¨Ø­Ø«', path: '/search', testId: 'nav-search' },\n    { icon: Receipt, label: 'Ø·Ù„Ø¨Ø§ØªÙŠ', path: '/orders', testId: 'nav-orders' },\n    { icon: User, label: 'Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ', path: '/profile', testId: 'nav-profile' },\n  ];\n\n  const sidebarMenuItems = [\n    { icon: User, label: 'Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ', path: '/profile', testId: 'sidebar-profile' },\n    { icon: Receipt, label: 'Ø·Ù„Ø¨Ø§ØªÙŠ', path: '/orders', testId: 'sidebar-orders' },\n    { icon: MapPin, label: 'Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ† Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©', path: '/addresses', testId: 'sidebar-addresses' },\n    { icon: Clock, label: 'ØªØªØ¨Ø¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª', path: '/track-orders', testId: 'sidebar-tracking' },\n    { icon: Settings, label: 'Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª', path: '/settings', testId: 'sidebar-settings' },\n    { icon: Shield, label: 'Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©', path: '/privacy', testId: 'sidebar-privacy' },\n  ];\n\n  // ÙˆØ¸ÙŠÙØ© Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ\n  const handleProfileIconClick = () => {\n    const currentTime = Date.now();\n    \n    // Ø¥Ø°Ø§ Ù…Ø± Ø£ÙƒØ«Ø± Ù…Ù† Ø«Ø§Ù†ÙŠØªÙŠÙ† Ù…Ù†Ø° Ø¢Ø®Ø± Ù†Ù‚Ø±Ø©ØŒ Ù†Ø¹ÙŠØ¯ Ø§Ù„Ø¹Ø¯Ø§Ø¯\n    if (currentTime - lastProfileClickTime > 2000) {\n      setProfileClickCount(1);\n    } else {\n      setProfileClickCount(prev => prev + 1);\n    }\n    \n    setLastProfileClickTime(currentTime);\n\n    // Ø¥Ø°Ø§ ÙˆØµÙ„ Ø¥Ù„Ù‰ 5 Ù†Ù‚Ø±Ø§Øª\n    if (profileClickCount + 1 === 5) {\n      toast({\n        title: \"Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ ØµÙØ­Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„\",\n        description: \"Ø³ÙŠØªÙ… Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ø¥Ù„Ù‰ ØµÙØ­Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ù„Ø¥Ø¯Ø§Ø±Ø©\",\n      });\n      \n      // Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ø¥Ù„Ù‰ ØµÙØ­Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„\n      window.location.href = '/admin-login';\n      setProfileClickCount(0);\n    } else if (profileClickCount + 1 > 2) {\n      // Ø¥Ø´Ø¹Ø§Ø± Ø¨Ø¹Ø¯ Ø§Ù„Ù†Ù‚Ø±Ø§Øª Ø§Ù„Ø£ÙˆÙ„Ù‰\n      toast({\n        title: `Ù†Ù‚Ø±Ø© ${profileClickCount + 1} Ù…Ù† 5`,\n        description: \"Ø§Ø³ØªÙ…Ø± Ù„Ù„Ù†Ù‚Ù„ Ù„Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ ØµÙØ­Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„\",\n      });\n    }\n  };\n\n  // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù†Ù‚Ø±Ø§Øª Ø¨Ø¹Ø¯ 2 Ø«Ø§Ù†ÙŠØ©\n  useEffect(() => {\n    if (profileClickCount > 0) {\n      const timer = setTimeout(() => {\n        setProfileClickCount(0);\n      }, 2000);\n\n      return () => clearTimeout(timer);\n    }\n  }, [profileClickCount, lastProfileClickTime]);\n\n  return (\n    <div className=\"max-w-md mx-auto bg-background min-h-screen shadow-xl relative\">\n      {/* Header - Redesigned to match reference */}\n      <header className=\"gradient-header text-white sticky top-0 z-40 p-4\">\n        <div className=\"flex items-center justify-between mb-4\">\n          {/* Right side - Menu and User icons */}\n          <div className=\"flex items-center gap-3\">\n            <Sheet open={sidebarOpen} onOpenChange={setSidebarOpen}>\n              <SheetTrigger asChild>\n                <Button\n                  variant=\"ghost\"\n                  size=\"icon\"\n                  className=\"text-white hover:bg-white/20\"\n                  data-testid=\"button-menu\"\n                >\n                  <Menu className=\"h-6 w-6\" />\n                </Button>\n              </SheetTrigger>\n              <SheetContent side=\"right\" className=\"w-80\">\n                <SheetHeader>\n                  <SheetTitle className=\"text-right\">\n                    <div className=\"flex items-center gap-3\">\n                      <div className=\"w-12 h-12 bg-primary rounded-full flex items-center justify-center\">\n                        <User className=\"h-6 w-6 text-primary-foreground\" />\n                      </div>\n                      <div>\n                        <h3 className=\"text-lg font-bold text-foreground\">Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ</h3>\n                        <p className=\"text-sm text-muted-foreground\">ÙÙŠ ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø³Ø±ÙŠØ¹ ÙˆÙ†</p>\n                      </div>\n                    </div>\n                  </SheetTitle>\n                </SheetHeader>\n                \n                <div className=\"mt-8 space-y-2\">\n                  {sidebarMenuItems.map((item) => {\n                    const Icon = item.icon;\n                    return (\n                      <Button\n                        key={item.path}\n                        variant=\"ghost\"\n                        className=\"w-full justify-start gap-3 h-12\"\n                        onClick={() => {\n                          setLocation(item.path);\n                          setSidebarOpen(false);\n                        }}\n                        data-testid={item.testId}\n                      >\n                        <Icon className=\"h-5 w-5 text-primary\" />\n                        <span className=\"text-foreground\">{item.label}</span>\n                      </Button>\n                    );\n                  })}\n                </div>\n              </SheetContent>\n            </Sheet>\n            \n            <Button\n              variant=\"ghost\"\n              size=\"icon\"\n              onClick={handleProfileIconClick}\n              className=\"relative text-white hover:bg-white/20\"\n              title=\"Ø§Ù„Ù†Ù‚Ø± 5 Ù…Ø±Ø§Øª Ù„Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ ØµÙØ­Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„\"\n              data-testid=\"button-profile\"\n            >\n              <User className=\"h-6 w-6\" />\n              {profileClickCount > 0 && (\n                <div className=\"absolute -top-1 -right-1 w-4 h-4 bg-white rounded-full text-xs text-primary flex items-center justify-center\">\n                  {profileClickCount}\n                </div>\n              )}\n            </Button>\n            \n            <Button\n              variant=\"ghost\"\n              size=\"icon\"\n              className=\"text-white hover:bg-white/20\"\n              data-testid=\"button-search\"\n            >\n              <Search className=\"h-6 w-6\" />\n            </Button>\n          </div>\n\n          {/* Center - Title and Location */}\n          <div className=\"text-center flex-1\" \n               onClick={() => {\n                const newCount = logoClickCount + 1;\n                setLogoClickCount(newCount);\n                \n                if (newCount === 4) {\n                  setShowAdminButtons(true);\n                  setLogoClickCount(0);\n                  window.location.href = '/admin-login';\n                } else if (newCount > 4) {\n                  setLogoClickCount(0);\n                }\n                \n                setTimeout(() => {\n                  setLogoClickCount(0);\n                }, 3000);\n              }}\n          >\n            <h1 className=\"text-xl font-bold text-white\">Ø§Ù„Ø³Ø±ÙŠØ¹ ÙˆÙ†</h1>\n            <div className=\"flex items-center justify-center gap-1 text-sm text-white/90\">\n              <MapPin className=\"h-4 w-4\" />\n              <span>Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</span>\n            </div>\n            \n            {logoClickCount > 0 && logoClickCount < 4 && (\n              <div className=\"flex gap-1 justify-center mt-1\">\n                {[...Array(4)].map((_, i) => (\n                  <div\n                    key={i}\n                    className={`w-1.5 h-1.5 rounded-full ${\n                      i < logoClickCount ? 'bg-white' : 'bg-white/30'\n                    }`}\n                  />\n                ))}\n              </div>\n            )}\n          </div>\n\n          {/* Left side - Location pin icon */}\n          <div className=\"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center\">\n            <MapPin className=\"h-5 w-5 text-white\" />\n          </div>\n        </div>\n      </header>\n\n      {/* Main Content */}\n      <main className=\"pb-20 bg-gray-50 min-h-screen\">\n        {children}\n      </main>\n\n      {/* Bottom Navigation - hide on admin and delivery pages */}\n      {!isAdminPage && !isDeliveryPage && (\n        <nav className=\"fixed bottom-0 left-0 right-0 max-w-md mx-auto bg-card border-t border-border px-4 py-2\">\n          <div className=\"flex justify-around items-center\">\n            {navigationItems.map((item) => {\n              const Icon = item.icon;\n              const isActive = location === item.path;\n              \n              return (\n                <Button\n                  key={item.path}\n                  variant=\"ghost\"\n                  className={`flex flex-col items-center gap-1 py-2 px-3 ${\n                    isActive\n                      ? 'text-primary'\n                      : 'text-muted-foreground hover:text-foreground'\n                  }`}\n                  onClick={() => setLocation(item.path)}\n                  data-testid={item.testId}\n                >\n                  <Icon className=\"h-5 w-5\" />\n                  <span className=\"text-xs\">{item.label}</span>\n                </Button>\n              );\n            })}\n          </div>\n        </nav>\n      )}\n\n      {/* Floating Cart Button - hide on admin and delivery pages */}\n      {getItemCount() > 0 && !isAdminPage && !isDeliveryPage && <CartButton />}\n    </div>\n  );\n}","size_bytes":10409},"client/src/components/LocationPermissionModal.tsx":{"content":"import { useState, useEffect } from 'react';\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogDescription,\n} from '@/components/ui/dialog';\nimport { Button } from '@/components/ui/button';\nimport { MapPin, Navigation, Shield } from 'lucide-react';\n\ninterface LocationPermissionModalProps {\n  onPermissionGranted: (position: GeolocationPosition) => void;\n  onPermissionDenied: () => void;\n}\n\nexport function LocationPermissionModal({ onPermissionGranted, onPermissionDenied }: LocationPermissionModalProps) {\n  const [isOpen, setIsOpen] = useState(false);\n  const [permissionStatus, setPermissionStatus] = useState<'unknown' | 'granted' | 'denied'>('unknown');\n\n  useEffect(() => {\n    checkPermissionStatus();\n  }, []);\n\n  const checkPermissionStatus = async () => {\n    if ('permissions' in navigator) {\n      try {\n        const permission = await navigator.permissions.query({ name: 'geolocation' as PermissionName });\n        if (permission.state === 'granted') {\n          setPermissionStatus('granted');\n          getCurrentLocation();\n        } else if (permission.state === 'denied') {\n          setPermissionStatus('denied');\n          setIsOpen(true);\n        } else {\n          setPermissionStatus('unknown');\n          setIsOpen(true);\n        }\n      } catch (error) {\n        console.error('Error checking permission:', error);\n        setIsOpen(true);\n      }\n    } else {\n      setIsOpen(true);\n    }\n  };\n\n  const getCurrentLocation = () => {\n    if ('geolocation' in navigator) {\n      navigator.geolocation.getCurrentPosition(\n        (position) => {\n          setPermissionStatus('granted');\n          onPermissionGranted(position);\n          setIsOpen(false);\n        },\n        (error) => {\n          console.error('Error getting location:', error);\n          setPermissionStatus('denied');\n          onPermissionDenied();\n          setIsOpen(false);\n        },\n        {\n          enableHighAccuracy: true,\n          timeout: 10000,\n          maximumAge: 60000\n        }\n      );\n    }\n  };\n\n  const requestLocationPermission = () => {\n    getCurrentLocation();\n  };\n\n  const handleDenyPermission = () => {\n    setPermissionStatus('denied');\n    onPermissionDenied();\n    setIsOpen(false);\n  };\n\n  return (\n    <Dialog open={isOpen} onOpenChange={setIsOpen}>\n      <DialogContent className=\"sm:max-w-md\" dir=\"rtl\">\n        <DialogHeader className=\"text-center\">\n          <div className=\"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-primary/10\">\n            <MapPin className=\"h-6 w-6 text-primary\" />\n          </div>\n          <DialogTitle className=\"text-xl font-bold\">\n            Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ù…ÙˆÙ‚Ø¹\n          </DialogTitle>\n          <DialogDescription className=\"text-center text-muted-foreground\">\n            Ù†Ø­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ù…Ø¹Ø±ÙØ© Ù…ÙˆÙ‚Ø¹Ùƒ Ù„ØªÙˆØµÙŠÙ„ Ø·Ù„Ø¨Ø§ØªÙƒ Ø¨Ø¯Ù‚Ø© ÙˆØ¹Ø±Ø¶ Ø§Ù„Ù…Ø·Ø§Ø¹Ù… Ø§Ù„Ù‚Ø±ÙŠØ¨Ø© Ù…Ù†Ùƒ\n          </DialogDescription>\n        </DialogHeader>\n\n        <div className=\"space-y-4\">\n          <div className=\"space-y-3\">\n            <div className=\"flex items-center gap-3 p-3 rounded-lg bg-primary/5\">\n              <Navigation className=\"h-5 w-5 text-primary flex-shrink-0\" />\n              <div className=\"text-sm\">\n                <div className=\"font-medium\">ØªØ­Ø¯ÙŠØ¯ Ù…ÙˆÙ‚Ø¹Ùƒ Ø¨Ø¯Ù‚Ø©</div>\n                <div className=\"text-muted-foreground\">Ù„Ø¶Ù…Ø§Ù† ÙˆØµÙˆÙ„ Ø§Ù„Ø·Ù„Ø¨Ø§Øª ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…Ø­Ø¯Ø¯</div>\n              </div>\n            </div>\n\n            <div className=\"flex items-center gap-3 p-3 rounded-lg bg-primary/5\">\n              <MapPin className=\"h-5 w-5 text-primary flex-shrink-0\" />\n              <div className=\"text-sm\">\n                <div className=\"font-medium\">Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø·Ø§Ø¹Ù… Ø§Ù„Ù‚Ø±ÙŠØ¨Ø©</div>\n                <div className=\"text-muted-foreground\">Ø§ÙƒØªØ´Ù Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ø·Ø§Ø¹Ù… ÙÙŠ Ù…Ù†Ø·Ù‚ØªÙƒ</div>\n              </div>\n            </div>\n\n            <div className=\"flex items-center gap-3 p-3 rounded-lg bg-primary/5\">\n              <Shield className=\"h-5 w-5 text-primary flex-shrink-0\" />\n              <div className=\"text-sm\">\n                <div className=\"font-medium\">Ø­Ù…Ø§ÙŠØ© Ø®ØµÙˆØµÙŠØªÙƒ</div>\n                <div className=\"text-muted-foreground\">Ù„Ù† Ù†Ø´Ø§Ø±Ùƒ Ù…ÙˆÙ‚Ø¹Ùƒ Ù…Ø¹ Ø£Ø·Ø±Ø§Ù Ø®Ø§Ø±Ø¬ÙŠØ©</div>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"flex gap-3\">\n            <Button \n              variant=\"outline\" \n              onClick={handleDenyPermission}\n              className=\"flex-1\"\n            >\n              ØªØ®Ø·ÙŠ\n            </Button>\n            <Button \n              onClick={requestLocationPermission}\n              className=\"flex-1\"\n            >\n              Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„ÙˆØµÙˆÙ„\n            </Button>\n          </div>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}","size_bytes":4882},"client/src/components/MapPicker.tsx":{"content":"import React, { useState, useEffect } from 'react';\nimport { MapPin, Navigation, CheckCircle } from 'lucide-react';\n\ninterface LocationData {\n  lat: number;\n  lng: number;\n  address: string;\n  area?: string;\n  city?: string;\n}\n\ninterface MapPickerProps {\n  onLocationSelect: (location: LocationData) => void;\n  defaultLocation?: LocationData;\n  className?: string;\n}\n\nexport function MapPicker({ onLocationSelect, defaultLocation, className = '' }: MapPickerProps) {\n  const [selectedLocation, setSelectedLocation] = useState<LocationData | null>(defaultLocation || null);\n  const [currentLocation, setCurrentLocation] = useState<LocationData | null>(null);\n  const [isGettingLocation, setIsGettingLocation] = useState(false);\n  const [address, setAddress] = useState(defaultLocation?.address || '');\n\n  // Ù…Ø­Ø§ÙƒÙŠ Ø§Ù„Ø®Ø±ÙŠØ·Ø© - ÙÙŠ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ Ø³Ù†Ø³ØªØ®Ø¯Ù… Google Maps Ø£Ùˆ Mapbox\n  const mockLocations: LocationData[] = [\n    { lat: 24.7136, lng: 46.6753, address: 'Ø§Ù„Ø±ÙŠØ§Ø¶ØŒ Ø­ÙŠ Ø§Ù„Ù…Ù„Ø²', area: 'Ø§Ù„Ù…Ù„Ø²', city: 'Ø§Ù„Ø±ÙŠØ§Ø¶' },\n    { lat: 24.7504, lng: 46.7751, address: 'Ø§Ù„Ø±ÙŠØ§Ø¶ØŒ Ø­ÙŠ Ø§Ù„Ø¹Ù„ÙŠØ§', area: 'Ø§Ù„Ø¹Ù„ÙŠØ§', city: 'Ø§Ù„Ø±ÙŠØ§Ø¶' },\n    { lat: 24.6877, lng: 46.7219, address: 'Ø§Ù„Ø±ÙŠØ§Ø¶ØŒ Ø­ÙŠ Ø§Ù„ÙˆØ±ÙˆØ¯', area: 'Ø§Ù„ÙˆØ±ÙˆØ¯', city: 'Ø§Ù„Ø±ÙŠØ§Ø¶' },\n    { lat: 24.7760, lng: 46.7386, address: 'Ø§Ù„Ø±ÙŠØ§Ø¶ØŒ Ø­ÙŠ Ø§Ù„ØµØ­Ø§ÙØ©', area: 'Ø§Ù„ØµØ­Ø§ÙØ©', city: 'Ø§Ù„Ø±ÙŠØ§Ø¶' },\n    { lat: 24.7136, lng: 46.6753, address: 'Ø§Ù„Ø±ÙŠØ§Ø¶ØŒ Ø­ÙŠ Ø§Ù„Ù…Ø±Ø¨Ø¹', area: 'Ø§Ù„Ù…Ø±Ø¨Ø¹', city: 'Ø§Ù„Ø±ÙŠØ§Ø¶' },\n  ];\n\n  const getCurrentLocation = () => {\n    setIsGettingLocation(true);\n    \n    if ('geolocation' in navigator) {\n      navigator.geolocation.getCurrentPosition(\n        (position) => {\n          const location: LocationData = {\n            lat: position.coords.latitude,\n            lng: position.coords.longitude,\n            address: `Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø­Ø§Ù„ÙŠ (${position.coords.latitude.toFixed(4)}, ${position.coords.longitude.toFixed(4)})`,\n            area: 'Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø­Ø§Ù„ÙŠ',\n            city: 'Ø§Ù„Ø±ÙŠØ§Ø¶'\n          };\n          setCurrentLocation(location);\n          setSelectedLocation(location);\n          onLocationSelect(location);\n          setIsGettingLocation(false);\n        },\n        (error) => {\n          console.error('Error getting location:', error);\n          alert('Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…ÙˆÙ‚Ø¹Ùƒ Ø§Ù„Ø­Ø§Ù„ÙŠ. Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ù…ÙˆÙ‚Ø¹ Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©.');\n          setIsGettingLocation(false);\n        }\n      );\n    } else {\n      alert('Ø§Ù„Ù…ØªØµÙØ­ Ù„Ø§ ÙŠØ¯Ø¹Ù… Ø®Ø¯Ù…Ø© ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹');\n      setIsGettingLocation(false);\n    }\n  };\n\n  const selectLocation = (location: LocationData) => {\n    setSelectedLocation(location);\n    setAddress(location.address);\n    onLocationSelect(location);\n  };\n\n  const handleAddressSearch = () => {\n    // ÙÙŠ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØŒ Ù‡Ù†Ø§ Ù†Ø³ØªØ®Ø¯Ù… geocoding API\n    const found = mockLocations.find(loc => \n      loc.address.toLowerCase().includes(address.toLowerCase()) ||\n      loc.area?.toLowerCase().includes(address.toLowerCase())\n    );\n    \n    if (found) {\n      selectLocation(found);\n    } else {\n      alert('Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆÙ‚Ø¹. Ø¬Ø±Ø¨ ÙƒØªØ§Ø¨Ø© Ø§Ø³Ù… Ø§Ù„Ø­ÙŠ Ø£Ùˆ Ø§Ù„Ù…Ù†Ø·Ù‚Ø©.');\n    }\n  };\n\n  return (\n    <div className={`bg-white rounded-lg shadow-md p-4 ${className}`}>\n      <div className=\"flex items-center mb-4\">\n        <MapPin className=\"text-red-500 ml-2\" size={20} />\n        <h3 className=\"text-lg font-semibold\">ØªØ­Ø¯ÙŠØ¯ Ù…ÙˆÙ‚Ø¹ Ø§Ù„ØªÙˆØµÙŠÙ„</h3>\n      </div>\n\n      {/* Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø¹Ù†ÙˆØ§Ù† */}\n      <div className=\"mb-4\">\n        <div className=\"flex gap-2\">\n          <input\n            type=\"text\"\n            value={address}\n            onChange={(e) => setAddress(e.target.value)}\n            placeholder=\"Ø§ÙƒØªØ¨ Ø¹Ù†ÙˆØ§Ù†Ùƒ Ø£Ùˆ Ø§Ø³Ù… Ø§Ù„Ø­ÙŠ\"\n            className=\"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500\"\n            onKeyPress={(e) => e.key === 'Enter' && handleAddressSearch()}\n          />\n          <button\n            onClick={handleAddressSearch}\n            className=\"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors\"\n          >\n            Ø¨Ø­Ø«\n          </button>\n        </div>\n      </div>\n\n      {/* Ø²Ø± Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø­Ø§Ù„ÙŠ */}\n      <button\n        onClick={getCurrentLocation}\n        disabled={isGettingLocation}\n        className=\"w-full flex items-center justify-center gap-2 mb-4 px-4 py-2 border-2 border-blue-500 text-blue-500 rounded-lg hover:bg-blue-50 transition-colors disabled:opacity-50\"\n      >\n        <Navigation size={16} />\n        {isGettingLocation ? 'Ø¬Ø§Ø±ÙŠ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹...' : 'Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…ÙˆÙ‚Ø¹ÙŠ Ø§Ù„Ø­Ø§Ù„ÙŠ'}\n      </button>\n\n      {/* Ø®Ø±ÙŠØ·Ø© Ù…Ø¨Ø³Ø·Ø© - Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹ Ø§Ù„Ù…ØªØ§Ø­Ø© */}\n      <div className=\"mb-4\">\n        <h4 className=\"text-sm font-medium text-gray-700 mb-2\">Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹ Ø§Ù„Ù…ØªØ§Ø­Ø©:</h4>\n        <div className=\"space-y-2 max-h-40 overflow-y-auto\">\n          {mockLocations.map((location, index) => (\n            <div\n              key={index}\n              onClick={() => selectLocation(location)}\n              className={`p-3 border rounded-lg cursor-pointer transition-colors ${\n                selectedLocation?.lat === location.lat && selectedLocation?.lng === location.lng\n                  ? 'border-red-500 bg-red-50'\n                  : 'border-gray-200 hover:border-gray-300'\n              }`}\n            >\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <div className=\"font-medium text-sm\">{location.area}</div>\n                  <div className=\"text-xs text-gray-600\">{location.address}</div>\n                </div>\n                {selectedLocation?.lat === location.lat && selectedLocation?.lng === location.lng && (\n                  <CheckCircle className=\"text-red-500\" size={16} />\n                )}\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ù…Ø­Ø¯Ø¯ */}\n      {selectedLocation && (\n        <div className=\"bg-green-50 border border-green-200 rounded-lg p-3\">\n          <div className=\"flex items-center gap-2\">\n            <CheckCircle className=\"text-green-500\" size={16} />\n            <span className=\"text-sm font-medium text-green-700\">ØªÙ… ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹:</span>\n          </div>\n          <div className=\"text-sm text-green-600 mt-1\">{selectedLocation.address}</div>\n        </div>\n      )}\n    </div>\n  );\n}","size_bytes":6673},"client/src/components/MenuItemCard.tsx":{"content":"import { Card, CardContent } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport type { MenuItem } from '@shared/schema';\nimport { useCart } from '../context/CartContext';\nimport { useToast } from '@/hooks/use-toast';\n\ninterface MenuItemCardProps {\n  item: MenuItem;\n  disabled?: boolean;\n  disabledMessage?: string;\n}\n\nexport default function MenuItemCard({ item, disabled = false, disabledMessage }: MenuItemCardProps) {\n  const { addItem } = useCart();\n  const { toast } = useToast();\n\n  const handleAddToCart = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    \n    if (disabled && disabledMessage) {\n      toast({\n        title: \"Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„Ø·Ù„Ø¨\",\n        description: disabledMessage,\n        variant: \"destructive\",\n      });\n      return;\n    }\n    \n    addItem(item);\n    toast({\n      title: \"ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø©\",\n      description: `ØªÙ… Ø¥Ø¶Ø§ÙØ© ${item.name} Ù„Ù„Ø³Ù„Ø©`,\n    });\n  };\n\n  const isSpecialOffer = item.isSpecialOffer && item.originalPrice;\n  const savings = isSpecialOffer ? item.originalPrice! - item.price : 0;\n\n  return (\n    <Card \n      className={`p-4 flex gap-4 hover:shadow-md transition-shadow ${\n        isSpecialOffer ? 'bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200' : ''\n      }`}\n      data-testid={`menu-item-${item.id}`}\n    >\n      {isSpecialOffer && (\n        <Badge className=\"absolute top-2 left-2 bg-green-500 text-white\">\n          Ø¹Ø±Ø¶ Ø®Ø§Øµ\n        </Badge>\n      )}\n      \n      <img\n        src={item.image}\n        alt={item.name}\n        className=\"w-20 h-20 object-cover rounded-lg flex-shrink-0\"\n      />\n      \n      <div className=\"flex-1\">\n        <h4 className=\"font-bold text-foreground mb-1\" data-testid={`menu-item-name-${item.id}`}>\n          {item.name}\n        </h4>\n        <p className=\"text-sm text-muted-foreground mb-2\" data-testid={`menu-item-description-${item.id}`}>\n          {item.description}\n        </p>\n        \n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-2\">\n            <span className={`text-lg font-bold ${isSpecialOffer ? 'text-green-600' : 'text-primary'}`}>\n              {item.price} Ø±ÙŠØ§Ù„\n            </span>\n            {isSpecialOffer && (\n              <>\n                <span className=\"text-sm text-muted-foreground line-through\">\n                  {item.originalPrice} Ø±ÙŠØ§Ù„\n                </span>\n                <Badge variant=\"secondary\" className=\"text-xs bg-green-100 text-green-700\">\n                  ØªÙˆÙÙŠØ± {savings} Ø±ÙŠØ§Ù„\n                </Badge>\n              </>\n            )}\n          </div>\n          \n          <Button\n            onClick={handleAddToCart}\n            className={isSpecialOffer ? 'bg-green-500 hover:bg-green-600 text-white' : ''}\n            disabled={!item.isAvailable || disabled}\n            data-testid={`button-add-to-cart-${item.id}`}\n          >\n            {item.isAvailable ? 'Ø¥Ø¶Ø§ÙØ©' : 'ØºÙŠØ± Ù…ØªÙˆÙØ±'}\n          </Button>\n        </div>\n      </div>\n    </Card>\n  );\n}\n","size_bytes":3135},"client/src/components/NotificationSystem.tsx":{"content":"import { useEffect, useState } from 'react';\nimport { useQuery } from '@tanstack/react-query';\nimport { Bell, Package, Truck, CheckCircle } from 'lucide-react';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\nimport { useToast } from '@/hooks/use-toast';\nimport type { Order } from '@shared/schema';\n\ninterface NotificationSystemProps {\n  userType: 'admin' | 'driver' | 'customer';\n  userId?: string;\n}\n\nexport function NotificationSystem({ userType, userId }: NotificationSystemProps) {\n  const { toast } = useToast();\n  const [lastOrderCount, setLastOrderCount] = useState(0);\n  const [notifications, setNotifications] = useState<any[]>([]);\n\n  const { data: orders } = useQuery<Order[]>({\n    queryKey: ['/api/orders'],\n    refetchInterval: userType === 'admin' ? 5000 : userType === 'driver' ? 3000 : 10000,\n  });\n\n  const { data: driverOrders } = useQuery<Order[]>({\n    queryKey: ['/api/orders', { status: 'confirmed' }],\n    enabled: userType === 'driver',\n    refetchInterval: 3000,\n  });\n\n  // Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ù„Ù„Ù…Ø¯ÙŠØ±\n  useEffect(() => {\n    if (userType === 'admin' && orders) {\n      const newOrderCount = orders.filter(order => order.status === 'pending').length;\n      \n      if (lastOrderCount > 0 && newOrderCount > lastOrderCount) {\n        const newOrders = newOrderCount - lastOrderCount;\n        toast({\n          title: \"Ø·Ù„Ø¨Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©!\",\n          description: `ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… ${newOrders} Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯`,\n        });\n        \n        // Ø¥Ø¶Ø§ÙØ© Ø¥Ø´Ø¹Ø§Ø± Ù„Ù„Ù‚Ø§Ø¦Ù…Ø©\n        setNotifications(prev => [...prev, {\n          id: Date.now(),\n          type: 'new_order',\n          title: 'Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯',\n          message: `Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ Ù…Ù† Ø§Ù„Ø¹Ù…ÙŠÙ„`,\n          timestamp: new Date(),\n          read: false\n        }]);\n      }\n      \n      setLastOrderCount(newOrderCount);\n    }\n  }, [orders, lastOrderCount, userType, toast]);\n\n  // Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø© Ù„Ù„Ø³Ø§Ø¦Ù‚ÙŠÙ†\n  useEffect(() => {\n    if (userType === 'driver' && driverOrders) {\n      const availableOrders = driverOrders.length;\n      \n      if (availableOrders > 0) {\n        // Ø¥Ø´Ø¹Ø§Ø± ØµÙˆØªÙŠ Ù„Ù„Ø³Ø§Ø¦Ù‚\n        if ('Notification' in window && Notification.permission === 'granted') {\n          new Notification('Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ Ù…ØªØ§Ø­!', {\n            body: `ÙŠÙˆØ¬Ø¯ ${availableOrders} Ø·Ù„Ø¨ Ù…ØªØ§Ø­ Ù„Ù„ØªÙˆØµÙŠÙ„`,\n            icon: '/logo.png'\n          });\n        }\n      }\n    }\n  }, [driverOrders, userType]);\n\n  // Ø·Ù„Ø¨ Ø¥Ø°Ù† Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª\n  useEffect(() => {\n    if ('Notification' in window && Notification.permission === 'default') {\n      Notification.requestPermission();\n    }\n  }, []);\n\n  if (userType === 'customer') {\n    return null; // Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ù„Ø§ ÙŠØ­ØªØ§Ø¬ÙˆÙ† Ù†Ø¸Ø§Ù… Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ù…Ø¹Ù‚Ø¯\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª */}\n      <Card>\n        <CardContent className=\"p-4\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-3\">\n              <Bell className=\"h-6 w-6 text-primary\" />\n              <div>\n                <h3 className=\"font-semibold text-foreground\">Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª</h3>\n                <p className=\"text-sm text-muted-foreground\">\n                  {userType === 'admin' ? 'Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…' : 'Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„ØªÙˆØµÙŠÙ„'}\n                </p>\n              </div>\n            </div>\n            <Badge variant=\"secondary\">\n              {notifications.filter(n => !n.read).length}\n            </Badge>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª */}\n      {notifications.length > 0 && (\n        <div className=\"space-y-2\">\n          {notifications.slice(0, 5).map((notification) => (\n            <Card key={notification.id} className={`${!notification.read ? 'border-primary' : ''}`}>\n              <CardContent className=\"p-3\">\n                <div className=\"flex items-start gap-3\">\n                  <div className=\"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center\">\n                    {notification.type === 'new_order' ? (\n                      <Package className=\"h-4 w-4 text-primary\" />\n                    ) : notification.type === 'order_update' ? (\n                      <CheckCircle className=\"h-4 w-4 text-green-500\" />\n                    ) : (\n                      <Truck className=\"h-4 w-4 text-blue-500\" />\n                    )}\n                  </div>\n                  <div className=\"flex-1\">\n                    <h4 className=\"font-medium text-foreground text-sm\">{notification.title}</h4>\n                    <p className=\"text-xs text-muted-foreground\">{notification.message}</p>\n                    <p className=\"text-xs text-muted-foreground mt-1\">\n                      {notification.timestamp.toLocaleTimeString('ar-YE')}\n                    </p>\n                  </div>\n                  {!notification.read && (\n                    <div className=\"w-2 h-2 bg-primary rounded-full\" />\n                  )}\n                </div>\n              </CardContent>\n            </Card>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}","size_bytes":5322},"client/src/components/ProtectedRoute.tsx":{"content":"import React from 'react';\nimport { useAuth } from '@/context/AuthContext';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { Loader2 } from 'lucide-react';\n\ninterface ProtectedRouteProps {\n  children: React.ReactNode;\n  userType: 'admin' | 'driver';\n}\n\nexport const ProtectedRoute: React.FC<ProtectedRouteProps> = ({ children, userType }) => {\n  const { user, isLoading } = useAuth();\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-orange-50 to-orange-100\">\n        <Card className=\"w-96\">\n          <CardContent className=\"p-8 text-center\">\n            <Loader2 className=\"h-8 w-8 animate-spin mx-auto mb-4 text-primary\" />\n            <h3 className=\"text-lg font-semibold text-foreground mb-2\">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</h3>\n            <p className=\"text-muted-foreground\">ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±</p>\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  if (!user || user.userType !== userType) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-red-50 to-red-100\">\n        <Card className=\"w-96\">\n          <CardContent className=\"p-8 text-center\">\n            <div className=\"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n              <span className=\"text-2xl\">ğŸš«</span>\n            </div>\n            <h3 className=\"text-lg font-semibold text-foreground mb-2\">ØºÙŠØ± Ù…ØµØ±Ø­</h3>\n            <p className=\"text-muted-foreground mb-4\">\n              Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© Ù„Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ù‡Ø°Ù‡ Ø§Ù„ØµÙØ­Ø©\n            </p>\n            <a \n              href={userType === 'admin' ? '/admin-login' : '/driver-login'}\n              className=\"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2\"\n            >\n              ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„\n            </a>\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  return <>{children}</>;\n};","size_bytes":2263},"client/src/components/RestaurantCard.tsx":{"content":"import { Card, CardContent } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Star, Clock } from 'lucide-react';\nimport type { Restaurant } from '@shared/schema';\nimport { getRestaurantStatus } from '../utils/restaurantHours';\nimport { useUiSettings } from '@/context/UiSettingsContext';\n\ninterface RestaurantCardProps {\n  restaurant: Restaurant;\n  onClick: () => void;\n}\n\nexport default function RestaurantCard({ restaurant, onClick }: RestaurantCardProps) {\n  const status = getRestaurantStatus(restaurant);\n  const { isFeatureEnabled } = useUiSettings();\n  \n  return (\n    <Card \n      className={`overflow-hidden shadow-sm hover:shadow-md transition-shadow cursor-pointer ${!status.isOpen ? 'opacity-75' : ''}`}\n      onClick={onClick}\n      data-testid={`restaurant-card-${restaurant.id}`}\n    >\n      <img\n        src={restaurant.image}\n        alt={restaurant.name}\n        className=\"w-full h-48 object-cover\"\n      />\n      <CardContent className=\"p-4\">\n        <div className=\"flex justify-between items-start mb-2\">\n          <h4 className=\"font-bold text-foreground\" data-testid={`restaurant-name-${restaurant.id}`}>\n            {restaurant.name}\n          </h4>\n          <Badge \n            variant={status.isOpen ? \"default\" : \"destructive\"}\n            className={status.statusColor === 'green' ? \"bg-green-100 text-green-800 hover:bg-green-100\" : \n                      status.statusColor === 'yellow' ? \"bg-yellow-100 text-yellow-800 hover:bg-yellow-100\" : \"\"}\n            data-testid={`restaurant-status-${restaurant.id}`}\n          >\n            {status.isOpen ? 'Ù…ÙØªÙˆØ­' : 'Ù…ØºÙ„Ù‚'}\n          </Badge>\n        </div>\n        \n        {/* Restaurant description */}\n        {isFeatureEnabled('show_restaurant_description') && restaurant.description && (\n          <div className=\"mb-2\">\n            <p className=\"text-xs text-muted-foreground\">{restaurant.description}</p>\n          </div>\n        )}\n        \n        {/* Restaurant status message */}\n        <div className=\"mb-2\">\n          <p className={`text-xs ${status.statusColor === 'green' ? 'text-green-600' : \n                                    status.statusColor === 'yellow' ? 'text-yellow-600' : 'text-red-600'}`}>\n            {status.message}\n          </p>\n        </div>\n        \n        <div className=\"flex items-center gap-4 text-sm text-muted-foreground mb-3\">\n          {isFeatureEnabled('show_ratings') && (\n            <div className=\"flex items-center gap-1\">\n              <Star className=\"h-4 w-4 text-yellow-500\" />\n              <span data-testid={`restaurant-rating-${restaurant.id}`}>{restaurant.rating}</span>\n              <span>({restaurant.reviewCount} ØªÙ‚ÙŠÙŠÙ…)</span>\n            </div>\n          )}\n          {isFeatureEnabled('show_delivery_time') && (\n            <div className=\"flex items-center gap-1\">\n              <Clock className=\"h-4 w-4\" />\n              <span data-testid={`restaurant-delivery-time-${restaurant.id}`}>{restaurant.deliveryTime}</span>\n            </div>\n          )}\n        </div>\n        \n        <div className=\"flex justify-between items-center\">\n          {isFeatureEnabled('show_minimum_order') && (\n            <span className=\"text-sm text-muted-foreground\">\n              Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰: {restaurant.minimumOrder} Ø±ÙŠØ§Ù„\n            </span>\n          )}\n          <span className=\"text-sm text-primary font-medium\">\n            Ø±Ø³ÙˆÙ… Ø§Ù„ØªÙˆØµÙŠÙ„: {restaurant.deliveryFee} Ø±ÙŠØ§Ù„\n          </span>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n","size_bytes":3559},"client/src/components/SearchBar.tsx":{"content":"import React, { useState, useEffect } from 'react';\nimport { Search, X } from 'lucide-react';\nimport { searchService } from '../services/searchService';\nimport type { Restaurant, Category, MenuItem } from '../../../shared/schema.js';\n\ninterface SearchBarProps {\n  onResultSelect?: (type: 'restaurant' | 'category' | 'menuItem', item: any) => void;\n  placeholder?: string;\n}\n\nexport function SearchBar({ onResultSelect, placeholder = \"Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…Ø·Ø§Ø¹Ù…ØŒ Ø£Ø·Ø¨Ø§Ù‚ Ø£Ùˆ ÙØ¦Ø§Øª...\" }: SearchBarProps) {\n  const [query, setQuery] = useState('');\n  const [results, setResults] = useState<{\n    restaurants: Restaurant[];\n    categories: Category[];\n    menuItems: MenuItem[];\n  }>({ restaurants: [], categories: [], menuItems: [] });\n  const [isLoading, setIsLoading] = useState(false);\n  const [showResults, setShowResults] = useState(false);\n\n  useEffect(() => {\n    if (query.length < 2) {\n      setResults({ restaurants: [], categories: [], menuItems: [] });\n      setShowResults(false);\n      return;\n    }\n\n    const searchTimeout = setTimeout(async () => {\n      setIsLoading(true);\n      try {\n        const searchResults = await searchService.searchAll(query);\n        setResults(searchResults);\n        setShowResults(true);\n      } catch (error) {\n        console.error('Search error:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    }, 300);\n\n    return () => clearTimeout(searchTimeout);\n  }, [query]);\n\n  const clearSearch = () => {\n    setQuery('');\n    setResults({ restaurants: [], categories: [], menuItems: [] });\n    setShowResults(false);\n  };\n\n  const handleResultClick = (type: 'restaurant' | 'category' | 'menuItem', item: any) => {\n    onResultSelect?.(type, item);\n    setShowResults(false);\n    setQuery('');\n  };\n\n  const totalResults = results.restaurants.length + results.categories.length + results.menuItems.length;\n\n  return (\n    <div className=\"relative\">\n      <div className=\"relative\">\n        <Search className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400\" size={20} />\n        <input\n          type=\"text\"\n          value={query}\n          onChange={(e) => setQuery(e.target.value)}\n          placeholder={placeholder}\n          className=\"w-full pl-4 pr-12 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent\"\n        />\n        {query && (\n          <button\n            onClick={clearSearch}\n            className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600\"\n          >\n            <X size={18} />\n          </button>\n        )}\n      </div>\n\n      {/* Search Results */}\n      {showResults && (\n        <div className=\"absolute top-full right-0 left-0 mt-2 bg-white rounded-xl shadow-lg border border-gray-200 max-h-96 overflow-y-auto z-50\">\n          {isLoading ? (\n            <div className=\"p-4 text-center\">\n              <div className=\"animate-spin w-6 h-6 border-2 border-red-500 border-t-transparent rounded-full mx-auto\"></div>\n              <p className=\"text-sm text-gray-500 mt-2\">Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¨Ø­Ø«...</p>\n            </div>\n          ) : totalResults === 0 ? (\n            <div className=\"p-4 text-center text-gray-500\">\n              <p>Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù†ØªØ§Ø¦Ø¬</p>\n              <p className=\"text-xs\">Ø¬Ø±Ø¨ Ù…ØµØ·Ù„Ø­Ø§Øª Ø¨Ø­Ø« Ø£Ø®Ø±Ù‰</p>\n            </div>\n          ) : (\n            <div className=\"p-2\">\n              {/* Categories */}\n              {results.categories.length > 0 && (\n                <div className=\"mb-4\">\n                  <h3 className=\"text-sm font-semibold text-gray-700 px-2 mb-2\">Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª</h3>\n                  {results.categories.map((category) => (\n                    <div\n                      key={category.id}\n                      onClick={() => handleResultClick('category', category)}\n                      className=\"flex items-center gap-3 p-2 hover:bg-gray-50 rounded-lg cursor-pointer\"\n                    >\n                      <div className=\"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center\">\n                        <span className=\"text-blue-600 text-xs\">{category.icon}</span>\n                      </div>\n                      <span className=\"text-sm\">{category.name}</span>\n                    </div>\n                  ))}\n                </div>\n              )}\n\n              {/* Restaurants */}\n              {results.restaurants.length > 0 && (\n                <div className=\"mb-4\">\n                  <h3 className=\"text-sm font-semibold text-gray-700 px-2 mb-2\">Ø§Ù„Ù…Ø·Ø§Ø¹Ù…</h3>\n                  {results.restaurants.map((restaurant) => (\n                    <div\n                      key={restaurant.id}\n                      onClick={() => handleResultClick('restaurant', restaurant)}\n                      className=\"flex items-center gap-3 p-2 hover:bg-gray-50 rounded-lg cursor-pointer\"\n                    >\n                      <img\n                        src={restaurant.image}\n                        alt={restaurant.name}\n                        className=\"w-10 h-10 rounded-lg object-cover\"\n                        onError={(e) => {\n                          e.currentTarget.src = 'https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=64&h=64&fit=crop&crop=center';\n                        }}\n                      />\n                      <div className=\"flex-1\">\n                        <h4 className=\"text-sm font-medium\">{restaurant.name}</h4>\n                        <p className=\"text-xs text-gray-500\">{restaurant.deliveryTime}</p>\n                      </div>\n                      <div className=\"flex items-center gap-1\">\n                        <span className=\"text-xs text-yellow-500\">â­</span>\n                        <span className=\"text-xs\">{restaurant.rating}</span>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n\n              {/* Menu Items */}\n              {results.menuItems.length > 0 && (\n                <div>\n                  <h3 className=\"text-sm font-semibold text-gray-700 px-2 mb-2\">Ø§Ù„Ø£Ø·Ø¨Ø§Ù‚</h3>\n                  {results.menuItems.map((item) => (\n                    <div\n                      key={item.id}\n                      onClick={() => handleResultClick('menuItem', item)}\n                      className=\"flex items-center gap-3 p-2 hover:bg-gray-50 rounded-lg cursor-pointer\"\n                    >\n                      <img\n                        src={item.image}\n                        alt={item.name}\n                        className=\"w-10 h-10 rounded-lg object-cover\"\n                        onError={(e) => {\n                          e.currentTarget.src = 'https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=64&h=64&fit=crop&crop=center';\n                        }}\n                      />\n                      <div className=\"flex-1\">\n                        <h4 className=\"text-sm font-medium\">{item.name}</h4>\n                        <p className=\"text-xs text-gray-500\">{item.category}</p>\n                      </div>\n                      <span className=\"text-sm font-semibold text-red-500\">{item.price} Ø±.Ø³</span>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}","size_bytes":7384},"client/src/components/TimingBanner.tsx":{"content":"import { useQuery } from '@tanstack/react-query';\nimport { Clock } from 'lucide-react';\n\nexport default function TimingBanner() {\n  const { data: uiSettings } = useQuery({\n    queryKey: ['/api/admin/ui-settings'],\n  });\n\n  // Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø£ÙˆÙ‚Ø§Øª Ø§Ù„Ø¹Ù…Ù„\n  const openingTime = uiSettings?.find((setting: any) => setting.key === 'opening_time')?.value || '11:00';\n  const closingTime = uiSettings?.find((setting: any) => setting.key === 'closing_time')?.value || '23:00';\n  const currentStatus = uiSettings?.find((setting: any) => setting.key === 'store_status')?.value || 'Ù…ØºÙ„Ù‚';\n\n  return (\n    <div className=\"bg-gray-100 py-3\">\n      <div className=\"px-4 text-center\">\n        <div className=\"orange-gradient text-white px-4 py-2 rounded-full inline-flex items-center gap-2 text-sm\">\n          <Clock className=\"h-4 w-4\" />\n          <span>Ø£ÙˆÙ‚Ø§Øª Ø§Ù„Ø¯ÙˆØ§Ù… Ù…Ù† Ø§Ù„Ø³Ø§Ø¹Ø© {openingTime} Ø­ØªÙ‰ {closingTime}</span>\n          <span className={`px-2 py-1 rounded text-xs ${\n            currentStatus === 'Ù…ÙØªÙˆØ­' ? 'bg-green-500/20' : 'bg-white/20'\n          }`}>\n            {currentStatus}\n          </span>\n        </div>\n      </div>\n    </div>\n  );\n}","size_bytes":1197},"client/src/components/UiControlPanel.tsx":{"content":"import React from 'react';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Switch } from '@/components/ui/switch';\nimport { Label } from '@/components/ui/label';\nimport { Button } from '@/components/ui/button';\nimport { useUiSettings } from '@/context/UiSettingsContext';\nimport { Settings, Eye, EyeOff, Palette, Smartphone } from 'lucide-react';\n\nexport function UiControlPanel() {\n  const { settings, loading, updateSetting, isFeatureEnabled } = useUiSettings();\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center p-8\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 dark:border-gray-100\"></div>\n      </div>\n    );\n  }\n\n  const handleToggle = (key: string, enabled: boolean) => {\n    updateSetting(key, enabled.toString());\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center gap-2 mb-6\">\n        <Settings className=\"h-6 w-6\" />\n        <h2 className=\"text-2xl font-bold\">Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©</h2>\n      </div>\n\n      {/* Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Eye className=\"h-5 w-5\" />\n            Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©\n          </CardTitle>\n          <CardDescription>\n            ØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù…Ø¹Ø±ÙˆØ¶Ø© ÙÙŠ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©\n          </CardDescription>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <div className=\"flex items-center justify-between\">\n            <Label htmlFor=\"show_categories\" className=\"flex-1\">\n              Ø¹Ø±Ø¶ ØªØµÙ†ÙŠÙØ§Øª Ø§Ù„Ù…Ø·Ø§Ø¹Ù…\n            </Label>\n            <Switch\n              id=\"show_categories\"\n              checked={isFeatureEnabled('show_categories')}\n              onCheckedChange={(checked) => handleToggle('show_categories', checked)}\n            />\n          </div>\n\n          <div className=\"flex items-center justify-between\">\n            <Label htmlFor=\"show_search_bar\" className=\"flex-1\">\n              Ø¹Ø±Ø¶ Ø´Ø±ÙŠØ· Ø§Ù„Ø¨Ø­Ø«\n            </Label>\n            <Switch\n              id=\"show_search_bar\"\n              checked={isFeatureEnabled('show_search_bar')}\n              onCheckedChange={(checked) => handleToggle('show_search_bar', checked)}\n            />\n          </div>\n\n          <div className=\"flex items-center justify-between\">\n            <Label htmlFor=\"show_special_offers\" className=\"flex-1\">\n              Ø¹Ø±Ø¶ Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø®Ø§ØµØ©\n            </Label>\n            <Switch\n              id=\"show_special_offers\"\n              checked={isFeatureEnabled('show_special_offers')}\n              onCheckedChange={(checked) => handleToggle('show_special_offers', checked)}\n            />\n          </div>\n\n          <div className=\"flex items-center justify-between\">\n            <Label htmlFor=\"show_cart_button\" className=\"flex-1\">\n              Ø¹Ø±Ø¶ Ø²Ø± Ø§Ù„Ø³Ù„Ø©\n            </Label>\n            <Switch\n              id=\"show_cart_button\"\n              checked={isFeatureEnabled('show_cart_button')}\n              onCheckedChange={(checked) => handleToggle('show_cart_button', checked)}\n            />\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ø·Ø§Ø¹Ù… */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Smartphone className=\"h-5 w-5\" />\n            Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø·Ø§Ø¹Ù…\n          </CardTitle>\n          <CardDescription>\n            ØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø¹Ø±ÙˆØ¶Ø© Ù„Ù„Ù…Ø·Ø§Ø¹Ù…\n          </CardDescription>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <div className=\"flex items-center justify-between\">\n            <Label htmlFor=\"show_ratings\" className=\"flex-1\">\n              Ø¹Ø±Ø¶ ØªÙ‚ÙŠÙŠÙ…Ø§Øª Ø§Ù„Ù…Ø·Ø§Ø¹Ù…\n            </Label>\n            <Switch\n              id=\"show_ratings\"\n              checked={isFeatureEnabled('show_ratings')}\n              onCheckedChange={(checked) => handleToggle('show_ratings', checked)}\n            />\n          </div>\n\n          <div className=\"flex items-center justify-between\">\n            <Label htmlFor=\"show_delivery_time\" className=\"flex-1\">\n              Ø¹Ø±Ø¶ ÙˆÙ‚Øª Ø§Ù„ØªÙˆØµÙŠÙ„\n            </Label>\n            <Switch\n              id=\"show_delivery_time\"\n              checked={isFeatureEnabled('show_delivery_time')}\n              onCheckedChange={(checked) => handleToggle('show_delivery_time', checked)}\n            />\n          </div>\n\n          <div className=\"flex items-center justify-between\">\n            <Label htmlFor=\"show_minimum_order\" className=\"flex-1\">\n              Ø¹Ø±Ø¶ Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ù„Ù„Ø·Ù„Ø¨\n            </Label>\n            <Switch\n              id=\"show_minimum_order\"\n              checked={isFeatureEnabled('show_minimum_order')}\n              onCheckedChange={(checked) => handleToggle('show_minimum_order', checked)}\n            />\n          </div>\n\n          <div className=\"flex items-center justify-between\">\n            <Label htmlFor=\"show_restaurant_description\" className=\"flex-1\">\n              Ø¹Ø±Ø¶ ÙˆØµÙ Ø§Ù„Ù…Ø·Ø¹Ù…\n            </Label>\n            <Switch\n              id=\"show_restaurant_description\"\n              checked={isFeatureEnabled('show_restaurant_description')}\n              onCheckedChange={(checked) => handleToggle('show_restaurant_description', checked)}\n            />\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø®Ø¯Ù…Ø§Øª */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Palette className=\"h-5 w-5\" />\n            Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø®Ø¯Ù…Ø§Øª ÙˆØ§Ù„Ù…ÙŠØ²Ø§Øª\n          </CardTitle>\n          <CardDescription>\n            ØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø© ÙÙŠ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚\n          </CardDescription>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <div className=\"flex items-center justify-between\">\n            <Label htmlFor=\"enable_location_services\" className=\"flex-1\">\n              ØªÙØ¹ÙŠÙ„ Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹\n            </Label>\n            <Switch\n              id=\"enable_location_services\"\n              checked={isFeatureEnabled('enable_location_services')}\n              onCheckedChange={(checked) => handleToggle('enable_location_services', checked)}\n            />\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}","size_bytes":6606},"client/src/components/theme-provider.tsx":{"content":"import { createContext, useContext, useEffect, useState } from \"react\"\n\ntype Theme = \"dark\" | \"light\" | \"system\"\n\ntype ThemeProviderProps = {\n  children: React.ReactNode\n  defaultTheme?: Theme\n  storageKey?: string\n}\n\ntype ThemeProviderState = {\n  theme: Theme\n  setTheme: (theme: Theme) => void\n}\n\nconst initialState: ThemeProviderState = {\n  theme: \"system\",\n  setTheme: () => null,\n}\n\nconst ThemeProviderContext = createContext<ThemeProviderState>(initialState)\n\nexport function ThemeProvider({\n  children,\n  defaultTheme = \"system\",\n  storageKey = \"vite-ui-theme\",\n  ...props\n}: ThemeProviderProps) {\n  const [theme, setTheme] = useState<Theme>(\n    () => (localStorage.getItem(storageKey) as Theme) || defaultTheme\n  )\n\n  useEffect(() => {\n    const root = window.document.documentElement\n\n    root.classList.remove(\"light\", \"dark\")\n\n    if (theme === \"system\") {\n      const systemTheme = window.matchMedia(\"(prefers-color-scheme: dark)\")\n        .matches\n        ? \"dark\"\n        : \"light\"\n\n      root.classList.add(systemTheme)\n      return\n    }\n\n    root.classList.add(theme)\n  }, [theme])\n\n  const value = {\n    theme,\n    setTheme: (theme: Theme) => {\n      localStorage.setItem(storageKey, theme)\n      setTheme(theme)\n    },\n  }\n\n  return (\n    <ThemeProviderContext.Provider {...props} value={value}>\n      {children}\n    </ThemeProviderContext.Provider>\n  )\n}\n\nexport const useTheme = () => {\n  const context = useContext(ThemeProviderContext)\n\n  if (context === undefined)\n    throw new Error(\"useTheme must be used within a ThemeProvider\")\n\n  return context\n}","size_bytes":1577},"client/src/context/AuthContext.tsx":{"content":"import React, { createContext, useContext, useState, useEffect } from 'react';\n\ninterface AuthState {\n  isAuthenticated: boolean;\n  userType: 'admin' | 'driver' | null;\n  token: string | null;\n  adminId: string | null;\n}\n\ninterface AuthContextType extends AuthState {\n  login: (identifier: string, password: string, userType?: 'admin' | 'driver') => Promise<{ success: boolean; message: string }>;\n  logout: () => void;\n  loading: boolean;\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport const useAuth = () => {\n  const context = useContext(AuthContext);\n  if (!context) {\n    throw new Error('useAuth must be used within AuthProvider');\n  }\n  return context;\n};\n\nexport const AuthProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\n  const [authState, setAuthState] = useState<AuthState>({\n    isAuthenticated: false,\n    userType: null,\n    token: null,\n    adminId: null,\n  });\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const token = localStorage.getItem('admin_token');\n    if (token) {\n      verifyToken(token);\n    } else {\n      setLoading(false);\n    }\n  }, []);\n\n  const verifyToken = async (token: string) => {\n    try {\n      const response = await fetch('/api/admin/verify', {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n        },\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        setAuthState({\n          isAuthenticated: true,\n          userType: data.userType,\n          token,\n          adminId: data.adminId,\n        });\n      } else {\n        localStorage.removeItem('admin_token');\n        setAuthState({\n          isAuthenticated: false,\n          userType: null,\n          token: null,\n          adminId: null,\n        });\n      }\n    } catch (error) {\n      console.error('Token verification failed:', error);\n      localStorage.removeItem('admin_token');\n      setAuthState({\n        isAuthenticated: false,\n        userType: null,\n        token: null,\n        adminId: null,\n      });\n    }\n    setLoading(false);\n  };\n\n  const login = async (identifier: string, password: string, userType: 'admin' | 'driver' = 'admin') => {\n    try {\n      const endpoint = userType === 'driver' ? '/api/driver/login' : '/api/admin/login';\n      const requestBody = userType === 'driver' \n        ? { phone: identifier, password }\n        : { email: identifier, password };\n\n      const response = await fetch(endpoint, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(requestBody),\n      });\n\n      const data = await response.json();\n\n      if (response.ok && data.success) {\n        localStorage.setItem('admin_token', data.token);\n        setAuthState({\n          isAuthenticated: true,\n          userType: userType,\n          token: data.token,\n          adminId: data.admin?.id || data.driver?.id || 'admin-main',\n        });\n        return { success: true, message: data.message || 'ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­' };\n      } else {\n        return { success: false, message: data.message || data.error || 'Ø®Ø·Ø£ ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„' };\n      }\n    } catch (error) {\n      return { success: false, message: 'Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…' };\n    }\n  };\n\n  const logout = async () => {\n    try {\n      if (authState.token) {\n        await fetch('/api/admin/logout', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({ token: authState.token }),\n        });\n      }\n    } catch (error) {\n      console.error('Logout error:', error);\n    }\n\n    localStorage.removeItem('admin_token');\n    setAuthState({\n      isAuthenticated: false,\n      userType: null,\n      token: null,\n      adminId: null,\n    });\n  };\n\n  return (\n    <AuthContext.Provider value={{ ...authState, login, logout, loading }}>\n      {children}\n    </AuthContext.Provider>\n  );\n};","size_bytes":4014},"client/src/context/CartContext.tsx":{"content":"import React, { createContext, useContext, useState, useEffect } from 'react';\nimport type { MenuItem } from '@shared/schema';\n\nexport interface CartItem extends MenuItem {\n  quantity: number;\n}\n\ninterface CartContextType {\n  items: CartItem[];\n  addItem: (item: MenuItem) => void;\n  removeItem: (itemId: string) => void;\n  updateQuantity: (itemId: string, quantity: number) => void;\n  clearCart: () => void;\n  getItemCount: () => number;\n  getSubtotal: () => number;\n  getTotal: () => number;\n}\n\nconst CartContext = createContext<CartContextType | undefined>(undefined);\n\nexport function CartProvider({ children }: { children: React.ReactNode }) {\n  const [items, setItems] = useState<CartItem[]>(() => {\n    const saved = localStorage.getItem('cart');\n    return saved ? JSON.parse(saved) : [];\n  });\n\n  useEffect(() => {\n    localStorage.setItem('cart', JSON.stringify(items));\n  }, [items]);\n\n  const addItem = (item: MenuItem) => {\n    setItems(prev => {\n      const existingItem = prev.find(cartItem => cartItem.id === item.id);\n      if (existingItem) {\n        return prev.map(cartItem =>\n          cartItem.id === item.id\n            ? { ...cartItem, quantity: cartItem.quantity + 1 }\n            : cartItem\n        );\n      } else {\n        return [...prev, { ...item, quantity: 1 }];\n      }\n    });\n  };\n\n  const removeItem = (itemId: string) => {\n    setItems(prev => prev.filter(item => item.id !== itemId));\n  };\n\n  const updateQuantity = (itemId: string, quantity: number) => {\n    if (quantity <= 0) {\n      removeItem(itemId);\n      return;\n    }\n    setItems(prev =>\n      prev.map(item =>\n        item.id === itemId ? { ...item, quantity } : item\n      )\n    );\n  };\n\n  const clearCart = () => {\n    setItems([]);\n  };\n\n  const getItemCount = () => {\n    return items.reduce((sum, item) => sum + item.quantity, 0);\n  };\n\n  const getSubtotal = () => {\n    return items.reduce((sum, item) => sum + (item.price * item.quantity), 0);\n  };\n\n  const getTotal = () => {\n    const subtotal = getSubtotal();\n    const deliveryFee = subtotal > 0 ? 5 : 0; // 5 YER delivery fee\n    return subtotal + deliveryFee;\n  };\n\n  return (\n    <CartContext.Provider value={{\n      items,\n      addItem,\n      removeItem,\n      updateQuantity,\n      clearCart,\n      getItemCount,\n      getSubtotal,\n      getTotal,\n    }}>\n      {children}\n    </CartContext.Provider>\n  );\n}\n\nexport function useCart() {\n  const context = useContext(CartContext);\n  if (context === undefined) {\n    throw new Error('useCart must be used within a CartProvider');\n  }\n  return context;\n}\n","size_bytes":2568},"client/src/context/LocationContext.tsx":{"content":"import { createContext, useContext, useState, useEffect, ReactNode } from 'react';\n\ninterface LocationState {\n  position: GeolocationPosition | null;\n  hasPermission: boolean;\n  isLoading: boolean;\n  error: string | null;\n}\n\ninterface LocationContextType {\n  location: LocationState;\n  requestPermission: () => void;\n  getCurrentLocation: () => void;\n}\n\nconst LocationContext = createContext<LocationContextType | undefined>(undefined);\n\nexport function LocationProvider({ children }: { children: ReactNode }) {\n  const [location, setLocation] = useState<LocationState>({\n    position: null,\n    hasPermission: false,\n    isLoading: false,\n    error: null,\n  });\n\n  useEffect(() => {\n    checkPermissionStatus();\n  }, []);\n\n  const checkPermissionStatus = async () => {\n    if ('permissions' in navigator) {\n      try {\n        const permission = await navigator.permissions.query({ name: 'geolocation' as PermissionName });\n        if (permission.state === 'granted') {\n          setLocation(prev => ({ ...prev, hasPermission: true }));\n          getCurrentLocation();\n        }\n      } catch (error) {\n        console.error('Error checking permission:', error);\n      }\n    }\n  };\n\n  const requestPermission = () => {\n    getCurrentLocation();\n  };\n\n  const getCurrentLocation = () => {\n    if (!('geolocation' in navigator)) {\n      setLocation(prev => ({ \n        ...prev, \n        error: 'Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠ ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ… ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù…ØªØµÙØ­' \n      }));\n      return;\n    }\n\n    setLocation(prev => ({ ...prev, isLoading: true, error: null }));\n\n    navigator.geolocation.getCurrentPosition(\n      (position) => {\n        setLocation({\n          position,\n          hasPermission: true,\n          isLoading: false,\n          error: null,\n        });\n      },\n      (error) => {\n        let errorMessage = 'Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆÙ‚Ø¹';\n        \n        switch (error.code) {\n          case error.PERMISSION_DENIED:\n            errorMessage = 'ØªÙ… Ø±ÙØ¶ Ø§Ù„Ø¥Ø°Ù† Ù„Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ù…ÙˆÙ‚Ø¹';\n            break;\n          case error.POSITION_UNAVAILABLE:\n            errorMessage = 'Ø§Ù„Ù…ÙˆÙ‚Ø¹ ØºÙŠØ± Ù…ØªØ§Ø­';\n            break;\n          case error.TIMEOUT:\n            errorMessage = 'Ø§Ù†ØªÙ‡Øª Ù…Ù‡Ù„Ø© Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆÙ‚Ø¹';\n            break;\n        }\n\n        setLocation(prev => ({\n          ...prev,\n          isLoading: false,\n          error: errorMessage,\n          hasPermission: false,\n        }));\n      },\n      {\n        enableHighAccuracy: true,\n        timeout: 10000,\n        maximumAge: 60000\n      }\n    );\n  };\n\n  return (\n    <LocationContext.Provider value={{ location, requestPermission, getCurrentLocation }}>\n      {children}\n    </LocationContext.Provider>\n  );\n}\n\nexport function useLocation() {\n  const context = useContext(LocationContext);\n  if (context === undefined) {\n    throw new Error('useLocation must be used within a LocationProvider');\n  }\n  return context;\n}","size_bytes":2972},"client/src/context/ThemeContext.tsx":{"content":"import React, { createContext, useContext, useEffect, useState } from 'react';\n\ntype Theme = 'light' | 'dark';\n\ninterface ThemeContextType {\n  theme: Theme;\n  toggleTheme: () => void;\n}\n\nconst ThemeContext = createContext<ThemeContextType | undefined>(undefined);\n\nexport function ThemeProvider({ children }: { children: React.ReactNode }) {\n  const [theme, setTheme] = useState<Theme>(() => {\n    const saved = localStorage.getItem('theme');\n    return (saved as Theme) || 'light';\n  });\n\n  useEffect(() => {\n    const root = document.documentElement;\n    if (theme === 'dark') {\n      root.classList.add('dark');\n    } else {\n      root.classList.remove('dark');\n    }\n    localStorage.setItem('theme', theme);\n  }, [theme]);\n\n  const toggleTheme = () => {\n    setTheme(prev => prev === 'light' ? 'dark' : 'light');\n  };\n\n  return (\n    <ThemeContext.Provider value={{ theme, toggleTheme }}>\n      {children}\n    </ThemeContext.Provider>\n  );\n}\n\nexport function useTheme() {\n  const context = useContext(ThemeContext);\n  if (context === undefined) {\n    throw new Error('useTheme must be used within a ThemeProvider');\n  }\n  return context;\n}\n","size_bytes":1145},"client/src/context/UiSettingsContext.tsx":{"content":"import React, { createContext, useContext, useState, useEffect } from 'react';\n\ninterface UiSetting {\n  id: string;\n  settingKey: string;\n  settingValue: string;\n  description: string | null;\n  isActive: boolean;\n}\n\ninterface UiSettingsContextType {\n  settings: Record<string, string>;\n  loading: boolean;\n  updateSetting: (key: string, value: string) => Promise<void>;\n  getSetting: (key: string, defaultValue?: string) => string;\n  isFeatureEnabled: (key: string) => boolean;\n  refreshSettings: () => Promise<void>;\n}\n\nconst UiSettingsContext = createContext<UiSettingsContextType | undefined>(undefined);\n\nexport function UiSettingsProvider({ children }: { children: React.ReactNode }) {\n  const [settings, setSettings] = useState<Record<string, string>>({});\n  const [loading, setLoading] = useState(true);\n\n  const loadSettings = async () => {\n    try {\n      const response = await fetch('/api/ui-settings');\n      if (response.ok) {\n        const settingsData: UiSetting[] = await response.json();\n        const settingsMap = settingsData.reduce((acc, setting) => {\n          acc[setting.settingKey] = setting.settingValue;\n          return acc;\n        }, {} as Record<string, string>);\n        setSettings(settingsMap);\n      }\n    } catch (error) {\n      console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const updateSetting = async (key: string, value: string) => {\n    try {\n      const response = await fetch(`/api/ui-settings/${key}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ value }),\n      });\n\n      if (response.ok) {\n        setSettings(prev => ({ ...prev, [key]: value }));\n      }\n    } catch (error) {\n      console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯:', error);\n    }\n  };\n\n  const getSetting = (key: string, defaultValue: string = '') => {\n    return settings[key] || defaultValue;\n  };\n\n  const isFeatureEnabled = (key: string) => {\n    return getSetting(key) === 'true';\n  };\n\n  const refreshSettings = async () => {\n    setLoading(true);\n    await loadSettings();\n  };\n\n  useEffect(() => {\n    loadSettings();\n  }, []);\n\n  return (\n    <UiSettingsContext.Provider value={{\n      settings,\n      loading,\n      updateSetting,\n      getSetting,\n      isFeatureEnabled,\n      refreshSettings\n    }}>\n      {children}\n    </UiSettingsContext.Provider>\n  );\n}\n\nexport function useUiSettings() {\n  const context = useContext(UiSettingsContext);\n  if (context === undefined) {\n    throw new Error('useUiSettings must be used within a UiSettingsProvider');\n  }\n  return context;\n}","size_bytes":2683},"client/src/contexts/CartContext.tsx":{"content":"import React, { createContext, useContext, useReducer, useEffect } from 'react';\nimport { MenuItem } from '../../../shared/schema.js';\n\nexport interface CartItem extends MenuItem {\n  quantity: number;\n  notes?: string;\n}\n\ninterface CartState {\n  items: CartItem[];\n  restaurantId?: string;\n  restaurantName?: string;\n  total: number;\n  subtotal: number;\n  deliveryFee: number;\n}\n\ntype CartAction =\n  | { type: 'ADD_ITEM'; item: MenuItem; restaurantId: string; restaurantName: string }\n  | { type: 'REMOVE_ITEM'; itemId: string }\n  | { type: 'UPDATE_QUANTITY'; itemId: string; quantity: number }\n  | { type: 'CLEAR_CART' }\n  | { type: 'SET_DELIVERY_FEE'; fee: number }\n  | { type: 'ADD_NOTES'; itemId: string; notes: string };\n\nconst initialState: CartState = {\n  items: [],\n  total: 0,\n  subtotal: 0,\n  deliveryFee: 0,\n};\n\nfunction cartReducer(state: CartState, action: CartAction): CartState {\n  switch (action.type) {\n    case 'ADD_ITEM': {\n      // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ø·Ø¹Ù… Ù…Ø®ØªÙ„ÙØ§Ù‹ØŒ Ø§Ù…Ø³Ø­ Ø§Ù„Ø³Ù„Ø©\n      if (state.restaurantId && state.restaurantId !== action.restaurantId) {\n        if (!confirm('Ø¥Ø¶Ø§ÙØ© Ø¹Ù†Ø§ØµØ± Ù…Ù† Ù…Ø·Ø¹Ù… Ø¢Ø®Ø± Ø³ÙŠÙ…Ø³Ø­ Ø§Ù„Ø³Ù„Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©. Ù‡Ù„ ØªØ±ÙŠØ¯ Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø©ØŸ')) {\n          return state;\n        }\n        state = { ...initialState };\n      }\n\n      const existingItem = state.items.find(item => item.id === action.item.id);\n      let newItems;\n\n      if (existingItem) {\n        newItems = state.items.map(item =>\n          item.id === action.item.id\n            ? { ...item, quantity: item.quantity + 1 }\n            : item\n        );\n      } else {\n        newItems = [...state.items, { ...action.item, quantity: 1 }];\n      }\n\n      const subtotal = newItems.reduce((sum, item) => sum + parseFloat(item.price) * item.quantity, 0);\n      const total = subtotal + state.deliveryFee;\n\n      return {\n        ...state,\n        items: newItems,\n        restaurantId: action.restaurantId,\n        restaurantName: action.restaurantName,\n        subtotal,\n        total,\n      };\n    }\n\n    case 'REMOVE_ITEM': {\n      const newItems = state.items.filter(item => item.id !== action.itemId);\n      const subtotal = newItems.reduce((sum, item) => sum + parseFloat(item.price) * item.quantity, 0);\n      const total = subtotal + state.deliveryFee;\n      \n      return {\n        ...state,\n        items: newItems,\n        subtotal,\n        total,\n        restaurantId: newItems.length === 0 ? undefined : state.restaurantId,\n        restaurantName: newItems.length === 0 ? undefined : state.restaurantName,\n      };\n    }\n\n    case 'UPDATE_QUANTITY': {\n      if (action.quantity <= 0) {\n        return cartReducer(state, { type: 'REMOVE_ITEM', itemId: action.itemId });\n      }\n\n      const newItems = state.items.map(item =>\n        item.id === action.itemId\n          ? { ...item, quantity: action.quantity }\n          : item\n      );\n\n      const subtotal = newItems.reduce((sum, item) => sum + parseFloat(item.price) * item.quantity, 0);\n      const total = subtotal + state.deliveryFee;\n\n      return {\n        ...state,\n        items: newItems,\n        subtotal,\n        total,\n      };\n    }\n\n    case 'ADD_NOTES': {\n      const newItems = state.items.map(item =>\n        item.id === action.itemId\n          ? { ...item, notes: action.notes }\n          : item\n      );\n\n      return {\n        ...state,\n        items: newItems,\n      };\n    }\n\n    case 'SET_DELIVERY_FEE': {\n      const total = state.subtotal + action.fee;\n      return {\n        ...state,\n        deliveryFee: action.fee,\n        total,\n      };\n    }\n\n    case 'CLEAR_CART':\n      return initialState;\n\n    default:\n      return state;\n  }\n}\n\ninterface CartContextType {\n  state: CartState;\n  addItem: (item: MenuItem, restaurantId: string, restaurantName: string) => void;\n  removeItem: (itemId: string) => void;\n  updateQuantity: (itemId: string, quantity: number) => void;\n  addNotes: (itemId: string, notes: string) => void;\n  setDeliveryFee: (fee: number) => void;\n  clearCart: () => void;\n  getItemQuantity: (itemId: string) => number;\n}\n\nconst CartContext = createContext<CartContextType | undefined>(undefined);\n\nexport function CartProvider({ children }: { children: React.ReactNode }) {\n  const [state, dispatch] = useReducer(cartReducer, initialState);\n\n  // Ø­ÙØ¸ Ø§Ù„Ø³Ù„Ø© ÙÙŠ localStorage\n  useEffect(() => {\n    localStorage.setItem('cart', JSON.stringify(state));\n  }, [state]);\n\n  // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø³Ù„Ø© Ù…Ù† localStorage\n  useEffect(() => {\n    const savedCart = localStorage.getItem('cart');\n    if (savedCart) {\n      try {\n        const cartData = JSON.parse(savedCart);\n        if (cartData.items?.length > 0) {\n          // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø³Ù„Ø© Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©\n          cartData.items.forEach((item: CartItem) => {\n            dispatch({\n              type: 'ADD_ITEM',\n              item,\n              restaurantId: cartData.restaurantId,\n              restaurantName: cartData.restaurantName\n            });\n          });\n        }\n      } catch (error) {\n        console.error('Error loading cart from localStorage:', error);\n      }\n    }\n  }, []);\n\n  const addItem = (item: MenuItem, restaurantId: string, restaurantName: string) => {\n    dispatch({ type: 'ADD_ITEM', item, restaurantId, restaurantName });\n  };\n\n  const removeItem = (itemId: string) => {\n    dispatch({ type: 'REMOVE_ITEM', itemId });\n  };\n\n  const updateQuantity = (itemId: string, quantity: number) => {\n    dispatch({ type: 'UPDATE_QUANTITY', itemId, quantity });\n  };\n\n  const addNotes = (itemId: string, notes: string) => {\n    dispatch({ type: 'ADD_NOTES', itemId, notes });\n  };\n\n  const setDeliveryFee = (fee: number) => {\n    dispatch({ type: 'SET_DELIVERY_FEE', fee });\n  };\n\n  const clearCart = () => {\n    dispatch({ type: 'CLEAR_CART' });\n  };\n\n  const getItemQuantity = (itemId: string): number => {\n    const item = state.items.find(item => item.id === itemId);\n    return item ? item.quantity : 0;\n  };\n\n  return (\n    <CartContext.Provider\n      value={{\n        state,\n        addItem,\n        removeItem,\n        updateQuantity,\n        addNotes,\n        setDeliveryFee,\n        clearCart,\n        getItemQuantity,\n      }}\n    >\n      {children}\n    </CartContext.Provider>\n  );\n}\n\nexport function useCart() {\n  const context = useContext(CartContext);\n  if (context === undefined) {\n    throw new Error('useCart must be used within a CartProvider');\n  }\n  return context;\n}","size_bytes":6460},"client/src/hooks/use-mobile.tsx":{"content":"import * as React from \"react\"\n\nconst MOBILE_BREAKPOINT = 768\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    }\n    mql.addEventListener(\"change\", onChange)\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    return () => mql.removeEventListener(\"change\", onChange)\n  }, [])\n\n  return !!isMobile\n}\n","size_bytes":565},"client/src/hooks/use-toast.ts":{"content":"import * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"@/components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  }\n}\n\nexport { useToast, toast }\n","size_bytes":3895},"client/src/lib/AuthContext.tsx":{"content":"// ÙÙŠ Ù…Ù„Ù AuthContext.tsx\nimport { createContext, useContext, useState, ReactNode } from 'react';\nimport { authService } from '../lib/auth';\n\ninterface AuthContextType {\n  user: { token: string; userType: string } | null;\n  login: (identifier: string, password: string, userType: string) => Promise<{ success: boolean; message?: string }>;\n  logout: () => void;\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport const useAuth = () => {\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n};\n\ninterface AuthProviderProps {\n  children: ReactNode;\n}\n\nexport const AuthProvider: React.FC<AuthProviderProps> = ({ children }) => {\n  const [user, setUser] = useState<{ token: string; userType: string } | null>(null);\n\n  const login = async (identifier: string, password: string, userType: string) => {\n    try {\n      let result;\n      \n      if (userType === 'admin') {\n        result = await authService.loginAdmin(identifier, password);\n      } else if (userType === 'driver') {\n        result = await authService.loginDriver(identifier, password);\n      } else {\n        return { success: false, message: 'Ù†ÙˆØ¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ØºÙŠØ± ØµØ­ÙŠØ­' };\n      }\n\n      if (result.success && result.token && result.userType) {\n        setUser({ token: result.token, userType: result.userType });\n        localStorage.setItem('token', result.token);\n        localStorage.setItem('userType', result.userType);\n        return { success: true };\n      } else {\n        return { success: false, message: result.message };\n      }\n    } catch (error) {\n      console.error('Login error:', error);\n      return { success: false, message: 'Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„' };\n    }\n  };\n\n  const logout = () => {\n    if (user) {\n      authService.logout(user.token, user.userType);\n    }\n    setUser(null);\n    localStorage.removeItem('token');\n    localStorage.removeItem('userType');\n  };\n\n  const value = {\n    user,\n    login,\n    logout,\n  };\n\n  return (\n    <AuthContext.Provider value={value}>\n      {children}\n    </AuthContext.Provider>\n  );\n};","size_bytes":2208},"client/src/lib/queryClient.ts":{"content":"import { QueryClient, QueryFunction } from \"@tanstack/react-query\";\n\nasync function throwIfResNotOk(res: Response) {\n  if (!res.ok) {\n    const text = (await res.text()) || res.statusText;\n    throw new Error(`${res.status}: ${text}`);\n  }\n}\n\nexport async function apiRequest(\n  method: string,\n  url: string,\n  data?: unknown | undefined,\n): Promise<Response> {\n  const res = await fetch(url, {\n    method,\n    headers: data ? { \"Content-Type\": \"application/json\" } : {},\n    body: data ? JSON.stringify(data) : undefined,\n    credentials: \"include\",\n  });\n\n  await throwIfResNotOk(res);\n  return res;\n}\n\ntype UnauthorizedBehavior = \"returnNull\" | \"throw\";\nexport const getQueryFn: <T>(options: {\n  on401: UnauthorizedBehavior;\n}) => QueryFunction<T> =\n  ({ on401: unauthorizedBehavior }) =>\n  async ({ queryKey }) => {\n    const res = await fetch(queryKey.join(\"/\") as string, {\n      credentials: \"include\",\n    });\n\n    if (unauthorizedBehavior === \"returnNull\" && res.status === 401) {\n      return null;\n    }\n\n    await throwIfResNotOk(res);\n    return await res.json();\n  };\n\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      queryFn: getQueryFn({ on401: \"throw\" }),\n      refetchInterval: false,\n      refetchOnWindowFocus: false,\n      staleTime: Infinity,\n      retry: false,\n    },\n    mutations: {\n      retry: false,\n    },\n  },\n});\n","size_bytes":1383},"client/src/lib/utils.ts":{"content":"import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n","size_bytes":166},"client/src/pages/Admin.tsx":{"content":"import { useLocation } from 'wouter';\nimport { useQuery } from '@tanstack/react-query';\nimport { ArrowRight, Store, ShoppingBag, Truck, ChartLine, Tags, Percent, BarChart } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent } from '@/components/ui/card';\nimport type { Restaurant, Order, Driver } from '@shared/schema';\n\nexport default function Admin() {\n  const [, setLocation] = useLocation();\n\n  const { data: restaurants } = useQuery<Restaurant[]>({\n    queryKey: ['/api/restaurants'],\n  });\n\n  const { data: orders } = useQuery<Order[]>({\n    queryKey: ['/api/orders'],\n  });\n\n  const { data: drivers } = useQuery<Driver[]>({\n    queryKey: ['/api/drivers'],\n  });\n\n  // Calculate stats\n  const todayOrders = orders?.filter(order => {\n    const today = new Date().toDateString();\n    const orderDate = new Date(order.createdAt || '').toDateString();\n    return today === orderDate;\n  }).length || 0;\n\n  const activeRestaurants = restaurants?.filter(r => r.isOpen).length || 0;\n  const availableDrivers = drivers?.filter(d => d.isAvailable && d.isActive).length || 0;\n  \n  const todayRevenue = orders?.filter(order => {\n    const today = new Date().toDateString();\n    const orderDate = new Date(order.createdAt || '').toDateString();\n    return today === orderDate;\n  }).reduce((sum, order) => sum + parseFloat(order.totalAmount || '0'), 0) || 0;\n\n  const adminMenuItems = [\n    {\n      icon: Store,\n      title: 'Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ØªØ§Ø¬Ø±',\n      description: 'Ø¥Ø¶Ø§ÙØ©ØŒ ØªØ¹Ø¯ÙŠÙ„ ÙˆØ­Ø°Ù Ø§Ù„Ù…Ø·Ø§Ø¹Ù…',\n      color: 'text-primary',\n      testId: 'admin-restaurants',\n      path: '/admin/restaurants',\n    },\n    {\n      icon: Tags,\n      title: 'Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª',\n      description: 'Ø¥Ø¯Ø§Ø±Ø© ØªØµÙ†ÙŠÙØ§Øª Ø§Ù„Ù…Ø·Ø§Ø¹Ù…',\n      color: 'text-green-500',\n      testId: 'admin-categories',\n      path: '/admin/categories',\n    },\n    {\n      icon: ShoppingBag,\n      title: 'Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª',\n      description: 'Ù…ØªØ§Ø¨Ø¹Ø© ÙˆØ¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª',\n      color: 'text-blue-500',\n      testId: 'admin-orders',\n      path: '/admin/orders',\n    },\n    {\n      icon: Truck,\n      title: 'Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø³Ø§Ø¦Ù‚ÙŠÙ†',\n      description: 'Ø¥Ø¶Ø§ÙØ© ÙˆØ¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø³Ø§Ø¦Ù‚ÙŠÙ†',\n      color: 'text-orange-500',\n      testId: 'admin-drivers',\n      path: '/admin/drivers',\n    },\n    {\n      icon: Percent,\n      title: 'Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø±ÙˆØ¶',\n      description: 'Ø¥Ù†Ø´Ø§Ø¡ ÙˆØ¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø®Ø§ØµØ©',\n      color: 'text-purple-500',\n      testId: 'admin-offers',\n      path: '/admin/offers',\n    },\n    {\n      icon: BarChart,\n      title: 'Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª',\n      description: 'Ø¹Ø±Ø¶ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø§Ù„ÙŠØ© ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª',\n      color: 'text-red-500',\n      testId: 'admin-reports',\n      path: '/admin/reports',\n    },\n  ];\n\n  return (\n    <div>\n      {/* Header */}\n      <header className=\"bg-card border-b border-border p-4\">\n        <div className=\"flex items-center gap-3\">\n          <Button\n            variant=\"ghost\"\n            size=\"icon\"\n            onClick={() => setLocation('/')}\n            data-testid=\"button-admin-back\"\n          >\n            <ArrowRight className=\"h-5 w-5\" />\n          </Button>\n          <h2 className=\"text-xl font-bold text-foreground\">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</h2>\n        </div>\n      </header>\n\n      <section className=\"p-4 space-y-6\">\n        {/* Quick Stats */}\n        <div className=\"grid grid-cols-2 gap-4\">\n          <Card className=\"text-center\">\n            <CardContent className=\"p-4\">\n              <ShoppingBag className=\"h-8 w-8 text-primary mx-auto mb-2\" />\n              <h3 className=\"text-lg font-bold text-foreground\" data-testid=\"stat-orders-today\">\n                {todayOrders}\n              </h3>\n              <p className=\"text-sm text-muted-foreground\">Ø·Ù„Ø¨Ø§Øª Ø§Ù„ÙŠÙˆÙ…</p>\n            </CardContent>\n          </Card>\n\n          <Card className=\"text-center\">\n            <CardContent className=\"p-4\">\n              <Store className=\"h-8 w-8 text-green-500 mx-auto mb-2\" />\n              <h3 className=\"text-lg font-bold text-foreground\" data-testid=\"stat-active-restaurants\">\n                {activeRestaurants}\n              </h3>\n              <p className=\"text-sm text-muted-foreground\">Ù…ØªØ¬Ø± Ù†Ø´Ø·</p>\n            </CardContent>\n          </Card>\n\n          <Card className=\"text-center\">\n            <CardContent className=\"p-4\">\n              <Truck className=\"h-8 w-8 text-blue-500 mx-auto mb-2\" />\n              <h3 className=\"text-lg font-bold text-foreground\" data-testid=\"stat-available-drivers\">\n                {availableDrivers}\n              </h3>\n              <p className=\"text-sm text-muted-foreground\">Ø³Ø§Ø¦Ù‚ Ù…ØªØ§Ø­</p>\n            </CardContent>\n          </Card>\n\n          <Card className=\"text-center\">\n            <CardContent className=\"p-4\">\n              <ChartLine className=\"h-8 w-8 text-purple-500 mx-auto mb-2\" />\n              <h3 className=\"text-lg font-bold text-foreground\" data-testid=\"stat-today-revenue\">\n                {todayRevenue.toFixed(2)}\n              </h3>\n              <p className=\"text-sm text-muted-foreground\">Ø±ÙŠØ§Ù„ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª</p>\n            </CardContent>\n          </Card>\n        </div>\n\n        {/* Admin Menu */}\n        <div className=\"space-y-3\">\n          <h3 className=\"text-lg font-bold text-foreground\">Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</h3>\n          \n          {adminMenuItems.map((item) => {\n            const Icon = item.icon;\n            return (\n              <Button\n                key={item.testId}\n                variant=\"ghost\"\n                className=\"w-full h-auto p-4 justify-between hover:bg-accent\"\n                onClick={() => setLocation(item.path)}\n                data-testid={item.testId}\n              >\n                <div className=\"flex items-center gap-3\">\n                  <Icon className={`h-6 w-6 ${item.color}`} />\n                  <div className=\"text-right\">\n                    <div className=\"font-medium text-foreground\">{item.title}</div>\n                    <div className=\"text-sm text-muted-foreground\">{item.description}</div>\n                  </div>\n                </div>\n                <ArrowRight className=\"h-5 w-5 text-muted-foreground rotate-180\" />\n              </Button>\n            );\n          })}\n        </div>\n      </section>\n    </div>\n  );\n}","size_bytes":6403},"client/src/pages/AdminCategories.tsx":{"content":"import { useState } from 'react';\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport { Plus, Edit, Trash2, Tag, Save, X } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from '@/components/ui/dialog';\nimport { AlertDialog, AlertDialogAction, AlertDialogCancel, AlertDialogContent, AlertDialogDescription, AlertDialogFooter, AlertDialogHeader, AlertDialogTitle, AlertDialogTrigger } from '@/components/ui/alert-dialog';\nimport { useToast } from '@/hooks/use-toast';\nimport { apiRequest } from '@/lib/queryClient';\nimport type { Category } from '@shared/schema';\n\nexport default function AdminCategories() {\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n  const [editingCategory, setEditingCategory] = useState<Category | null>(null);\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\n  \n  const [formData, setFormData] = useState({\n    name: '',\n    icon: '',\n  });\n\n  const { data: categories, isLoading } = useQuery<Category[]>({\n    queryKey: ['/api/categories'],\n  });\n\n  const createCategoryMutation = useMutation({\n    mutationFn: async (data: typeof formData) => {\n      const response = await apiRequest('POST', '/api/categories', data);\n      return response.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/categories'] });\n      toast({\n        title: \"ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù‚Ø³Ù…\",\n        description: \"ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø¬Ø¯ÙŠØ¯ Ø¨Ù†Ø¬Ø§Ø­\",\n      });\n      resetForm();\n      setIsDialogOpen(false);\n    },\n  });\n\n  const updateCategoryMutation = useMutation({\n    mutationFn: async ({ id, data }: { id: string; data: typeof formData }) => {\n      const response = await apiRequest('PUT', `/api/categories/${id}`, data);\n      return response.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/categories'] });\n      toast({\n        title: \"ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù‚Ø³Ù…\",\n        description: \"ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù‚Ø³Ù… Ø¨Ù†Ø¬Ø§Ø­\",\n      });\n      resetForm();\n      setEditingCategory(null);\n      setIsDialogOpen(false);\n    },\n  });\n\n  const deleteCategoryMutation = useMutation({\n    mutationFn: async (id: string) => {\n      const response = await apiRequest('DELETE', `/api/categories/${id}`);\n      return response.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/categories'] });\n      toast({\n        title: \"ØªÙ… Ø­Ø°Ù Ø§Ù„Ù‚Ø³Ù…\",\n        description: \"ØªÙ… Ø­Ø°Ù Ø§Ù„Ù‚Ø³Ù… Ø¨Ù†Ø¬Ø§Ø­\",\n      });\n    },\n  });\n\n  const resetForm = () => {\n    setFormData({\n      name: '',\n      icon: '',\n    });\n    setEditingCategory(null);\n  };\n\n  const handleEdit = (category: Category) => {\n    setEditingCategory(category);\n    setFormData({\n      name: category.name,\n      icon: category.icon || '',\n    });\n    setIsDialogOpen(true);\n  };\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!formData.name.trim()) {\n      toast({\n        title: \"Ø®Ø·Ø£\",\n        description: \"ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ù‚Ø³Ù…\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    if (editingCategory) {\n      updateCategoryMutation.mutate({ id: editingCategory.id, data: formData });\n    } else {\n      createCategoryMutation.mutate(formData);\n    }\n  };\n\n  const iconOptions = [\n    { value: 'fas fa-utensils', label: 'ğŸ½ï¸ Ù…Ø·Ø§Ø¹Ù…' },\n    { value: 'fas fa-pizza-slice', label: 'ğŸ• Ø¨ÙŠØªØ²Ø§' },\n    { value: 'fas fa-hamburger', label: 'ğŸ” Ø¨Ø±Ø¬Ø±' },\n    { value: 'fas fa-ice-cream', label: 'ğŸ¦ Ø­Ù„ÙˆÙŠØ§Øª' },\n    { value: 'fas fa-coffee', label: 'â˜• Ù…Ù‚Ø§Ù‡ÙŠ' },\n    { value: 'fas fa-fish', label: 'ğŸŸ Ù…Ø£ÙƒÙˆÙ„Ø§Øª Ø¨Ø­Ø±ÙŠØ©' },\n    { value: 'fas fa-drumstick-bite', label: 'ğŸ— Ø¯Ø¬Ø§Ø¬' },\n    { value: 'fas fa-bread-slice', label: 'ğŸ Ù…Ø®Ø¨ÙˆØ²Ø§Øª' },\n    { value: 'fas fa-cheese', label: 'ğŸ§€ Ø£Ù„Ø¨Ø§Ù†' },\n    { value: 'fas fa-apple-alt', label: 'ğŸ ØµØ­ÙŠ' },\n  ];\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-3\">\n          <Tag className=\"h-8 w-8 text-primary\" />\n          <div>\n            <h1 className=\"text-2xl font-bold text-foreground\">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ù‚Ø³Ø§Ù…</h1>\n            <p className=\"text-muted-foreground\">Ø¥Ø¯Ø§Ø±Ø© Ø£Ù‚Ø³Ø§Ù… Ø§Ù„Ù…Ø·Ø§Ø¹Ù… ÙˆØ§Ù„Ù…ØªØ§Ø¬Ø±</p>\n          </div>\n        </div>\n        \n        <Dialog open={isDialogOpen} onOpenChange={setIsDialogOpen}>\n          <DialogTrigger asChild>\n            <Button \n              className=\"gap-2\"\n              onClick={() => {\n                resetForm();\n                setIsDialogOpen(true);\n              }}\n              data-testid=\"button-add-category\"\n            >\n              <Plus className=\"h-4 w-4\" />\n              Ø¥Ø¶Ø§ÙØ© Ù‚Ø³Ù… Ø¬Ø¯ÙŠØ¯\n            </Button>\n          </DialogTrigger>\n          <DialogContent className=\"max-w-md\">\n            <DialogHeader>\n              <DialogTitle>\n                {editingCategory ? 'ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù‚Ø³Ù…' : 'Ø¥Ø¶Ø§ÙØ© Ù‚Ø³Ù… Ø¬Ø¯ÙŠØ¯'}\n              </DialogTitle>\n            </DialogHeader>\n            \n            <form onSubmit={handleSubmit} className=\"space-y-4\">\n              <div>\n                <Label htmlFor=\"name\">Ø§Ø³Ù… Ø§Ù„Ù‚Ø³Ù…</Label>\n                <Input\n                  id=\"name\"\n                  value={formData.name}\n                  onChange={(e) => setFormData(prev => ({ ...prev, name: e.target.value }))}\n                  placeholder=\"Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù‚Ø³Ù…\"\n                  required\n                  data-testid=\"input-category-name\"\n                />\n              </div>\n\n              <div>\n                <Label htmlFor=\"icon\">Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø©</Label>\n                <select\n                  id=\"icon\"\n                  className=\"w-full p-2 border border-border rounded-md bg-background\"\n                  value={formData.icon}\n                  onChange={(e) => setFormData(prev => ({ ...prev, icon: e.target.value }))}\n                  data-testid=\"select-category-icon\"\n                >\n                  <option value=\"\">Ø§Ø®ØªØ± Ø£ÙŠÙ‚ÙˆÙ†Ø©</option>\n                  {iconOptions.map((option) => (\n                    <option key={option.value} value={option.value}>\n                      {option.label}\n                    </option>\n                  ))}\n                </select>\n              </div>\n\n              <div className=\"flex gap-2 pt-4\">\n                <Button \n                  type=\"submit\" \n                  className=\"flex-1 gap-2\"\n                  disabled={createCategoryMutation.isPending || updateCategoryMutation.isPending}\n                  data-testid=\"button-save-category\"\n                >\n                  <Save className=\"h-4 w-4\" />\n                  {editingCategory ? 'ØªØ­Ø¯ÙŠØ«' : 'Ø¥Ø¶Ø§ÙØ©'}\n                </Button>\n                <Button \n                  type=\"button\" \n                  variant=\"outline\" \n                  onClick={() => {\n                    resetForm();\n                    setIsDialogOpen(false);\n                  }}\n                  data-testid=\"button-cancel-category\"\n                >\n                  <X className=\"h-4 w-4\" />\n                  Ø¥Ù„ØºØ§Ø¡\n                </Button>\n              </div>\n            </form>\n          </DialogContent>\n        </Dialog>\n      </div>\n\n      {/* Categories Grid */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n        {isLoading ? (\n          [...Array(6)].map((_, i) => (\n            <Card key={i} className=\"animate-pulse\">\n              <CardContent className=\"p-6\">\n                <div className=\"w-12 h-12 bg-muted rounded-lg mb-4\" />\n                <div className=\"h-4 bg-muted rounded w-3/4 mb-2\" />\n                <div className=\"h-3 bg-muted rounded w-1/2\" />\n              </CardContent>\n            </Card>\n          ))\n        ) : categories?.length ? (\n          categories.map((category) => (\n            <Card key={category.id} className=\"hover:shadow-md transition-shadow\">\n              <CardHeader className=\"pb-3\">\n                <div className=\"flex items-center gap-3\">\n                  <div className=\"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center\">\n                    {category.icon ? (\n                      <i className={`${category.icon} text-primary text-xl`} />\n                    ) : (\n                      <Tag className=\"h-6 w-6 text-primary\" />\n                    )}\n                  </div>\n                  <CardTitle className=\"text-lg\">{category.name}</CardTitle>\n                </div>\n              </CardHeader>\n              \n              <CardContent className=\"pt-0\">\n                <div className=\"flex gap-2\">\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    className=\"flex-1 gap-2\"\n                    onClick={() => handleEdit(category)}\n                    data-testid={`button-edit-category-${category.id}`}\n                  >\n                    <Edit className=\"h-4 w-4\" />\n                    ØªØ¹Ø¯ÙŠÙ„\n                  </Button>\n                  \n                  <AlertDialog>\n                    <AlertDialogTrigger asChild>\n                      <Button\n                        variant=\"outline\"\n                        size=\"sm\"\n                        className=\"text-destructive hover:text-destructive\"\n                        data-testid={`button-delete-category-${category.id}`}\n                      >\n                        <Trash2 className=\"h-4 w-4\" />\n                      </Button>\n                    </AlertDialogTrigger>\n                    <AlertDialogContent>\n                      <AlertDialogHeader>\n                        <AlertDialogTitle>ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø°Ù</AlertDialogTitle>\n                        <AlertDialogDescription>\n                          Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‚Ø³Ù… \"{category.name}\"ØŸ \n                          Ø³ÙŠØªÙ… Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø·Ø§Ø¹Ù… Ø§Ù„Ù…Ø±ØªØ¨Ø·Ø© Ø¨Ù‡Ø°Ø§ Ø§Ù„Ù‚Ø³Ù… Ø£ÙŠØ¶Ø§Ù‹.\n                        </AlertDialogDescription>\n                      </AlertDialogHeader>\n                      <AlertDialogFooter>\n                        <AlertDialogCancel>Ø¥Ù„ØºØ§Ø¡</AlertDialogCancel>\n                        <AlertDialogAction\n                          onClick={() => deleteCategoryMutation.mutate(category.id)}\n                          className=\"bg-destructive hover:bg-destructive/90\"\n                        >\n                          Ø­Ø°Ù\n                        </AlertDialogAction>\n                      </AlertDialogFooter>\n                    </AlertDialogContent>\n                  </AlertDialog>\n                </div>\n              </CardContent>\n            </Card>\n          ))\n        ) : (\n          <div className=\"col-span-full text-center py-12\">\n            <Tag className=\"h-12 w-12 text-muted-foreground mx-auto mb-4\" />\n            <h3 className=\"text-lg font-semibold text-foreground mb-2\">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ù‚Ø³Ø§Ù…</h3>\n            <p className=\"text-muted-foreground mb-4\">Ø§Ø¨Ø¯Ø£ Ø¨Ø¥Ø¶Ø§ÙØ© Ø£Ù‚Ø³Ø§Ù… Ø§Ù„Ù…Ø·Ø§Ø¹Ù… ÙˆØ§Ù„Ù…ØªØ§Ø¬Ø±</p>\n            <Button onClick={() => setIsDialogOpen(true)} data-testid=\"button-add-first-category\">\n              Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø£ÙˆÙ„\n            </Button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n","size_bytes":11714},"client/src/pages/AdminDashboard.tsx":{"content":"import React, { useState } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport { Card, CardContent, CardHeader, CardTitle } from '../components/ui/card';\nimport { Button } from '../components/ui/button';\nimport { Badge } from '../components/ui/badge';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '../components/ui/tabs';\nimport { \n  BarChart3, \n  Users, \n  ShoppingBag, \n  DollarSign, \n  Settings, \n  LogOut,\n  Package,\n  Truck,\n  Store,\n  Eye,\n  Edit,\n  Trash2,\n  Star,\n  Grid,\n  Cog\n} from 'lucide-react';\nimport RestaurantSections from './RestaurantSections';\nimport RatingsManagement from './RatingsManagement';\nimport SpecialOffers from './SpecialOffers';\nimport WalletManagement from './WalletManagement';\n\ninterface AdminDashboardProps {\n  onLogout: () => void;\n}\n\nexport const AdminDashboard: React.FC<AdminDashboardProps> = ({ onLogout }) => {\n  const { logout } = useAuth();\n  const [activeTab, setActiveTab] = useState('overview');\n\n  const handleLogout = () => {\n    logout();\n    onLogout();\n  };\n\n  const stats = [\n    { title: 'Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø·Ù„Ø¨Ø§Øª', value: '2,345', icon: ShoppingBag, color: 'text-blue-600' },\n    { title: 'Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø§Ù„Ù†Ø´Ø·ÙŠÙ†', value: '1,234', icon: Users, color: 'text-green-600' },\n    { title: 'Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª', value: 'â‚ª45,678', icon: DollarSign, color: 'text-orange-600' },\n    { title: 'Ø§Ù„Ø³Ø§Ø¦Ù‚ÙŠÙ† Ø§Ù„Ù…ØªØ§Ø­ÙŠÙ†', value: '23', icon: Truck, color: 'text-purple-600' },\n  ];\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\" dir=\"rtl\">\n      {/* Header */}\n      <header className=\"bg-white shadow-sm border-b\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex justify-between items-center h-16\">\n            <div className=\"flex items-center gap-3\">\n              <Settings className=\"h-8 w-8 text-blue-600\" />\n              <div>\n                <h1 className=\"text-xl font-bold text-gray-900\">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</h1>\n                <p className=\"text-sm text-gray-500\">Ø¥Ø¯Ø§Ø±Ø© Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙˆØµÙŠÙ„</p>\n              </div>\n            </div>\n            <Button \n              variant=\"outline\" \n              onClick={handleLogout}\n              className=\"flex items-center gap-2\"\n            >\n              <LogOut className=\"h-4 w-4\" />\n              ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬\n            </Button>\n          </div>\n        </div>\n      </header>\n\n      {/* Main Content */}\n      <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {/* Stats Cards */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\n          {stats.map((stat, index) => {\n            const Icon = stat.icon;\n            return (\n              <Card key={index}>\n                <CardContent className=\"p-6\">\n                  <div className=\"flex items-center justify-between\">\n                    <div>\n                      <p className=\"text-sm font-medium text-gray-600\">{stat.title}</p>\n                      <p className=\"text-2xl font-bold text-gray-900\">{stat.value}</p>\n                    </div>\n                    <Icon className={`h-8 w-8 ${stat.color}`} />\n                  </div>\n                </CardContent>\n              </Card>\n            );\n          })}\n        </div>\n\n        {/* Tabs Navigation */}\n        <Tabs value={activeTab} onValueChange={setActiveTab} className=\"space-y-6\">\n          <TabsList className=\"grid w-full grid-cols-10\">\n            <TabsTrigger value=\"overview\">Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©</TabsTrigger>\n            <TabsTrigger value=\"orders\">Ø§Ù„Ø·Ù„Ø¨Ø§Øª</TabsTrigger>\n            <TabsTrigger value=\"restaurants\">Ø§Ù„Ù…Ø·Ø§Ø¹Ù…</TabsTrigger>\n            <TabsTrigger value=\"sections\">Ø£Ù‚Ø³Ø§Ù… Ø§Ù„Ù…Ø·Ø§Ø¹Ù…</TabsTrigger>\n            <TabsTrigger value=\"drivers\">Ø§Ù„Ø³Ø§Ø¦Ù‚ÙŠÙ†</TabsTrigger>\n            <TabsTrigger value=\"categories\">Ø§Ù„ÙØ¦Ø§Øª</TabsTrigger>\n            <TabsTrigger value=\"offers\">Ø§Ù„Ø¹Ø±ÙˆØ¶</TabsTrigger>\n            <TabsTrigger value=\"wallets\">Ø§Ù„Ù…Ø­Ø§ÙØ¸</TabsTrigger>\n            <TabsTrigger value=\"ratings\">Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª</TabsTrigger>\n            <TabsTrigger value=\"settings\">Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</TabsTrigger>\n          </TabsList>\n\n          <TabsContent value=\"overview\" className=\"space-y-6\">\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n              <Card>\n                <CardHeader>\n                  <CardTitle className=\"flex items-center gap-2\">\n                    <BarChart3 className=\"h-5 w-5\" />\n                    Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø­Ø¯ÙŠØ«Ø©\n                  </CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"space-y-4\">\n                    {[1, 2, 3].map((order) => (\n                      <div key={order} className=\"flex items-center justify-between p-3 border rounded-lg\">\n                        <div>\n                          <p className=\"font-medium\">Ø·Ù„Ø¨ #{1000 + order}</p>\n                          <p className=\"text-sm text-gray-600\">Ù…Ø·Ø¹Ù… Ø§Ù„ÙˆØ²ÙŠÙƒÙˆ Ù„Ù„Ø¹Ø±Ø¨ÙƒØ©</p>\n                        </div>\n                        <Badge variant=\"secondary\">Ù‚ÙŠØ¯ Ø§Ù„ØªØ­Ø¶ÙŠØ±</Badge>\n                      </div>\n                    ))}\n                  </div>\n                </CardContent>\n              </Card>\n\n              <Card>\n                <CardHeader>\n                  <CardTitle className=\"flex items-center gap-2\">\n                    <Users className=\"h-5 w-5\" />\n                    Ø§Ù„Ø³Ø§Ø¦Ù‚ÙŠÙ† Ø§Ù„Ù†Ø´Ø·ÙŠÙ†\n                  </CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"space-y-4\">\n                    {['Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯', 'Ø¹Ù„ÙŠ Ø­Ø³Ù†', 'Ø³Ø§Ø±Ø© Ø£Ø­Ù…Ø¯'].map((driver, index) => (\n                      <div key={index} className=\"flex items-center justify-between p-3 border rounded-lg\">\n                        <div>\n                          <p className=\"font-medium\">{driver}</p>\n                          <p className=\"text-sm text-gray-600\">Ù…ØªØ§Ø­ Ù„Ù„ØªÙˆØµÙŠÙ„</p>\n                        </div>\n                        <Badge variant=\"default\" className=\"bg-green-100 text-green-800\">\n                          Ù†Ø´Ø·\n                        </Badge>\n                      </div>\n                    ))}\n                  </div>\n                </CardContent>\n              </Card>\n            </div>\n          </TabsContent>\n\n          <TabsContent value=\"orders\" className=\"space-y-6\">\n            <Card>\n              <CardHeader>\n                <CardTitle>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-4\">\n                  {[1, 2, 3, 4, 5].map((order) => (\n                    <div key={order} className=\"flex items-center justify-between p-4 border rounded-lg\">\n                      <div className=\"flex-1\">\n                        <div className=\"flex items-center gap-4\">\n                          <div>\n                            <p className=\"font-medium\">Ø·Ù„Ø¨ #{1000 + order}</p>\n                            <p className=\"text-sm text-gray-600\">Ù…Ø­Ù…Ø¯ Ø£Ø­Ù…Ø¯ - 05{order}1234567</p>\n                          </div>\n                          <Badge variant={order % 2 === 0 ? \"default\" : \"secondary\"}>\n                            {order % 2 === 0 ? \"Ù…Ø¤ÙƒØ¯\" : \"Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©\"}\n                          </Badge>\n                        </div>\n                        <p className=\"text-sm text-gray-500 mt-2\">â‚ª{50 + order * 10} - Ù…Ù†Ø° {order} Ø³Ø§Ø¹Ø§Øª</p>\n                      </div>\n                      <div className=\"flex items-center gap-2\">\n                        <Button variant=\"outline\" size=\"sm\">\n                          <Eye className=\"h-4 w-4\" />\n                        </Button>\n                        <Button variant=\"outline\" size=\"sm\">\n                          <Edit className=\"h-4 w-4\" />\n                        </Button>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </CardContent>\n            </Card>\n          </TabsContent>\n\n          <TabsContent value=\"restaurants\" className=\"space-y-6\">\n            <Card>\n              <CardHeader>\n                <CardTitle>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø·Ø§Ø¹Ù…</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-4\">\n                  {['Ù…Ø·Ø¹Ù… Ø§Ù„ÙˆØ²ÙŠÙƒÙˆ Ù„Ù„Ø¹Ø±Ø¨ÙƒØ©', 'Ø­Ù„ÙˆÙŠØ§Øª Ø§Ù„Ø´Ø§Ù…', 'Ù…Ù‚Ù‡Ù‰ Ø§Ù„Ø¹Ø±ÙˆØ¨Ø©'].map((restaurant, index) => (\n                    <div key={index} className=\"flex items-center justify-between p-4 border rounded-lg\">\n                      <div className=\"flex items-center gap-4\">\n                        <Store className=\"h-8 w-8 text-gray-400\" />\n                        <div>\n                          <p className=\"font-medium\">{restaurant}</p>\n                          <p className=\"text-sm text-gray-600\">{15 + index} Ø¹Ù†ØµØ± ÙÙŠ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©</p>\n                        </div>\n                      </div>\n                      <div className=\"flex items-center gap-2\">\n                        <Badge variant=\"default\" className=\"bg-green-100 text-green-800\">\n                          Ù…ÙØªÙˆØ­\n                        </Badge>\n                        <Button variant=\"outline\" size=\"sm\">\n                          <Edit className=\"h-4 w-4\" />\n                        </Button>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </CardContent>\n            </Card>\n          </TabsContent>\n\n          <TabsContent value=\"drivers\" className=\"space-y-6\">\n            <Card>\n              <CardHeader>\n                <CardTitle>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø³Ø§Ø¦Ù‚ÙŠÙ†</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-4\">\n                  {['Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯', 'Ø¹Ù„ÙŠ Ø­Ø³Ù†', 'Ø³Ø§Ø±Ø© Ø£Ø­Ù…Ø¯', 'Ù…Ø­Ù…Ø¯ Ø¹Ù„ÙŠ'].map((driver, index) => (\n                    <div key={index} className=\"flex items-center justify-between p-4 border rounded-lg\">\n                      <div className=\"flex items-center gap-4\">\n                        <Truck className=\"h-8 w-8 text-gray-400\" />\n                        <div>\n                          <p className=\"font-medium\">{driver}</p>\n                          <p className=\"text-sm text-gray-600\">05{index + 1}1234567</p>\n                        </div>\n                      </div>\n                      <div className=\"flex items-center gap-2\">\n                        <Badge variant={index % 2 === 0 ? \"default\" : \"secondary\"} \n                               className={index % 2 === 0 ? \"bg-green-100 text-green-800\" : \"\"}>\n                          {index % 2 === 0 ? \"Ù…ØªØ§Ø­\" : \"Ù…Ø´ØºÙˆÙ„\"}\n                        </Badge>\n                        <Button variant=\"outline\" size=\"sm\">\n                          <Edit className=\"h-4 w-4\" />\n                        </Button>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </CardContent>\n            </Card>\n          </TabsContent>\n\n          <TabsContent value=\"categories\" className=\"space-y-6\">\n            <Card>\n              <CardHeader>\n                <CardTitle>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙØ¦Ø§Øª</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-4\">\n                  {['Ù…Ø·Ø§Ø¹Ù…', 'Ù…Ù‚Ø§Ù‡ÙŠ', 'Ø­Ù„ÙˆÙŠØ§Øª', 'Ø³ÙˆØ¨Ø±Ù…Ø§Ø±ÙƒØª', 'ØµÙŠØ¯Ù„ÙŠØ§Øª'].map((category, index) => (\n                    <div key={index} className=\"flex items-center justify-between p-4 border rounded-lg\">\n                      <div className=\"flex items-center gap-4\">\n                        <Package className=\"h-8 w-8 text-gray-400\" />\n                        <div>\n                          <p className=\"font-medium\">{category}</p>\n                          <p className=\"text-sm text-gray-600\">{5 + index * 2} Ù…Ø·Ø¹Ù…</p>\n                        </div>\n                      </div>\n                      <div className=\"flex items-center gap-2\">\n                        <Badge variant=\"default\" className=\"bg-blue-100 text-blue-800\">\n                          Ù†Ø´Ø·\n                        </Badge>\n                        <Button variant=\"outline\" size=\"sm\">\n                          <Edit className=\"h-4 w-4\" />\n                        </Button>\n                        <Button variant=\"outline\" size=\"sm\">\n                          <Trash2 className=\"h-4 w-4\" />\n                        </Button>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </CardContent>\n            </Card>\n          </TabsContent>\n\n          <TabsContent value=\"sections\" className=\"space-y-6\">\n            <RestaurantSections />\n          </TabsContent>\n\n          <TabsContent value=\"offers\" className=\"space-y-6\">\n            <SpecialOffers />\n          </TabsContent>\n\n          <TabsContent value=\"wallets\" className=\"space-y-6\">\n            <WalletManagement />\n          </TabsContent>\n\n          <TabsContent value=\"ratings\" className=\"space-y-6\">\n            <RatingsManagement />\n          </TabsContent>\n\n          <TabsContent value=\"settings\" className=\"space-y-6\">\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-2\">\n                  <Cog className=\"h-5 w-5\" />\n                  Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…\n                </CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                  <div className=\"space-y-4\">\n                    <h3 className=\"text-lg font-semibold text-gray-800\">Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªÙˆØµÙŠÙ„</h3>\n                    <div className=\"space-y-3\">\n                      <div className=\"flex justify-between items-center p-3 border rounded-lg\">\n                        <span>Ø±Ø³ÙˆÙ… Ø§Ù„ØªÙˆØµÙŠÙ„ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©</span>\n                        <span className=\"font-semibold\">5.00 Ø´ÙŠÙƒÙ„</span>\n                      </div>\n                      <div className=\"flex justify-between items-center p-3 border rounded-lg\">\n                        <span>Ø±Ø³ÙˆÙ… Ø§Ù„ØªÙˆØµÙŠÙ„ Ù„ÙƒÙ„ ÙƒÙŠÙ„ÙˆÙ…ØªØ±</span>\n                        <span className=\"font-semibold\">1.50 Ø´ÙŠÙƒÙ„</span>\n                      </div>\n                      <div className=\"flex justify-between items-center p-3 border rounded-lg\">\n                        <span>Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ù„Ù„Ø·Ù„Ø¨Ø§Øª</span>\n                        <span className=\"font-semibold\">15.00 Ø´ÙŠÙƒÙ„</span>\n                      </div>\n                    </div>\n                  </div>\n                  \n                  <div className=\"space-y-4\">\n                    <h3 className=\"text-lg font-semibold text-gray-800\">Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¯ÙØ¹</h3>\n                    <div className=\"space-y-3\">\n                      <div className=\"flex justify-between items-center p-3 border rounded-lg\">\n                        <span>Ø§Ù„Ù…Ø­ÙØ¸Ø© Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©</span>\n                        <Badge className=\"bg-green-100 text-green-800\">Ù…ÙØ¹Ù„</Badge>\n                      </div>\n                      <div className=\"flex justify-between items-center p-3 border rounded-lg\">\n                        <span>Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ù†Ù‚Ø¯ÙŠ</span>\n                        <Badge className=\"bg-green-100 text-green-800\">Ù…ÙØ¹Ù„</Badge>\n                      </div>\n                      <div className=\"flex justify-between items-center p-3 border rounded-lg\">\n                        <span>Ø§Ù„Ø¯ÙØ¹ Ø¨Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©</span>\n                        <Badge variant=\"secondary\">ØºÙŠØ± Ù…ÙØ¹Ù„</Badge>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          </TabsContent>\n        </Tabs>\n      </main>\n    </div>\n  );\n};","size_bytes":16039},"client/src/pages/AdminDrivers.tsx":{"content":"import { useState } from 'react';\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport { Plus, Edit, Trash2, Truck, Save, X, Phone, MapPin, DollarSign, User } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Switch } from '@/components/ui/switch';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from '@/components/ui/dialog';\nimport { AlertDialog, AlertDialogAction, AlertDialogCancel, AlertDialogContent, AlertDialogDescription, AlertDialogFooter, AlertDialogHeader, AlertDialogTitle, AlertDialogTrigger } from '@/components/ui/alert-dialog';\nimport { Badge } from '@/components/ui/badge';\nimport { useToast } from '@/hooks/use-toast';\nimport { apiRequest } from '@/lib/queryClient';\nimport type { Driver } from '@shared/schema';\n\nexport default function AdminDrivers() {\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n  const [editingDriver, setEditingDriver] = useState<Driver | null>(null);\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\n  \n  const [formData, setFormData] = useState({\n    name: '',\n    phone: '',\n    password: '',\n    currentLocation: '',\n    isAvailable: true,\n    isActive: true,\n  });\n\n  const { data: drivers, isLoading } = useQuery<Driver[]>({\n    queryKey: ['/api/drivers'],\n  });\n\n  const createDriverMutation = useMutation({\n    mutationFn: async (data: typeof formData) => {\n      const response = await apiRequest('POST', '/api/drivers', data);\n      return response.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/drivers'] });\n      toast({\n        title: \"ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø³Ø§Ø¦Ù‚\",\n        description: \"ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø³Ø§Ø¦Ù‚ Ø§Ù„Ø¬Ø¯ÙŠØ¯ Ø¨Ù†Ø¬Ø§Ø­\",\n      });\n      resetForm();\n      setIsDialogOpen(false);\n    },\n  });\n\n  const updateDriverMutation = useMutation({\n    mutationFn: async ({ id, data }: { id: string; data: Partial<typeof formData> }) => {\n      const response = await apiRequest('PUT', `/api/drivers/${id}`, data);\n      return response.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/drivers'] });\n      toast({\n        title: \"ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø³Ø§Ø¦Ù‚\",\n        description: \"ØªÙ… ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø³Ø§Ø¦Ù‚ Ø¨Ù†Ø¬Ø§Ø­\",\n      });\n      resetForm();\n      setEditingDriver(null);\n      setIsDialogOpen(false);\n    },\n  });\n\n  const deleteDriverMutation = useMutation({\n    mutationFn: async (id: string) => {\n      const response = await apiRequest('DELETE', `/api/drivers/${id}`);\n      return response.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/drivers'] });\n      toast({\n        title: \"ØªÙ… Ø­Ø°Ù Ø§Ù„Ø³Ø§Ø¦Ù‚\",\n        description: \"ØªÙ… Ø­Ø°Ù Ø§Ù„Ø³Ø§Ø¦Ù‚ Ø¨Ù†Ø¬Ø§Ø­\",\n      });\n    },\n  });\n\n  const resetForm = () => {\n    setFormData({\n      name: '',\n      phone: '',\n      password: '',\n      currentLocation: '',\n      isAvailable: true,\n      isActive: true,\n    });\n    setEditingDriver(null);\n  };\n\n  const handleEdit = (driver: Driver) => {\n    setEditingDriver(driver);\n    setFormData({\n      name: driver.name,\n      phone: driver.phone,\n      password: '', // Don't show password\n      currentLocation: driver.currentLocation || '',\n      isAvailable: driver.isAvailable,\n      isActive: driver.isActive,\n    });\n    setIsDialogOpen(true);\n  };\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!formData.name.trim() || !formData.phone.trim()) {\n      toast({\n        title: \"Ø®Ø·Ø£\",\n        description: \"ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø§Ø³Ù… ÙˆØ±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    if (!editingDriver && !formData.password.trim()) {\n      toast({\n        title: \"Ø®Ø·Ø£\",\n        description: \"ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ù„Ù„Ø³Ø§Ø¦Ù‚ Ø§Ù„Ø¬Ø¯ÙŠØ¯\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    const submitData = editingDriver && !formData.password.trim() \n      ? { ...formData, password: undefined } \n      : formData;\n\n    if (editingDriver) {\n      updateDriverMutation.mutate({ id: editingDriver.id, data: submitData });\n    } else {\n      createDriverMutation.mutate(formData);\n    }\n  };\n\n  const toggleDriverStatus = (driver: Driver, field: 'isAvailable' | 'isActive') => {\n    updateDriverMutation.mutate({\n      id: driver.id,\n      data: { [field]: !driver[field] }\n    });\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-3\">\n          <Truck className=\"h-8 w-8 text-primary\" />\n          <div>\n            <h1 className=\"text-2xl font-bold text-foreground\">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø³Ø§Ø¦Ù‚ÙŠÙ†</h1>\n            <p className=\"text-muted-foreground\">Ø¥Ø¯Ø§Ø±Ø© Ø³Ø§Ø¦Ù‚ÙŠ Ø§Ù„ØªÙˆØµÙŠÙ„</p>\n          </div>\n        </div>\n        \n        <Dialog open={isDialogOpen} onOpenChange={setIsDialogOpen}>\n          <DialogTrigger asChild>\n            <Button \n              className=\"gap-2\"\n              onClick={() => {\n                resetForm();\n                setIsDialogOpen(true);\n              }}\n              data-testid=\"button-add-driver\"\n            >\n              <Plus className=\"h-4 w-4\" />\n              Ø¥Ø¶Ø§ÙØ© Ø³Ø§Ø¦Ù‚ Ø¬Ø¯ÙŠØ¯\n            </Button>\n          </DialogTrigger>\n          <DialogContent className=\"max-w-md\">\n            <DialogHeader>\n              <DialogTitle>\n                {editingDriver ? 'ØªØ¹Ø¯ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø³Ø§Ø¦Ù‚' : 'Ø¥Ø¶Ø§ÙØ© Ø³Ø§Ø¦Ù‚ Ø¬Ø¯ÙŠØ¯'}\n              </DialogTitle>\n            </DialogHeader>\n            \n            <form onSubmit={handleSubmit} className=\"space-y-4\">\n              <div>\n                <Label htmlFor=\"name\">Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„</Label>\n                <Input\n                  id=\"name\"\n                  value={formData.name}\n                  onChange={(e) => setFormData(prev => ({ ...prev, name: e.target.value }))}\n                  placeholder=\"Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ø³Ø§Ø¦Ù‚\"\n                  required\n                  data-testid=\"input-driver-name\"\n                />\n              </div>\n\n              <div>\n                <Label htmlFor=\"phone\">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</Label>\n                <Input\n                  id=\"phone\"\n                  value={formData.phone}\n                  onChange={(e) => setFormData(prev => ({ ...prev, phone: e.target.value }))}\n                  placeholder=\"+967-771234567\"\n                  required\n                  data-testid=\"input-driver-phone\"\n                />\n              </div>\n\n              <div>\n                <Label htmlFor=\"password\">\n                  ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± {editingDriver && \"(Ø§ØªØ±ÙƒÙ‡Ø§ ÙØ§Ø±ØºØ© Ù„Ù„Ø§Ø­ØªÙØ§Ø¸ Ø¨Ø§Ù„Ø­Ø§Ù„ÙŠØ©)\"}\n                </Label>\n                <Input\n                  id=\"password\"\n                  type=\"password\"\n                  value={formData.password}\n                  onChange={(e) => setFormData(prev => ({ ...prev, password: e.target.value }))}\n                  placeholder=\"ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±\"\n                  required={!editingDriver}\n                  data-testid=\"input-driver-password\"\n                />\n              </div>\n\n              <div>\n                <Label htmlFor=\"location\">Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø­Ø§Ù„ÙŠ</Label>\n                <Input\n                  id=\"location\"\n                  value={formData.currentLocation}\n                  onChange={(e) => setFormData(prev => ({ ...prev, currentLocation: e.target.value }))}\n                  placeholder=\"Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø­Ø§Ù„ÙŠ Ù„Ù„Ø³Ø§Ø¦Ù‚\"\n                  data-testid=\"input-driver-location\"\n                />\n              </div>\n\n              <div className=\"space-y-3\">\n                <div className=\"flex items-center justify-between\">\n                  <Label htmlFor=\"available\">Ù…ØªØ§Ø­ Ù„Ù„Ø¹Ù…Ù„</Label>\n                  <Switch\n                    id=\"available\"\n                    checked={formData.isAvailable}\n                    onCheckedChange={(checked) => setFormData(prev => ({ ...prev, isAvailable: checked }))}\n                    data-testid=\"switch-driver-available\"\n                  />\n                </div>\n                \n                <div className=\"flex items-center justify-between\">\n                  <Label htmlFor=\"active\">Ù†Ø´Ø·</Label>\n                  <Switch\n                    id=\"active\"\n                    checked={formData.isActive}\n                    onCheckedChange={(checked) => setFormData(prev => ({ ...prev, isActive: checked }))}\n                    data-testid=\"switch-driver-active\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"flex gap-2 pt-4\">\n                <Button \n                  type=\"submit\" \n                  className=\"flex-1 gap-2\"\n                  disabled={createDriverMutation.isPending || updateDriverMutation.isPending}\n                  data-testid=\"button-save-driver\"\n                >\n                  <Save className=\"h-4 w-4\" />\n                  {editingDriver ? 'ØªØ­Ø¯ÙŠØ«' : 'Ø¥Ø¶Ø§ÙØ©'}\n                </Button>\n                <Button \n                  type=\"button\" \n                  variant=\"outline\" \n                  onClick={() => {\n                    resetForm();\n                    setIsDialogOpen(false);\n                  }}\n                  data-testid=\"button-cancel-driver\"\n                >\n                  <X className=\"h-4 w-4\" />\n                  Ø¥Ù„ØºØ§Ø¡\n                </Button>\n              </div>\n            </form>\n          </DialogContent>\n        </Dialog>\n      </div>\n\n      {/* Drivers Grid */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n        {isLoading ? (\n          [...Array(6)].map((_, i) => (\n            <Card key={i} className=\"animate-pulse\">\n              <CardContent className=\"p-6\">\n                <div className=\"w-16 h-16 bg-muted rounded-full mb-4 mx-auto\" />\n                <div className=\"h-4 bg-muted rounded w-3/4 mb-2 mx-auto\" />\n                <div className=\"h-3 bg-muted rounded w-1/2 mx-auto\" />\n              </CardContent>\n            </Card>\n          ))\n        ) : drivers?.length ? (\n          drivers.map((driver) => (\n            <Card key={driver.id} className=\"hover:shadow-md transition-shadow\">\n              <CardHeader className=\"text-center pb-3\">\n                <div className=\"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-3\">\n                  <User className=\"h-8 w-8 text-primary\" />\n                </div>\n                <CardTitle className=\"text-lg\">{driver.name}</CardTitle>\n                <div className=\"flex items-center justify-center gap-2 mt-2\">\n                  <Badge variant={driver.isActive ? \"default\" : \"secondary\"}>\n                    {driver.isActive ? 'Ù†Ø´Ø·' : 'ØºÙŠØ± Ù†Ø´Ø·'}\n                  </Badge>\n                  <Badge variant={driver.isAvailable ? \"default\" : \"outline\"}>\n                    {driver.isAvailable ? 'Ù…ØªØ§Ø­' : 'ØºÙŠØ± Ù…ØªØ§Ø­'}\n                  </Badge>\n                </div>\n              </CardHeader>\n              \n              <CardContent className=\"space-y-4\">\n                <div className=\"space-y-2\">\n                  <div className=\"flex items-center gap-2\">\n                    <Phone className=\"h-4 w-4 text-muted-foreground\" />\n                    <span className=\"text-sm text-foreground\">{driver.phone}</span>\n                  </div>\n                  \n                  {driver.currentLocation && (\n                    <div className=\"flex items-center gap-2\">\n                      <MapPin className=\"h-4 w-4 text-muted-foreground\" />\n                      <span className=\"text-sm text-foreground\">{driver.currentLocation}</span>\n                    </div>\n                  )}\n                  \n                  <div className=\"flex items-center gap-2\">\n                    <DollarSign className=\"h-4 w-4 text-muted-foreground\" />\n                    <span className=\"text-sm text-foreground\">Ø§Ù„Ø£Ø±Ø¨Ø§Ø­: {driver.earnings || 0} Ø±ÙŠØ§Ù„</span>\n                  </div>\n                </div>\n\n                <div className=\"grid grid-cols-2 gap-2\">\n                  <div className=\"text-center\">\n                    <p className=\"text-xs text-muted-foreground\">Ù…ØªØ§Ø­ Ù„Ù„Ø¹Ù…Ù„</p>\n                    <Switch\n                      checked={driver.isAvailable}\n                      onCheckedChange={() => toggleDriverStatus(driver, 'isAvailable')}\n                      data-testid={`switch-driver-available-${driver.id}`}\n                    />\n                  </div>\n                  <div className=\"text-center\">\n                    <p className=\"text-xs text-muted-foreground\">Ù†Ø´Ø·</p>\n                    <Switch\n                      checked={driver.isActive}\n                      onCheckedChange={() => toggleDriverStatus(driver, 'isActive')}\n                      data-testid={`switch-driver-active-${driver.id}`}\n                    />\n                  </div>\n                </div>\n\n                <div className=\"flex gap-2 pt-2\">\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    className=\"flex-1 gap-2\"\n                    onClick={() => handleEdit(driver)}\n                    data-testid={`button-edit-driver-${driver.id}`}\n                  >\n                    <Edit className=\"h-4 w-4\" />\n                    ØªØ¹Ø¯ÙŠÙ„\n                  </Button>\n                  \n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={() => window.open(`tel:${driver.phone}`)}\n                    data-testid={`button-call-driver-${driver.id}`}\n                  >\n                    <Phone className=\"h-4 w-4\" />\n                  </Button>\n                  \n                  <AlertDialog>\n                    <AlertDialogTrigger asChild>\n                      <Button\n                        variant=\"outline\"\n                        size=\"sm\"\n                        className=\"text-destructive hover:text-destructive\"\n                        data-testid={`button-delete-driver-${driver.id}`}\n                      >\n                        <Trash2 className=\"h-4 w-4\" />\n                      </Button>\n                    </AlertDialogTrigger>\n                    <AlertDialogContent>\n                      <AlertDialogHeader>\n                        <AlertDialogTitle>ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø°Ù</AlertDialogTitle>\n                        <AlertDialogDescription>\n                          Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ø§Ù„Ø³Ø§Ø¦Ù‚ \"{driver.name}\"ØŸ \n                          Ù„Ù† ÙŠØªÙ…ÙƒÙ† Ù…Ù† Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¨Ø¹Ø¯ Ø§Ù„Ø­Ø°Ù.\n                        </AlertDialogDescription>\n                      </AlertDialogHeader>\n                      <AlertDialogFooter>\n                        <AlertDialogCancel>Ø¥Ù„ØºØ§Ø¡</AlertDialogCancel>\n                        <AlertDialogAction\n                          onClick={() => deleteDriverMutation.mutate(driver.id)}\n                          className=\"bg-destructive hover:bg-destructive/90\"\n                        >\n                          Ø­Ø°Ù\n                        </AlertDialogAction>\n                      </AlertDialogFooter>\n                    </AlertDialogContent>\n                  </AlertDialog>\n                </div>\n              </CardContent>\n            </Card>\n          ))\n        ) : (\n          <div className=\"col-span-full text-center py-12\">\n            <Truck className=\"h-12 w-12 text-muted-foreground mx-auto mb-4\" />\n            <h3 className=\"text-lg font-semibold text-foreground mb-2\">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø³Ø§Ø¦Ù‚ÙŠÙ†</h3>\n            <p className=\"text-muted-foreground mb-4\">Ø§Ø¨Ø¯Ø£ Ø¨Ø¥Ø¶Ø§ÙØ© Ø³Ø§Ø¦Ù‚ÙŠÙ† Ù„Ø®Ø¯Ù…Ø© Ø§Ù„ØªÙˆØµÙŠÙ„</p>\n            <Button onClick={() => setIsDialogOpen(true)} data-testid=\"button-add-first-driver\">\n              Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø³Ø§Ø¦Ù‚ Ø§Ù„Ø£ÙˆÙ„\n            </Button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}","size_bytes":16327},"client/src/pages/AdminMenuItems.tsx":{"content":"import { useState } from 'react';\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport { Plus, Edit, Trash2, Package, Save, X, DollarSign, Tag } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Switch } from '@/components/ui/switch';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from '@/components/ui/dialog';\nimport { AlertDialog, AlertDialogAction, AlertDialogCancel, AlertDialogContent, AlertDialogDescription, AlertDialogFooter, AlertDialogHeader, AlertDialogTitle, AlertDialogTrigger } from '@/components/ui/alert-dialog';\nimport { Badge } from '@/components/ui/badge';\nimport { useToast } from '@/hooks/use-toast';\nimport { apiRequest } from '@/lib/queryClient';\nimport type { MenuItem, Restaurant } from '@shared/schema';\n\nexport default function AdminMenuItems() {\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n  const [editingItem, setEditingItem] = useState<MenuItem | null>(null);\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\n  const [selectedRestaurant, setSelectedRestaurant] = useState<string>('');\n  \n  const [formData, setFormData] = useState({\n    name: '',\n    description: '',\n    price: '',\n    originalPrice: '',\n    image: '',\n    category: '',\n    isAvailable: true,\n    isSpecialOffer: false,\n    restaurantId: '',\n  });\n\n  const { data: restaurants } = useQuery<Restaurant[]>({\n    queryKey: ['/api/restaurants'],\n  });\n\n  const { data: menuItems, isLoading } = useQuery<MenuItem[]>({\n    queryKey: ['/api/restaurants', selectedRestaurant, 'menu'],\n    enabled: !!selectedRestaurant,\n  });\n\n  const createMenuItemMutation = useMutation({\n    mutationFn: async (data: typeof formData) => {\n      const submitData = {\n        ...data,\n        price: parseFloat(data.price),\n        originalPrice: data.originalPrice ? parseFloat(data.originalPrice) : null,\n      };\n      const response = await apiRequest('POST', '/api/menu-items', submitData);\n      return response.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/restaurants', selectedRestaurant, 'menu'] });\n      toast({\n        title: \"ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„ÙˆØ¬Ø¨Ø©\",\n        description: \"ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„ÙˆØ¬Ø¨Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ø¨Ù†Ø¬Ø§Ø­\",\n      });\n      resetForm();\n      setIsDialogOpen(false);\n    },\n  });\n\n  const updateMenuItemMutation = useMutation({\n    mutationFn: async ({ id, data }: { id: string; data: typeof formData }) => {\n      const submitData = {\n        ...data,\n        price: parseFloat(data.price),\n        originalPrice: data.originalPrice ? parseFloat(data.originalPrice) : null,\n      };\n      const response = await apiRequest('PUT', `/api/menu-items/${id}`, submitData);\n      return response.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/restaurants', selectedRestaurant, 'menu'] });\n      toast({\n        title: \"ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØ¬Ø¨Ø©\",\n        description: \"ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØ¬Ø¨Ø© Ø¨Ù†Ø¬Ø§Ø­\",\n      });\n      resetForm();\n      setEditingItem(null);\n      setIsDialogOpen(false);\n    },\n  });\n\n  const deleteMenuItemMutation = useMutation({\n    mutationFn: async (id: string) => {\n      const response = await apiRequest('DELETE', `/api/menu-items/${id}`);\n      return response.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/restaurants', selectedRestaurant, 'menu'] });\n      toast({\n        title: \"ØªÙ… Ø­Ø°Ù Ø§Ù„ÙˆØ¬Ø¨Ø©\",\n        description: \"ØªÙ… Ø­Ø°Ù Ø§Ù„ÙˆØ¬Ø¨Ø© Ø¨Ù†Ø¬Ø§Ø­\",\n      });\n    },\n  });\n\n  const resetForm = () => {\n    setFormData({\n      name: '',\n      description: '',\n      price: '',\n      originalPrice: '',\n      image: '',\n      category: '',\n      isAvailable: true,\n      isSpecialOffer: false,\n      restaurantId: selectedRestaurant,\n    });\n    setEditingItem(null);\n  };\n\n  const handleEdit = (item: MenuItem) => {\n    setEditingItem(item);\n    setFormData({\n      name: item.name,\n      description: item.description || '',\n      price: item.price,\n      originalPrice: item.originalPrice || '',\n      image: item.image,\n      category: item.category,\n      isAvailable: item.isAvailable,\n      isSpecialOffer: item.isSpecialOffer,\n      restaurantId: item.restaurantId || '',\n    });\n    setIsDialogOpen(true);\n  };\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!formData.name.trim() || !formData.price || !selectedRestaurant) {\n      toast({\n        title: \"Ø®Ø·Ø£\",\n        description: \"ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    const dataWithRestaurant = { ...formData, restaurantId: selectedRestaurant };\n\n    if (editingItem) {\n      updateMenuItemMutation.mutate({ id: editingItem.id, data: dataWithRestaurant });\n    } else {\n      createMenuItemMutation.mutate(dataWithRestaurant);\n    }\n  };\n\n  const toggleItemStatus = (item: MenuItem, field: 'isAvailable' | 'isSpecialOffer') => {\n    updateMenuItemMutation.mutate({\n      id: item.id,\n      data: { ...formData, [field]: !item[field] }\n    });\n  };\n\n  const menuCategories = [\n    'ÙˆØ¬Ø¨Ø§Øª Ø±Ù…Ø¶Ø§Ù†',\n    'Ø§Ù„Ù…Ø´Ø±ÙˆØ¨Ø§Øª',\n    'Ø§Ù„Ø­Ù„ÙˆÙŠØ§Øª',\n    'Ø§Ù„ÙˆØ¬Ø¨Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©',\n    'Ø§Ù„Ù…Ù‚Ø¨Ù„Ø§Øª',\n    'Ø§Ù„Ø³Ù„Ø·Ø§Øª',\n    'Ø§Ù„Ø¹Ø±ÙˆØ¶',\n    'Ø£Ø®Ø±Ù‰'\n  ];\n\n  const parseDecimal = (value: string | null): number => {\n    if (!value) return 0;\n    const num = parseFloat(value);\n    return isNaN(num) ? 0 : num;\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-3\">\n          <Package className=\"h-8 w-8 text-primary\" />\n          <div>\n            <h1 className=\"text-2xl font-bold text-foreground\">Ø¥Ø¯Ø§Ø±Ø© Ù‚ÙˆØ§Ø¦Ù… Ø§Ù„Ø·Ø¹Ø§Ù…</h1>\n            <p className=\"text-muted-foreground\">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙˆØ¬Ø¨Ø§Øª ÙˆØ§Ù„Ù…Ù†ØªØ¬Ø§Øª</p>\n          </div>\n        </div>\n        \n        <div className=\"flex items-center gap-3\">\n          <Select value={selectedRestaurant} onValueChange={setSelectedRestaurant}>\n            <SelectTrigger className=\"w-48\" data-testid=\"select-restaurant\">\n              <SelectValue placeholder=\"Ø§Ø®ØªØ± Ù…Ø·Ø¹Ù…\" />\n            </SelectTrigger>\n            <SelectContent>\n              {restaurants?.map((restaurant) => (\n                <SelectItem key={restaurant.id} value={restaurant.id}>\n                  {restaurant.name}\n                </SelectItem>\n              ))}\n            </SelectContent>\n          </Select>\n\n          <Dialog open={isDialogOpen} onOpenChange={setIsDialogOpen}>\n            <DialogTrigger asChild>\n              <Button \n                className=\"gap-2\"\n                onClick={() => {\n                  resetForm();\n                  setIsDialogOpen(true);\n                }}\n                disabled={!selectedRestaurant}\n                data-testid=\"button-add-menu-item\"\n              >\n                <Plus className=\"h-4 w-4\" />\n                Ø¥Ø¶Ø§ÙØ© ÙˆØ¬Ø¨Ø©\n              </Button>\n            </DialogTrigger>\n            <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto\">\n              <DialogHeader>\n                <DialogTitle>\n                  {editingItem ? 'ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„ÙˆØ¬Ø¨Ø©' : 'Ø¥Ø¶Ø§ÙØ© ÙˆØ¬Ø¨Ø© Ø¬Ø¯ÙŠØ¯Ø©'}\n                </DialogTitle>\n              </DialogHeader>\n              \n              <form onSubmit={handleSubmit} className=\"space-y-4\">\n                <div>\n                  <Label htmlFor=\"name\">Ø§Ø³Ù… Ø§Ù„ÙˆØ¬Ø¨Ø©</Label>\n                  <Input\n                    id=\"name\"\n                    value={formData.name}\n                    onChange={(e) => setFormData(prev => ({ ...prev, name: e.target.value }))}\n                    placeholder=\"Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„ÙˆØ¬Ø¨Ø©\"\n                    required\n                    data-testid=\"input-menu-item-name\"\n                  />\n                </div>\n\n                <div>\n                  <Label htmlFor=\"description\">ÙˆØµÙ Ø§Ù„ÙˆØ¬Ø¨Ø©</Label>\n                  <Textarea\n                    id=\"description\"\n                    value={formData.description}\n                    onChange={(e) => setFormData(prev => ({ ...prev, description: e.target.value }))}\n                    placeholder=\"ÙˆØµÙ Ù…ÙØµÙ„ Ù„Ù„ÙˆØ¬Ø¨Ø© ÙˆÙ…ÙƒÙˆÙ†Ø§ØªÙ‡Ø§\"\n                    rows={3}\n                    data-testid=\"input-menu-item-description\"\n                  />\n                </div>\n\n                <div>\n                  <Label htmlFor=\"image\">Ø±Ø§Ø¨Ø· ØµÙˆØ±Ø© Ø§Ù„ÙˆØ¬Ø¨Ø©</Label>\n                  <Input\n                    id=\"image\"\n                    value={formData.image}\n                    onChange={(e) => setFormData(prev => ({ ...prev, image: e.target.value }))}\n                    placeholder=\"https://example.com/food-image.jpg\"\n                    required\n                    data-testid=\"input-menu-item-image\"\n                  />\n                </div>\n\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <div>\n                    <Label htmlFor=\"category\">Ù‚Ø³Ù… Ø§Ù„ÙˆØ¬Ø¨Ø©</Label>\n                    <Select value={formData.category} onValueChange={(value) => setFormData(prev => ({ ...prev, category: value }))}>\n                      <SelectTrigger data-testid=\"select-menu-item-category\">\n                        <SelectValue placeholder=\"Ø§Ø®ØªØ± Ù‚Ø³Ù… Ø§Ù„ÙˆØ¬Ø¨Ø©\" />\n                      </SelectTrigger>\n                      <SelectContent>\n                        {menuCategories.map((category) => (\n                          <SelectItem key={category} value={category}>\n                            {category}\n                          </SelectItem>\n                        ))}\n                      </SelectContent>\n                    </Select>\n                  </div>\n\n                  <div>\n                    <Label htmlFor=\"price\">Ø§Ù„Ø³Ø¹Ø± (Ø±ÙŠØ§Ù„)</Label>\n                    <Input\n                      id=\"price\"\n                      type=\"number\"\n                      min=\"0\"\n                      step=\"0.01\"\n                      value={formData.price}\n                      onChange={(e) => setFormData(prev => ({ ...prev, price: e.target.value }))}\n                      placeholder=\"0.00\"\n                      required\n                      data-testid=\"input-menu-item-price\"\n                    />\n                  </div>\n                </div>\n\n                <div>\n                  <Label htmlFor=\"originalPrice\">Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø£ØµÙ„ÙŠ (Ù„Ù„Ø¹Ø±ÙˆØ¶)</Label>\n                  <Input\n                    id=\"originalPrice\"\n                    type=\"number\"\n                    min=\"0\"\n                    step=\"0.01\"\n                    value={formData.originalPrice}\n                    onChange={(e) => setFormData(prev => ({ ...prev, originalPrice: e.target.value }))}\n                    placeholder=\"Ø§Ù„Ø³Ø¹Ø± Ù‚Ø¨Ù„ Ø§Ù„Ø®ØµÙ… (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)\"\n                    data-testid=\"input-menu-item-original-price\"\n                  />\n                </div>\n\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <div className=\"flex items-center justify-between\">\n                    <Label htmlFor=\"isAvailable\">Ù…ØªÙˆÙØ±</Label>\n                    <Switch\n                      id=\"isAvailable\"\n                      checked={formData.isAvailable}\n                      onCheckedChange={(checked) => setFormData(prev => ({ ...prev, isAvailable: checked }))}\n                      data-testid=\"switch-menu-item-available\"\n                    />\n                  </div>\n\n                  <div className=\"flex items-center justify-between\">\n                    <Label htmlFor=\"isSpecialOffer\">Ø¹Ø±Ø¶ Ø®Ø§Øµ</Label>\n                    <Switch\n                      id=\"isSpecialOffer\"\n                      checked={formData.isSpecialOffer}\n                      onCheckedChange={(checked) => setFormData(prev => ({ ...prev, isSpecialOffer: checked }))}\n                      data-testid=\"switch-menu-item-special-offer\"\n                    />\n                  </div>\n                </div>\n\n                <div className=\"flex gap-2 pt-4\">\n                  <Button \n                    type=\"submit\" \n                    className=\"flex-1 gap-2\"\n                    disabled={createMenuItemMutation.isPending || updateMenuItemMutation.isPending}\n                    data-testid=\"button-save-menu-item\"\n                  >\n                    <Save className=\"h-4 w-4\" />\n                    {editingItem ? 'ØªØ­Ø¯ÙŠØ«' : 'Ø¥Ø¶Ø§ÙØ©'}\n                  </Button>\n                  <Button \n                    type=\"button\" \n                    variant=\"outline\" \n                    onClick={() => {\n                      resetForm();\n                      setIsDialogOpen(false);\n                    }}\n                    data-testid=\"button-cancel-menu-item\"\n                  >\n                    <X className=\"h-4 w-4\" />\n                    Ø¥Ù„ØºØ§Ø¡\n                  </Button>\n                </div>\n              </form>\n            </DialogContent>\n          </Dialog>\n        </div>\n      </div>\n\n      {/* Restaurant Selection Message */}\n      {!selectedRestaurant && (\n        <Card>\n          <CardContent className=\"p-8 text-center\">\n            <Package className=\"h-16 w-16 text-muted-foreground mx-auto mb-4\" />\n            <h3 className=\"text-lg font-semibold text-foreground mb-2\">Ø§Ø®ØªØ± Ù…Ø·Ø¹Ù…</h3>\n            <p className=\"text-muted-foreground\">ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ù…Ø·Ø¹Ù… Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø£Ø¹Ù„Ø§Ù‡ Ù„Ø¹Ø±Ø¶ ÙˆØ¥Ø¯Ø§Ø±Ø© Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø·Ø¹Ø§Ù…</p>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Menu Items Grid */}\n      {selectedRestaurant && (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {isLoading ? (\n            [...Array(6)].map((_, i) => (\n              <Card key={i} className=\"animate-pulse\">\n                <div className=\"w-full h-48 bg-muted\" />\n                <CardContent className=\"p-4\">\n                  <div className=\"h-4 bg-muted rounded w-3/4 mb-2\" />\n                  <div className=\"h-3 bg-muted rounded w-1/2\" />\n                </CardContent>\n              </Card>\n            ))\n          ) : menuItems?.length ? (\n            menuItems.map((item) => (\n              <Card key={item.id} className=\"hover:shadow-md transition-shadow overflow-hidden\">\n                <div className=\"w-full h-48 bg-gradient-to-br from-primary/20 to-primary/5 flex items-center justify-center\">\n                  {item.image ? (\n                    <img \n                      src={item.image} \n                      alt={item.name}\n                      className=\"w-full h-full object-cover\"\n                    />\n                  ) : (\n                    <Package className=\"h-16 w-16 text-primary/50\" />\n                  )}\n                </div>\n                \n                <CardHeader className=\"pb-3\">\n                  <div className=\"flex items-start justify-between\">\n                    <div className=\"flex-1\">\n                      <CardTitle className=\"text-lg mb-2\">{item.name}</CardTitle>\n                      <Badge variant=\"secondary\" className=\"mb-2\">\n                        {item.category}\n                      </Badge>\n                      {item.description && (\n                        <p className=\"text-xs text-muted-foreground line-clamp-2\">\n                          {item.description}\n                        </p>\n                      )}\n                    </div>\n                    <div className=\"flex flex-col gap-1\">\n                      <Badge variant={item.isAvailable ? \"default\" : \"outline\"}>\n                        {item.isAvailable ? 'Ù…ØªÙˆÙØ±' : 'ØºÙŠØ± Ù…ØªÙˆÙØ±'}\n                      </Badge>\n                      {item.isSpecialOffer && (\n                        <Badge className=\"bg-green-500\">Ø¹Ø±Ø¶ Ø®Ø§Øµ</Badge>\n                      )}\n                    </div>\n                  </div>\n                </CardHeader>\n                \n                <CardContent className=\"space-y-4\">\n                  <div className=\"text-center\">\n                    <div className=\"flex items-center justify-center gap-2\">\n                      <span className=\"text-lg font-bold text-primary\">\n                        {parseDecimal(item.price)} Ø±ÙŠØ§Ù„\n                      </span>\n                      {item.originalPrice && (\n                        <span className=\"text-sm text-muted-foreground line-through\">\n                          {parseDecimal(item.originalPrice)} Ø±ÙŠØ§Ù„\n                        </span>\n                      )}\n                    </div>\n                  </div>\n\n                  <div className=\"grid grid-cols-2 gap-2\">\n                    <div className=\"text-center\">\n                      <p className=\"text-xs text-muted-foreground\">Ù…ØªÙˆÙØ±</p>\n                      <Switch\n                        checked={item.isAvailable}\n                        onCheckedChange={() => toggleItemStatus(item, 'isAvailable')}\n                        data-testid={`switch-item-available-${item.id}`}\n                      />\n                    </div>\n                    <div className=\"text-center\">\n                      <p className=\"text-xs text-muted-foreground\">Ø¹Ø±Ø¶ Ø®Ø§Øµ</p>\n                      <Switch\n                        checked={item.isSpecialOffer}\n                        onCheckedChange={() => toggleItemStatus(item, 'isSpecialOffer')}\n                        data-testid={`switch-item-special-${item.id}`}\n                      />\n                    </div>\n                  </div>\n\n                  <div className=\"flex gap-2 pt-2\">\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      className=\"flex-1 gap-2\"\n                      onClick={() => handleEdit(item)}\n                      data-testid={`button-edit-menu-item-${item.id}`}\n                    >\n                      <Edit className=\"h-4 w-4\" />\n                      ØªØ¹Ø¯ÙŠÙ„\n                    </Button>\n                    \n                    <AlertDialog>\n                      <AlertDialogTrigger asChild>\n                        <Button\n                          variant=\"outline\"\n                          size=\"sm\"\n                          className=\"text-destructive hover:text-destructive\"\n                          data-testid={`button-delete-menu-item-${item.id}`}\n                        >\n                          <Trash2 className=\"h-4 w-4\" />\n                        </Button>\n                      </AlertDialogTrigger>\n                      <AlertDialogContent>\n                        <AlertDialogHeader>\n                          <AlertDialogTitle>ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø°Ù</AlertDialogTitle>\n                          <AlertDialogDescription>\n                            Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ø§Ù„ÙˆØ¬Ø¨Ø© \"{item.name}\"ØŸ \n                            Ù„Ù† ØªØ¸Ù‡Ø± ÙÙŠ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø·Ø¹Ù… Ø¨Ø¹Ø¯ Ø§Ù„Ø­Ø°Ù.\n                          </AlertDialogDescription>\n                        </AlertDialogHeader>\n                        <AlertDialogFooter>\n                          <AlertDialogCancel>Ø¥Ù„ØºØ§Ø¡</AlertDialogCancel>\n                          <AlertDialogAction\n                            onClick={() => deleteMenuItemMutation.mutate(item.id)}\n                            className=\"bg-destructive hover:bg-destructive/90\"\n                          >\n                            Ø­Ø°Ù\n                          </AlertDialogAction>\n                        </AlertDialogFooter>\n                      </AlertDialogContent>\n                    </AlertDialog>\n                  </div>\n                </CardContent>\n              </Card>\n            ))\n          ) : selectedRestaurant ? (\n            <div className=\"col-span-full text-center py-12\">\n              <Package className=\"h-12 w-12 text-muted-foreground mx-auto mb-4\" />\n              <h3 className=\"text-lg font-semibold text-foreground mb-2\">Ù„Ø§ ØªÙˆØ¬Ø¯ ÙˆØ¬Ø¨Ø§Øª</h3>\n              <p className=\"text-muted-foreground mb-4\">Ø§Ø¨Ø¯Ø£ Ø¨Ø¥Ø¶Ø§ÙØ© ÙˆØ¬Ø¨Ø§Øª Ù„Ù‡Ø°Ø§ Ø§Ù„Ù…Ø·Ø¹Ù…</p>\n              <Button onClick={() => setIsDialogOpen(true)} data-testid=\"button-add-first-menu-item\">\n                Ø¥Ø¶Ø§ÙØ© Ø§Ù„ÙˆØ¬Ø¨Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰\n              </Button>\n            </div>\n          ) : null}\n        </div>\n      )}\n    </div>\n  );\n}","size_bytes":20895},"client/src/pages/AdminOffers.tsx":{"content":"import { useState } from 'react';\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport { Plus, Edit, Trash2, Percent, Save, X, Calendar, DollarSign } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Switch } from '@/components/ui/switch';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from '@/components/ui/dialog';\nimport { AlertDialog, AlertDialogAction, AlertDialogCancel, AlertDialogContent, AlertDialogDescription, AlertDialogFooter, AlertDialogHeader, AlertDialogTitle, AlertDialogTrigger } from '@/components/ui/alert-dialog';\nimport { Badge } from '@/components/ui/badge';\nimport { useToast } from '@/hooks/use-toast';\nimport { apiRequest } from '@/lib/queryClient';\nimport type { SpecialOffer } from '@shared/schema';\n\nexport default function AdminOffers() {\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n  const [editingOffer, setEditingOffer] = useState<SpecialOffer | null>(null);\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\n  \n  const [formData, setFormData] = useState({\n    title: '',\n    description: '',\n    image: '',\n    discountPercent: '',\n    discountAmount: '',\n    minimumOrder: '0',\n    validUntil: '',\n    isActive: true,\n  });\n\n  const { data: offers, isLoading } = useQuery<SpecialOffer[]>({\n    queryKey: ['/api/special-offers'],\n  });\n\n  const createOfferMutation = useMutation({\n    mutationFn: async (data: typeof formData) => {\n      const submitData = {\n        ...data,\n        discountPercent: data.discountPercent ? parseInt(data.discountPercent) : null,\n        discountAmount: data.discountAmount ? parseFloat(data.discountAmount) : null,\n        minimumOrder: parseFloat(data.minimumOrder),\n        validUntil: data.validUntil ? new Date(data.validUntil) : null,\n      };\n      const response = await apiRequest('POST', '/api/special-offers', submitData);\n      return response.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/special-offers'] });\n      toast({\n        title: \"ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¹Ø±Ø¶\",\n        description: \"ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø¬Ø¯ÙŠØ¯ Ø¨Ù†Ø¬Ø§Ø­\",\n      });\n      resetForm();\n      setIsDialogOpen(false);\n    },\n  });\n\n  const updateOfferMutation = useMutation({\n    mutationFn: async ({ id, data }: { id: string; data: typeof formData }) => {\n      const submitData = {\n        ...data,\n        discountPercent: data.discountPercent ? parseInt(data.discountPercent) : null,\n        discountAmount: data.discountAmount ? parseFloat(data.discountAmount) : null,\n        minimumOrder: parseFloat(data.minimumOrder),\n        validUntil: data.validUntil ? new Date(data.validUntil) : null,\n      };\n      const response = await apiRequest('PUT', `/api/special-offers/${id}`, submitData);\n      return response.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/special-offers'] });\n      toast({\n        title: \"ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø±Ø¶\",\n        description: \"ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø±Ø¶ Ø¨Ù†Ø¬Ø§Ø­\",\n      });\n      resetForm();\n      setEditingOffer(null);\n      setIsDialogOpen(false);\n    },\n  });\n\n  const deleteOfferMutation = useMutation({\n    mutationFn: async (id: string) => {\n      const response = await apiRequest('DELETE', `/api/special-offers/${id}`);\n      return response.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/special-offers'] });\n      toast({\n        title: \"ØªÙ… Ø­Ø°Ù Ø§Ù„Ø¹Ø±Ø¶\",\n        description: \"ØªÙ… Ø­Ø°Ù Ø§Ù„Ø¹Ø±Ø¶ Ø¨Ù†Ø¬Ø§Ø­\",\n      });\n    },\n  });\n\n  const resetForm = () => {\n    setFormData({\n      title: '',\n      description: '',\n      image: '',\n      discountPercent: '',\n      discountAmount: '',\n      minimumOrder: '0',\n      validUntil: '',\n      isActive: true,\n    });\n    setEditingOffer(null);\n  };\n\n  const handleEdit = (offer: SpecialOffer) => {\n    setEditingOffer(offer);\n    setFormData({\n      title: offer.title,\n      description: offer.description,\n      image: offer.image,\n      discountPercent: offer.discountPercent?.toString() || '',\n      discountAmount: offer.discountAmount || '',\n      minimumOrder: offer.minimumOrder || '0',\n      validUntil: offer.validUntil ? new Date(offer.validUntil).toISOString().slice(0, 16) : '',\n      isActive: offer.isActive,\n    });\n    setIsDialogOpen(true);\n  };\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!formData.title.trim() || !formData.description.trim()) {\n      toast({\n        title: \"Ø®Ø·Ø£\",\n        description: \"ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø¹Ù†ÙˆØ§Ù† ÙˆÙˆØµÙ Ø§Ù„Ø¹Ø±Ø¶\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    if (!formData.discountPercent && !formData.discountAmount) {\n      toast({\n        title: \"Ø®Ø·Ø£\",\n        description: \"ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ù†Ø³Ø¨Ø© Ø§Ù„Ø®ØµÙ… Ø£Ùˆ Ù…Ø¨Ù„Øº Ø§Ù„Ø®ØµÙ…\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    if (editingOffer) {\n      updateOfferMutation.mutate({ id: editingOffer.id, data: formData });\n    } else {\n      createOfferMutation.mutate(formData);\n    }\n  };\n\n  const toggleOfferStatus = (offer: SpecialOffer) => {\n    updateOfferMutation.mutate({\n      id: offer.id,\n      data: { ...formData, isActive: !offer.isActive }\n    });\n  };\n\n  const parseDecimal = (value: string | null): number => {\n    if (!value) return 0;\n    const num = parseFloat(value);\n    return isNaN(num) ? 0 : num;\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-3\">\n          <Percent className=\"h-8 w-8 text-primary\" />\n          <div>\n            <h1 className=\"text-2xl font-bold text-foreground\">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø®Ø§ØµØ©</h1>\n            <p className=\"text-muted-foreground\">Ø¥Ù†Ø´Ø§Ø¡ ÙˆØ¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø±ÙˆØ¶ ÙˆØ§Ù„Ø®ØµÙˆÙ…Ø§Øª</p>\n          </div>\n        </div>\n        \n        <Dialog open={isDialogOpen} onOpenChange={setIsDialogOpen}>\n          <DialogTrigger asChild>\n            <Button \n              className=\"gap-2\"\n              onClick={() => {\n                resetForm();\n                setIsDialogOpen(true);\n              }}\n              data-testid=\"button-add-offer\"\n            >\n              <Plus className=\"h-4 w-4\" />\n              Ø¥Ø¶Ø§ÙØ© Ø¹Ø±Ø¶ Ø¬Ø¯ÙŠØ¯\n            </Button>\n          </DialogTrigger>\n          <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto\">\n            <DialogHeader>\n              <DialogTitle>\n                {editingOffer ? 'ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¹Ø±Ø¶' : 'Ø¥Ø¶Ø§ÙØ© Ø¹Ø±Ø¶ Ø¬Ø¯ÙŠØ¯'}\n              </DialogTitle>\n            </DialogHeader>\n            \n            <form onSubmit={handleSubmit} className=\"space-y-4\">\n              <div>\n                <Label htmlFor=\"title\">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¹Ø±Ø¶</Label>\n                <Input\n                  id=\"title\"\n                  value={formData.title}\n                  onChange={(e) => setFormData(prev => ({ ...prev, title: e.target.value }))}\n                  placeholder=\"Ù…Ø«Ø§Ù„: Ø®ØµÙ… 30% Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙˆØ¬Ø¨Ø§Øª\"\n                  required\n                  data-testid=\"input-offer-title\"\n                />\n              </div>\n\n              <div>\n                <Label htmlFor=\"description\">ÙˆØµÙ Ø§Ù„Ø¹Ø±Ø¶</Label>\n                <Textarea\n                  id=\"description\"\n                  value={formData.description}\n                  onChange={(e) => setFormData(prev => ({ ...prev, description: e.target.value }))}\n                  placeholder=\"ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¹Ø±Ø¶ ÙˆØ´Ø±ÙˆØ·Ù‡\"\n                  rows={3}\n                  required\n                  data-testid=\"input-offer-description\"\n                />\n              </div>\n\n              <div>\n                <Label htmlFor=\"image\">Ø±Ø§Ø¨Ø· ØµÙˆØ±Ø© Ø§Ù„Ø¹Ø±Ø¶</Label>\n                <Input\n                  id=\"image\"\n                  value={formData.image}\n                  onChange={(e) => setFormData(prev => ({ ...prev, image: e.target.value }))}\n                  placeholder=\"https://example.com/offer-image.jpg\"\n                  required\n                  data-testid=\"input-offer-image\"\n                />\n              </div>\n\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div>\n                  <Label htmlFor=\"discountPercent\">Ù†Ø³Ø¨Ø© Ø§Ù„Ø®ØµÙ… (%)</Label>\n                  <Input\n                    id=\"discountPercent\"\n                    type=\"number\"\n                    min=\"0\"\n                    max=\"100\"\n                    value={formData.discountPercent}\n                    onChange={(e) => setFormData(prev => ({ \n                      ...prev, \n                      discountPercent: e.target.value,\n                      discountAmount: '' // Clear the other field\n                    }))}\n                    placeholder=\"Ù…Ø«Ø§Ù„: 20\"\n                    data-testid=\"input-offer-discount-percent\"\n                  />\n                </div>\n\n                <div>\n                  <Label htmlFor=\"discountAmount\">Ù…Ø¨Ù„Øº Ø§Ù„Ø®ØµÙ… (Ø±ÙŠØ§Ù„)</Label>\n                  <Input\n                    id=\"discountAmount\"\n                    type=\"number\"\n                    min=\"0\"\n                    step=\"0.01\"\n                    value={formData.discountAmount}\n                    onChange={(e) => setFormData(prev => ({ \n                      ...prev, \n                      discountAmount: e.target.value,\n                      discountPercent: '' // Clear the other field\n                    }))}\n                    placeholder=\"Ù…Ø«Ø§Ù„: 15\"\n                    data-testid=\"input-offer-discount-amount\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div>\n                  <Label htmlFor=\"minimumOrder\">Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ù„Ù„Ø·Ù„Ø¨ (Ø±ÙŠØ§Ù„)</Label>\n                  <Input\n                    id=\"minimumOrder\"\n                    type=\"number\"\n                    min=\"0\"\n                    step=\"0.01\"\n                    value={formData.minimumOrder}\n                    onChange={(e) => setFormData(prev => ({ ...prev, minimumOrder: e.target.value }))}\n                    data-testid=\"input-offer-minimum-order\"\n                  />\n                </div>\n\n                <div>\n                  <Label htmlFor=\"validUntil\">ØµØ§Ù„Ø­ Ø­ØªÙ‰</Label>\n                  <Input\n                    id=\"validUntil\"\n                    type=\"datetime-local\"\n                    value={formData.validUntil}\n                    onChange={(e) => setFormData(prev => ({ ...prev, validUntil: e.target.value }))}\n                    data-testid=\"input-offer-valid-until\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"flex items-center justify-between\">\n                <Label htmlFor=\"isActive\">Ø§Ù„Ø¹Ø±Ø¶ Ù†Ø´Ø·</Label>\n                <Switch\n                  id=\"isActive\"\n                  checked={formData.isActive}\n                  onCheckedChange={(checked) => setFormData(prev => ({ ...prev, isActive: checked }))}\n                  data-testid=\"switch-offer-active\"\n                />\n              </div>\n\n              <div className=\"flex gap-2 pt-4\">\n                <Button \n                  type=\"submit\" \n                  className=\"flex-1 gap-2\"\n                  disabled={createOfferMutation.isPending || updateOfferMutation.isPending}\n                  data-testid=\"button-save-offer\"\n                >\n                  <Save className=\"h-4 w-4\" />\n                  {editingOffer ? 'ØªØ­Ø¯ÙŠØ«' : 'Ø¥Ø¶Ø§ÙØ©'}\n                </Button>\n                <Button \n                  type=\"button\" \n                  variant=\"outline\" \n                  onClick={() => {\n                    resetForm();\n                    setIsDialogOpen(false);\n                  }}\n                  data-testid=\"button-cancel-offer\"\n                >\n                  <X className=\"h-4 w-4\" />\n                  Ø¥Ù„ØºØ§Ø¡\n                </Button>\n              </div>\n            </form>\n          </DialogContent>\n        </Dialog>\n      </div>\n\n      {/* Offers Grid */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n        {isLoading ? (\n          [...Array(6)].map((_, i) => (\n            <Card key={i} className=\"animate-pulse\">\n              <div className=\"w-full h-48 bg-muted\" />\n              <CardContent className=\"p-4\">\n                <div className=\"h-4 bg-muted rounded w-3/4 mb-2\" />\n                <div className=\"h-3 bg-muted rounded w-1/2\" />\n              </CardContent>\n            </Card>\n          ))\n        ) : offers?.length ? (\n          offers.map((offer) => (\n            <Card key={offer.id} className=\"hover:shadow-md transition-shadow overflow-hidden\">\n              <div className=\"w-full h-48 bg-gradient-to-br from-primary/20 to-primary/5 flex items-center justify-center\">\n                {offer.image ? (\n                  <img \n                    src={offer.image} \n                    alt={offer.title}\n                    className=\"w-full h-full object-cover\"\n                  />\n                ) : (\n                  <Percent className=\"h-16 w-16 text-primary/50\" />\n                )}\n              </div>\n              \n              <CardHeader className=\"pb-3\">\n                <div className=\"flex items-start justify-between\">\n                  <div className=\"flex-1\">\n                    <CardTitle className=\"text-lg mb-2\">{offer.title}</CardTitle>\n                    <p className=\"text-xs text-muted-foreground line-clamp-2\">\n                      {offer.description}\n                    </p>\n                  </div>\n                  <Badge variant={offer.isActive ? \"default\" : \"outline\"}>\n                    {offer.isActive ? 'Ù†Ø´Ø·' : 'ØºÙŠØ± Ù†Ø´Ø·'}\n                  </Badge>\n                </div>\n              </CardHeader>\n              \n              <CardContent className=\"space-y-4\">\n                <div className=\"grid grid-cols-2 gap-2 text-sm\">\n                  {offer.discountPercent && (\n                    <div className=\"flex items-center gap-1\">\n                      <Percent className=\"h-4 w-4 text-green-500\" />\n                      <span>{offer.discountPercent}% Ø®ØµÙ…</span>\n                    </div>\n                  )}\n                  {offer.discountAmount && (\n                    <div className=\"flex items-center gap-1\">\n                      <DollarSign className=\"h-4 w-4 text-green-500\" />\n                      <span>{parseDecimal(offer.discountAmount)} Ø±ÙŠØ§Ù„ Ø®ØµÙ…</span>\n                    </div>\n                  )}\n                  <div className=\"text-xs text-muted-foreground\">\n                    Ø£Ù‚Ù„ Ø·Ù„Ø¨: {parseDecimal(offer.minimumOrder)} Ø±ÙŠØ§Ù„\n                  </div>\n                  {offer.validUntil && (\n                    <div className=\"flex items-center gap-1\">\n                      <Calendar className=\"h-4 w-4 text-muted-foreground\" />\n                      <span className=\"text-xs\">\n                        {new Date(offer.validUntil).toLocaleDateString('ar-YE')}\n                      </span>\n                    </div>\n                  )}\n                </div>\n\n                <div className=\"text-center\">\n                  <p className=\"text-xs text-muted-foreground\">Ù†Ø´Ø·</p>\n                  <Switch\n                    checked={offer.isActive}\n                    onCheckedChange={() => toggleOfferStatus(offer)}\n                    data-testid={`switch-offer-active-${offer.id}`}\n                  />\n                </div>\n\n                <div className=\"flex gap-2 pt-2\">\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    className=\"flex-1 gap-2\"\n                    onClick={() => handleEdit(offer)}\n                    data-testid={`button-edit-offer-${offer.id}`}\n                  >\n                    <Edit className=\"h-4 w-4\" />\n                    ØªØ¹Ø¯ÙŠÙ„\n                  </Button>\n                  \n                  <AlertDialog>\n                    <AlertDialogTrigger asChild>\n                      <Button\n                        variant=\"outline\"\n                        size=\"sm\"\n                        className=\"text-destructive hover:text-destructive\"\n                        data-testid={`button-delete-offer-${offer.id}`}\n                      >\n                        <Trash2 className=\"h-4 w-4\" />\n                      </Button>\n                    </AlertDialogTrigger>\n                    <AlertDialogContent>\n                      <AlertDialogHeader>\n                        <AlertDialogTitle>ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø°Ù</AlertDialogTitle>\n                        <AlertDialogDescription>\n                          Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ø§Ù„Ø¹Ø±Ø¶ \"{offer.title}\"ØŸ \n                          Ù„Ù† ÙŠØªÙ…ÙƒÙ† Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ù…Ù† Ø±Ø¤ÙŠØ© Ù‡Ø°Ø§ Ø§Ù„Ø¹Ø±Ø¶ Ø¨Ø¹Ø¯ Ø§Ù„Ø­Ø°Ù.\n                        </AlertDialogDescription>\n                      </AlertDialogHeader>\n                      <AlertDialogFooter>\n                        <AlertDialogCancel>Ø¥Ù„ØºØ§Ø¡</AlertDialogCancel>\n                        <AlertDialogAction\n                          onClick={() => deleteOfferMutation.mutate(offer.id)}\n                          className=\"bg-destructive hover:bg-destructive/90\"\n                        >\n                          Ø­Ø°Ù\n                        </AlertDialogAction>\n                      </AlertDialogFooter>\n                    </AlertDialogContent>\n                  </AlertDialog>\n                </div>\n              </CardContent>\n            </Card>\n          ))\n        ) : (\n          <div className=\"col-span-full text-center py-12\">\n            <Percent className=\"h-12 w-12 text-muted-foreground mx-auto mb-4\" />\n            <h3 className=\"text-lg font-semibold text-foreground mb-2\">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¹Ø±ÙˆØ¶</h3>\n            <p className=\"text-muted-foreground mb-4\">Ø§Ø¨Ø¯Ø£ Ø¨Ø¥Ø¶Ø§ÙØ© Ø¹Ø±ÙˆØ¶ Ø®Ø§ØµØ© Ù„Ø¬Ø°Ø¨ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</p>\n            <Button onClick={() => setIsDialogOpen(true)} data-testid=\"button-add-first-offer\">\n              Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø£ÙˆÙ„\n            </Button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}","size_bytes":18615},"client/src/pages/AdminOrders.tsx":{"content":"import { useState } from 'react';\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport { Package, Clock, CheckCircle, XCircle, Truck, Phone, MapPin, Filter } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { useToast } from '@/hooks/use-toast';\nimport { apiRequest } from '@/lib/queryClient';\nimport type { Order } from '@shared/schema';\n\nexport default function AdminOrders() {\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n  const [statusFilter, setStatusFilter] = useState<string>('all');\n\n  const { data: orders, isLoading } = useQuery<Order[]>({\n    queryKey: ['/api/orders', statusFilter !== 'all' ? { status: statusFilter } : {}],\n  });\n\n  const updateOrderStatusMutation = useMutation({\n    mutationFn: async ({ id, status }: { id: string; status: string }) => {\n      const response = await apiRequest('PUT', `/api/orders/${id}`, { status });\n      return response.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/orders'] });\n      toast({\n        title: \"ØªÙ… ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨\",\n        description: \"ØªÙ… ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­\",\n      });\n    },\n  });\n\n  const getOrderItems = (itemsString: string) => {\n    try {\n      return JSON.parse(itemsString);\n    } catch {\n      return [];\n    }\n  };\n\n  const getStatusBadge = (status: string) => {\n    const statusConfig = {\n      pending: { label: 'ÙÙŠ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±', color: 'bg-yellow-500' },\n      confirmed: { label: 'Ù…Ø¤ÙƒØ¯', color: 'bg-blue-500' },\n      preparing: { label: 'Ù‚ÙŠØ¯ Ø§Ù„ØªØ­Ø¶ÙŠØ±', color: 'bg-orange-500' },\n      on_way: { label: 'ÙÙŠ Ø§Ù„Ø·Ø±ÙŠÙ‚', color: 'bg-purple-500' },\n      delivered: { label: 'ØªÙ… Ø§Ù„ØªÙˆØµÙŠÙ„', color: 'bg-green-500' },\n      cancelled: { label: 'Ù…Ù„ØºÙŠ', color: 'bg-red-500' },\n    };\n    \n    const config = statusConfig[status as keyof typeof statusConfig] || statusConfig.pending;\n    return <Badge className={`${config.color} hover:${config.color}`}>{config.label}</Badge>;\n  };\n\n  const getNextStatus = (currentStatus: string) => {\n    const statusFlow = {\n      pending: 'confirmed',\n      confirmed: 'preparing',\n      preparing: 'on_way',\n      on_way: 'delivered',\n    };\n    return statusFlow[currentStatus as keyof typeof statusFlow];\n  };\n\n  const getNextStatusLabel = (currentStatus: string) => {\n    const labels = {\n      pending: 'ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨',\n      confirmed: 'Ø¨Ø¯Ø¡ Ø§Ù„ØªØ­Ø¶ÙŠØ±',\n      preparing: 'ØªØ¬Ù‡ÙŠØ² Ù„Ù„ØªÙˆØµÙŠÙ„',\n      on_way: 'ØªÙ… Ø§Ù„ØªÙˆØµÙŠÙ„',\n    };\n    return labels[currentStatus as keyof typeof labels];\n  };\n\n  const filteredOrders = orders?.filter(order => {\n    if (statusFilter === 'all') return true;\n    return order.status === statusFilter;\n  });\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-3\">\n          <Package className=\"h-8 w-8 text-primary\" />\n          <div>\n            <h1 className=\"text-2xl font-bold text-foreground\">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª</h1>\n            <p className=\"text-muted-foreground\">Ù…ØªØ§Ø¨Ø¹Ø© ÙˆØ¥Ø¯Ø§Ø±Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª</p>\n          </div>\n        </div>\n        \n        <div className=\"flex items-center gap-2\">\n          <Filter className=\"h-4 w-4 text-muted-foreground\" />\n          <Select value={statusFilter} onValueChange={setStatusFilter}>\n            <SelectTrigger className=\"w-40\" data-testid=\"select-order-status-filter\">\n              <SelectValue />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"all\">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª</SelectItem>\n              <SelectItem value=\"pending\">ÙÙŠ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±</SelectItem>\n              <SelectItem value=\"confirmed\">Ù…Ø¤ÙƒØ¯Ø©</SelectItem>\n              <SelectItem value=\"preparing\">Ù‚ÙŠØ¯ Ø§Ù„ØªØ­Ø¶ÙŠØ±</SelectItem>\n              <SelectItem value=\"on_way\">ÙÙŠ Ø§Ù„Ø·Ø±ÙŠÙ‚</SelectItem>\n              <SelectItem value=\"delivered\">ØªÙ… Ø§Ù„ØªÙˆØµÙŠÙ„</SelectItem>\n              <SelectItem value=\"cancelled\">Ù…Ù„ØºÙŠØ©</SelectItem>\n            </SelectContent>\n          </Select>\n        </div>\n      </div>\n\n      {/* Orders Grid */}\n      <div className=\"space-y-4\">\n        {isLoading ? (\n          [...Array(5)].map((_, i) => (\n            <Card key={i} className=\"animate-pulse\">\n              <CardContent className=\"p-6\">\n                <div className=\"flex items-center justify-between mb-4\">\n                  <div className=\"h-6 bg-muted rounded w-32\" />\n                  <div className=\"h-6 bg-muted rounded w-20\" />\n                </div>\n                <div className=\"space-y-2\">\n                  <div className=\"h-4 bg-muted rounded w-3/4\" />\n                  <div className=\"h-4 bg-muted rounded w-1/2\" />\n                  <div className=\"h-4 bg-muted rounded w-2/3\" />\n                </div>\n              </CardContent>\n            </Card>\n          ))\n        ) : filteredOrders?.length ? (\n          filteredOrders.map((order) => {\n            const items = getOrderItems(order.items);\n            const nextStatus = getNextStatus(order.status || 'pending');\n            const nextStatusLabel = getNextStatusLabel(order.status || 'pending');\n            \n            return (\n              <Card key={order.id} className=\"hover:shadow-md transition-shadow\">\n                <CardHeader className=\"pb-4\">\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center gap-3\">\n                      <div className=\"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center\">\n                        <Package className=\"h-6 w-6 text-primary\" />\n                      </div>\n                      <div>\n                        <CardTitle className=\"text-lg\">Ø·Ù„Ø¨ #{order.id}</CardTitle>\n                        <p className=\"text-sm text-muted-foreground\">\n                          {new Date(order.createdAt).toLocaleDateString('ar-YE', {\n                            year: 'numeric',\n                            month: 'long',\n                            day: 'numeric',\n                            hour: '2-digit',\n                            minute: '2-digit'\n                          })}\n                        </p>\n                      </div>\n                    </div>\n                    {getStatusBadge(order.status || 'pending')}\n                  </div>\n                </CardHeader>\n                \n                <CardContent className=\"space-y-4\">\n                  {/* Customer Info */}\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 bg-muted/50 rounded-lg\">\n                    <div>\n                      <h4 className=\"font-semibold text-foreground mb-2\">Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„</h4>\n                      <p className=\"text-sm text-foreground\">{order.customerName}</p>\n                      <div className=\"flex items-center gap-2 mt-1\">\n                        <Phone className=\"h-4 w-4 text-muted-foreground\" />\n                        <span className=\"text-sm text-muted-foreground\">{order.customerPhone}</span>\n                      </div>\n                    </div>\n                    <div>\n                      <h4 className=\"font-semibold text-foreground mb-2\">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØªÙˆØµÙŠÙ„</h4>\n                      <div className=\"flex items-start gap-2\">\n                        <MapPin className=\"h-4 w-4 text-muted-foreground mt-0.5\" />\n                        <span className=\"text-sm text-muted-foreground\">{order.deliveryAddress}</span>\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Order Items */}\n                  <div>\n                    <h4 className=\"font-semibold text-foreground mb-2\">ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨</h4>\n                    <div className=\"space-y-2\">\n                      {items.map((item: any, index: number) => (\n                        <div key={index} className=\"flex justify-between items-center text-sm\">\n                          <span className=\"text-foreground\">{item.name} Ã— {item.quantity}</span>\n                          <span className=\"text-muted-foreground\">{item.price * item.quantity} Ø±ÙŠØ§Ù„</span>\n                        </div>\n                      ))}\n                    </div>\n                    \n                    <div className=\"border-t border-border mt-2 pt-2\">\n                      <div className=\"flex justify-between items-center text-sm\">\n                        <span className=\"text-muted-foreground\">Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„ÙØ±Ø¹ÙŠ:</span>\n                        <span className=\"text-foreground\">{order.subtotal} Ø±ÙŠØ§Ù„</span>\n                      </div>\n                      <div className=\"flex justify-between items-center text-sm\">\n                        <span className=\"text-muted-foreground\">Ø±Ø³ÙˆÙ… Ø§Ù„ØªÙˆØµÙŠÙ„:</span>\n                        <span className=\"text-foreground\">{order.deliveryFee} Ø±ÙŠØ§Ù„</span>\n                      </div>\n                      <div className=\"flex justify-between items-center font-semibold\">\n                        <span className=\"text-foreground\">Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹:</span>\n                        <span className=\"text-primary\">{order.totalAmount} Ø±ÙŠØ§Ù„</span>\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Payment & Notes */}\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    <div>\n                      <h4 className=\"font-semibold text-foreground mb-1\">Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹</h4>\n                      <p className=\"text-sm text-muted-foreground\">\n                        {order.paymentMethod === 'cash' ? 'Ø¯ÙØ¹ Ù†Ù‚Ø¯ÙŠ' : 'Ù…Ø¯ÙÙˆØ¹ Ù…Ø³Ø¨Ù‚Ø§Ù‹'}\n                      </p>\n                    </div>\n                    {order.notes && (\n                      <div>\n                        <h4 className=\"font-semibold text-foreground mb-1\">Ù…Ù„Ø§Ø­Ø¸Ø§Øª</h4>\n                        <p className=\"text-sm text-muted-foreground\">{order.notes}</p>\n                      </div>\n                    )}\n                  </div>\n\n                  {/* Actions */}\n                  <div className=\"flex gap-2 pt-4 border-t border-border\">\n                    {nextStatus && order.status !== 'delivered' && order.status !== 'cancelled' && (\n                      <Button\n                        onClick={() => updateOrderStatusMutation.mutate({ \n                          id: order.id, \n                          status: nextStatus \n                        })}\n                        disabled={updateOrderStatusMutation.isPending}\n                        className=\"gap-2\"\n                        data-testid={`button-update-order-${order.id}`}\n                      >\n                        <CheckCircle className=\"h-4 w-4\" />\n                        {nextStatusLabel}\n                      </Button>\n                    )}\n                    \n                    {order.status === 'pending' && (\n                      <Button\n                        variant=\"destructive\"\n                        onClick={() => updateOrderStatusMutation.mutate({ \n                          id: order.id, \n                          status: 'cancelled' \n                        })}\n                        disabled={updateOrderStatusMutation.isPending}\n                        className=\"gap-2\"\n                        data-testid={`button-cancel-order-${order.id}`}\n                      >\n                        <XCircle className=\"h-4 w-4\" />\n                        Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø·Ù„Ø¨\n                      </Button>\n                    )}\n                    \n                    <Button\n                      variant=\"outline\"\n                      onClick={() => window.open(`tel:${order.customerPhone}`)}\n                      className=\"gap-2\"\n                      data-testid={`button-call-customer-${order.id}`}\n                    >\n                      <Phone className=\"h-4 w-4\" />\n                      Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø¹Ù…ÙŠÙ„\n                    </Button>\n                  </div>\n                </CardContent>\n              </Card>\n            );\n          })\n        ) : (\n          <div className=\"text-center py-12\">\n            <Package className=\"h-12 w-12 text-muted-foreground mx-auto mb-4\" />\n            <h3 className=\"text-lg font-semibold text-foreground mb-2\">\n              {statusFilter === 'all' ? 'Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª' : `Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª ${statusFilter === 'pending' ? 'ÙÙŠ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±' : statusFilter === 'confirmed' ? 'Ù…Ø¤ÙƒØ¯Ø©' : statusFilter === 'preparing' ? 'Ù‚ÙŠØ¯ Ø§Ù„ØªØ­Ø¶ÙŠØ±' : statusFilter === 'on_way' ? 'ÙÙŠ Ø§Ù„Ø·Ø±ÙŠÙ‚' : statusFilter === 'delivered' ? 'Ù…ÙƒØªÙ…Ù„Ø©' : 'Ù…Ù„ØºÙŠØ©'}`}\n            </h3>\n            <p className=\"text-muted-foreground\">\n              {statusFilter === 'all' \n                ? 'Ø³ØªØ¸Ù‡Ø± Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ù‡Ù†Ø§ Ø¹Ù†Ø¯ ÙˆØ±ÙˆØ¯Ù‡Ø§ Ù…Ù† Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡'\n                : 'Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª Ø¨Ù‡Ø°Ù‡ Ø§Ù„Ø­Ø§Ù„Ø© Ø­Ø§Ù„ÙŠØ§Ù‹'\n              }\n            </p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}","size_bytes":13429},"client/src/pages/AdminRestaurants.tsx":{"content":"import { useState } from 'react';\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport { Plus, Edit, Trash2, Store, Save, X, Clock, Star, MapPin } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Switch } from '@/components/ui/switch';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from '@/components/ui/dialog';\nimport { AlertDialog, AlertDialogAction, AlertDialogCancel, AlertDialogContent, AlertDialogDescription, AlertDialogFooter, AlertDialogHeader, AlertDialogTitle, AlertDialogTrigger } from '@/components/ui/alert-dialog';\nimport { Badge } from '@/components/ui/badge';\nimport { useToast } from '@/hooks/use-toast';\nimport { apiRequest } from '@/lib/queryClient';\nimport type { Restaurant, Category } from '@shared/schema';\n\nexport default function AdminRestaurants() {\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n  const [editingRestaurant, setEditingRestaurant] = useState<Restaurant | null>(null);\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\n  \n  const [formData, setFormData] = useState({\n    name: '',\n    description: '',\n    image: '',\n    deliveryTime: '',\n    deliveryFee: '0',\n    minimumOrder: '0',\n    isOpen: true,\n    categoryId: '',\n  });\n\n  const { data: restaurants, isLoading: restaurantsLoading } = useQuery<Restaurant[]>({\n    queryKey: ['/api/restaurants'],\n  });\n\n  const { data: categories } = useQuery<Category[]>({\n    queryKey: ['/api/categories'],\n  });\n\n  const createRestaurantMutation = useMutation({\n    mutationFn: async (data: typeof formData) => {\n      const response = await apiRequest('POST', '/api/restaurants', data);\n      return response.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/restaurants'] });\n      toast({\n        title: \"ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø·Ø¹Ù…\",\n        description: \"ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø·Ø¹Ù… Ø§Ù„Ø¬Ø¯ÙŠØ¯ Ø¨Ù†Ø¬Ø§Ø­\",\n      });\n      resetForm();\n      setIsDialogOpen(false);\n    },\n  });\n\n  const updateRestaurantMutation = useMutation({\n    mutationFn: async ({ id, data }: { id: string; data: Partial<typeof formData> }) => {\n      const response = await apiRequest('PUT', `/api/restaurants/${id}`, data);\n      return response.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/restaurants'] });\n      toast({\n        title: \"ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø·Ø¹Ù…\",\n        description: \"ØªÙ… ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø·Ø¹Ù… Ø¨Ù†Ø¬Ø§Ø­\",\n      });\n      resetForm();\n      setEditingRestaurant(null);\n      setIsDialogOpen(false);\n    },\n  });\n\n  const deleteRestaurantMutation = useMutation({\n    mutationFn: async (id: string) => {\n      const response = await apiRequest('DELETE', `/api/restaurants/${id}`);\n      return response.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/restaurants'] });\n      toast({\n        title: \"ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ø·Ø¹Ù…\",\n        description: \"ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ø·Ø¹Ù… Ø¨Ù†Ø¬Ø§Ø­\",\n      });\n    },\n  });\n\n  const resetForm = () => {\n    setFormData({\n      name: '',\n      description: '',\n      image: '',\n      deliveryTime: '',\n      deliveryFee: '0',\n      minimumOrder: '0',\n      isOpen: true,\n      categoryId: '',\n    });\n    setEditingRestaurant(null);\n  };\n\n  const handleEdit = (restaurant: Restaurant) => {\n    setEditingRestaurant(restaurant);\n    setFormData({\n      name: restaurant.name,\n      description: restaurant.description || '',\n      image: restaurant.image,\n      deliveryTime: restaurant.deliveryTime,\n      deliveryFee: restaurant.deliveryFee || '0',\n      minimumOrder: restaurant.minimumOrder || '0',\n      isOpen: restaurant.isOpen,\n      categoryId: restaurant.categoryId || '',\n    });\n    setIsDialogOpen(true);\n  };\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!formData.name.trim()) {\n      toast({\n        title: \"Ø®Ø·Ø£\",\n        description: \"ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø·Ø¹Ù…\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    if (editingRestaurant) {\n      updateRestaurantMutation.mutate({ id: editingRestaurant.id, data: formData });\n    } else {\n      createRestaurantMutation.mutate(formData);\n    }\n  };\n\n  const toggleRestaurantStatus = (restaurant: Restaurant, field: 'isOpen') => {\n    updateRestaurantMutation.mutate({\n      id: restaurant.id,\n      data: { [field]: !restaurant[field] }\n    });\n  };\n\n  const getCategoryName = (categoryId: string) => {\n    const category = categories?.find(c => c.id === categoryId);\n    return category?.name || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯';\n  };\n\n  // Ø¯Ø§Ù„Ø© Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ø±Ù‚Ù…ÙŠØ© Ù…Ù† string Ø¥Ù„Ù‰ number Ù„Ù„Ø¹Ø±Ø¶\n  const parseDecimal = (value: string | null): number => {\n    if (!value) return 0;\n    const num = parseFloat(value);\n    return isNaN(num) ? 0 : num;\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-3\">\n          <Store className=\"h-8 w-8 text-primary\" />\n          <div>\n            <h1 className=\"text-2xl font-bold text-foreground\">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø·Ø§Ø¹Ù…</h1>\n            <p className=\"text-muted-foreground\">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø·Ø§Ø¹Ù… ÙˆØ§Ù„Ù…ØªØ§Ø¬Ø±</p>\n          </div>\n        </div>\n        \n        <Dialog open={isDialogOpen} onOpenChange={setIsDialogOpen}>\n          <DialogTrigger asChild>\n            <Button \n              className=\"gap-2\"\n              onClick={() => {\n                resetForm();\n                setIsDialogOpen(true);\n              }}\n              data-testid=\"button-add-restaurant\"\n            >\n              <Plus className=\"h-4 w-4\" />\n              Ø¥Ø¶Ø§ÙØ© Ù…Ø·Ø¹Ù… Ø¬Ø¯ÙŠØ¯\n            </Button>\n          </DialogTrigger>\n          <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto\">\n            <DialogHeader>\n              <DialogTitle>\n                {editingRestaurant ? 'ØªØ¹Ø¯ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø·Ø¹Ù…' : 'Ø¥Ø¶Ø§ÙØ© Ù…Ø·Ø¹Ù… Ø¬Ø¯ÙŠØ¯'}\n              </DialogTitle>\n            </DialogHeader>\n            \n            <form onSubmit={handleSubmit} className=\"space-y-4\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div>\n                  <Label htmlFor=\"name\">Ø§Ø³Ù… Ø§Ù„Ù…Ø·Ø¹Ù…</Label>\n                  <Input\n                    id=\"name\"\n                    value={formData.name}\n                    onChange={(e) => setFormData(prev => ({ ...prev, name: e.target.value }))}\n                    placeholder=\"Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø·Ø¹Ù…\"\n                    required\n                    data-testid=\"input-restaurant-name\"\n                  />\n                </div>\n\n                <div>\n                  <Label htmlFor=\"category\">Ø§Ù„Ù‚Ø³Ù…</Label>\n                  <Select value={formData.categoryId} onValueChange={(value) => setFormData(prev => ({ ...prev, categoryId: value }))}>\n                    <SelectTrigger data-testid=\"select-restaurant-category\">\n                      <SelectValue placeholder=\"Ø§Ø®ØªØ± Ù‚Ø³Ù… Ø§Ù„Ù…Ø·Ø¹Ù…\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      {categories?.map((category) => (\n                        <SelectItem key={category.id} value={category.id}>\n                          {category.name}\n                        </SelectItem>\n                      ))}\n                    </SelectContent>\n                  </Select>\n                </div>\n              </div>\n\n              <div>\n                <Label htmlFor=\"description\">Ø§Ù„ÙˆØµÙ</Label>\n                <Textarea\n                  id=\"description\"\n                  value={formData.description}\n                  onChange={(e) => setFormData(prev => ({ ...prev, description: e.target.value }))}\n                  placeholder=\"ÙˆØµÙ Ø§Ù„Ù…Ø·Ø¹Ù…\"\n                  rows={3}\n                  data-testid=\"input-restaurant-description\"\n                />\n              </div>\n\n              <div>\n                <Label htmlFor=\"image\">Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø©</Label>\n                <Input\n                  id=\"image\"\n                  value={formData.image}\n                  onChange={(e) => setFormData(prev => ({ ...prev, image: e.target.value }))}\n                  placeholder=\"https://example.com/image.jpg\"\n                  required\n                  data-testid=\"input-restaurant-image\"\n                />\n              </div>\n\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                <div>\n                  <Label htmlFor=\"deliveryTime\">ÙˆÙ‚Øª Ø§Ù„ØªÙˆØµÙŠÙ„</Label>\n                  <Input\n                    id=\"deliveryTime\"\n                    value={formData.deliveryTime}\n                    onChange={(e) => setFormData(prev => ({ ...prev, deliveryTime: e.target.value }))}\n                    placeholder=\"30-45 Ø¯Ù‚ÙŠÙ‚Ø©\"\n                    required\n                    data-testid=\"input-restaurant-delivery-time\"\n                  />\n                </div>\n\n                <div>\n                  <Label htmlFor=\"deliveryFee\">Ø±Ø³ÙˆÙ… Ø§Ù„ØªÙˆØµÙŠÙ„ (Ø±ÙŠØ§Ù„)</Label>\n                  <Input\n                    id=\"deliveryFee\"\n                    type=\"number\"\n                    min=\"0\"\n                    step=\"0.01\"\n                    value={formData.deliveryFee}\n                    onChange={(e) => setFormData(prev => ({ ...prev, deliveryFee: e.target.value }))}\n                    data-testid=\"input-restaurant-delivery-fee\"\n                  />\n                </div>\n\n                <div>\n                  <Label htmlFor=\"minimumOrder\">Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ù„Ù„Ø·Ù„Ø¨ (Ø±ÙŠØ§Ù„)</Label>\n                  <Input\n                    id=\"minimumOrder\"\n                    type=\"number\"\n                    min=\"0\"\n                    step=\"0.01\"\n                    value={formData.minimumOrder}\n                    onChange={(e) => setFormData(prev => ({ ...prev, minimumOrder: e.target.value }))}\n                    data-testid=\"input-restaurant-minimum-order\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"flex items-center justify-between\">\n                <Label htmlFor=\"isOpen\">Ù…ÙØªÙˆØ­ Ù„Ù„Ø·Ù„Ø¨Ø§Øª</Label>\n                <Switch\n                  id=\"isOpen\"\n                  checked={formData.isOpen}\n                  onCheckedChange={(checked) => setFormData(prev => ({ ...prev, isOpen: checked }))}\n                  data-testid=\"switch-restaurant-open\"\n                />\n              </div>\n\n              <div className=\"flex gap-2 pt-4\">\n                <Button \n                  type=\"submit\" \n                  className=\"flex-1 gap-2\"\n                  disabled={createRestaurantMutation.isPending || updateRestaurantMutation.isPending}\n                  data-testid=\"button-save-restaurant\"\n                >\n                  <Save className=\"h-4 w-4\" />\n                  {editingRestaurant ? 'ØªØ­Ø¯ÙŠØ«' : 'Ø¥Ø¶Ø§ÙØ©'}\n                </Button>\n                <Button \n                  type=\"button\" \n                  variant=\"outline\" \n                  onClick={() => {\n                    resetForm();\n                    setIsDialogOpen(false);\n                  }}\n                  data-testid=\"button-cancel-restaurant\"\n                >\n                  <X className=\"h-4 w-4\" />\n                  Ø¥Ù„ØºØ§Ø¡\n                </Button>\n              </div>\n            </form>\n          </DialogContent>\n        </Dialog>\n      </div>\n\n      {/* Restaurants Grid */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n        {restaurantsLoading ? (\n          [...Array(6)].map((_, i) => (\n            <Card key={i} className=\"animate-pulse\">\n              <div className=\"w-full h-48 bg-muted\" />\n              <CardContent className=\"p-4\">\n                <div className=\"h-4 bg-muted rounded w-3/4 mb-2\" />\n                <div className=\"h-3 bg-muted rounded w-1/2\" />\n              </CardContent>\n            </Card>\n          ))\n        ) : restaurants?.length ? (\n          restaurants.map((restaurant) => (\n            <Card key={restaurant.id} className=\"hover:shadow-md transition-shadow overflow-hidden\">\n              <div className=\"w-full h-48 bg-gradient-to-br from-primary/20 to-primary/5 flex items-center justify-center\">\n                {restaurant.image ? (\n                  <img \n                    src={restaurant.image} \n                    alt={restaurant.name}\n                    className=\"w-full h-full object-cover\"\n                  />\n                ) : (\n                  <Store className=\"h-16 w-16 text-primary/50\" />\n                )}\n              </div>\n              \n              <CardHeader className=\"pb-3\">\n                <div className=\"flex items-start justify-between\">\n                  <div className=\"flex-1\">\n                    <CardTitle className=\"text-lg mb-2\">{restaurant.name}</CardTitle>\n                    <p className=\"text-sm text-muted-foreground mb-2\">\n                      {getCategoryName(restaurant.categoryId || '')}\n                    </p>\n                    {restaurant.description && (\n                      <p className=\"text-xs text-muted-foreground line-clamp-2\">\n                        {restaurant.description}\n                      </p>\n                    )}\n                  </div>\n                  <Badge variant={restaurant.isOpen ? \"default\" : \"outline\"}>\n                    {restaurant.isOpen ? 'Ù…ÙØªÙˆØ­' : 'Ù…ØºÙ„Ù‚'}\n                  </Badge>\n                </div>\n              </CardHeader>\n              \n              <CardContent className=\"space-y-4\">\n                <div className=\"grid grid-cols-2 gap-2 text-sm\">\n                  <div className=\"flex items-center gap-1\">\n                    <Clock className=\"h-4 w-4 text-muted-foreground\" />\n                    <span>{restaurant.deliveryTime}</span>\n                  </div>\n                  <div className=\"text-xs text-muted-foreground\">\n                    ØªÙˆØµÙŠÙ„: {parseDecimal(restaurant.deliveryFee)} Ø±ÙŠØ§Ù„\n                  </div>\n                  <div className=\"text-xs text-muted-foreground\">\n                    Ø£Ù‚Ù„ Ø·Ù„Ø¨: {parseDecimal(restaurant.minimumOrder)} Ø±ÙŠØ§Ù„\n                  </div>\n                  {restaurant.rating && (\n                    <div className=\"flex items-center gap-1\">\n                      <Star className=\"h-4 w-4 text-yellow-500\" />\n                      <span>{restaurant.rating}</span>\n                    </div>\n                  )}\n                </div>\n\n                <div className=\"text-center\">\n                  <p className=\"text-xs text-muted-foreground\">Ù…ÙØªÙˆØ­</p>\n                  <Switch\n                    checked={restaurant.isOpen}\n                    onCheckedChange={() => toggleRestaurantStatus(restaurant, 'isOpen')}\n                    data-testid={`switch-restaurant-open-${restaurant.id}`}\n                  />\n                </div>\n\n                <div className=\"flex gap-2 pt-2\">\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    className=\"flex-1 gap-2\"\n                    onClick={() => handleEdit(restaurant)}\n                    data-testid={`button-edit-restaurant-${restaurant.id}`}\n                  >\n                    <Edit className=\"h-4 w-4\" />\n                    ØªØ¹Ø¯ÙŠÙ„\n                  </Button>\n                  \n                  <AlertDialog>\n                    <AlertDialogTrigger asChild>\n                      <Button\n                        variant=\"outline\"\n                        size=\"sm\"\n                        className=\"text-destructive hover:text-destructive\"\n                        data-testid={`button-delete-restaurant-${restaurant.id}`}\n                      >\n                        <Trash2 className=\"h-4 w-4\" />\n                      </Button>\n                    </AlertDialogTrigger>\n                    <AlertDialogContent>\n                      <AlertDialogHeader>\n                        <AlertDialogTitle>ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø°Ù</AlertDialogTitle>\n                        <AlertDialogDescription>\n                          Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù…Ø·Ø¹Ù… \"{restaurant.name}\"ØŸ \n                          Ø³ÙŠØªÙ… Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…Ø·Ø¹Ù… Ø£ÙŠØ¶Ø§Ù‹.\n                        </AlertDialogDescription>\n                      </AlertDialogHeader>\n                      <AlertDialogFooter>\n                        <AlertDialogCancel>Ø¥Ù„ØºØ§Ø¡</AlertDialogCancel>\n                        <AlertDialogAction\n                          onClick={() => deleteRestaurantMutation.mutate(restaurant.id)}\n                          className=\"bg-destructive hover:bg-destructive/90\"\n                        >\n                          Ø­Ø°Ù\n                        </AlertDialogAction>\n                      </AlertDialogFooter>\n                    </AlertDialogContent>\n                  </AlertDialog>\n                </div>\n              </CardContent>\n            </Card>\n          ))\n        ) : (\n          <div className=\"col-span-full text-center py-12\">\n            <Store className=\"h-12 w-12 text-muted-foreground mx-auto mb-4\" />\n            <h3 className=\"text-lg font-semibold text-foreground mb-2\">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø·Ø§Ø¹Ù…</h3>\n            <p className=\"text-muted-foreground mb-4\">Ø§Ø¨Ø¯Ø£ Ø¨Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø·Ø§Ø¹Ù… ÙˆØ§Ù„Ù…ØªØ§Ø¬Ø±</p>\n            <Button onClick={() => setIsDialogOpen(true)} data-testid=\"button-add-first-restaurant\">\n              Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø·Ø¹Ù… Ø§Ù„Ø£ÙˆÙ„\n            </Button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}","size_bytes":18080},"client/src/pages/AdminSpecialOffers.tsx":{"content":"import { useState } from 'react';\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport { ArrowRight, Plus, Edit, Trash2, Save, X, Percent, Calendar, Store } from 'lucide-react';\nimport { useLocation } from 'wouter';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { Switch } from '@/components/ui/switch';\nimport { Badge } from '@/components/ui/badge';\nimport { useToast } from '@/hooks/use-toast';\nimport type { Restaurant } from '@shared/schema';\n\nexport function AdminSpecialOffers() {\n  const [, setLocation] = useLocation();\n  const [editingOffer, setEditingOffer] = useState<any | null>(null);\n  const [showAddForm, setShowAddForm] = useState(false);\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n\n  const [formData, setFormData] = useState({\n    title: '',\n    description: '',\n    discountType: 'percentage' as 'percentage' | 'fixed',\n    discountValue: '',\n    minOrderAmount: '',\n    maxDiscountAmount: '',\n    validFrom: '',\n    validUntil: '',\n    restaurantId: '',\n    isActive: true,\n    usageLimit: '',\n    currentUsage: '0'\n  });\n\n  // Fetch special offers\n  const { data: offers, isLoading } = useQuery<any[]>({\n    queryKey: ['/api/special-offers'],\n  });\n\n  // Fetch restaurants for selection\n  const { data: restaurants } = useQuery<Restaurant[]>({\n    queryKey: ['/api/restaurants'],\n  });\n\n  // Create offer mutation\n  const createOfferMutation = useMutation({\n    mutationFn: async (data: any) => {\n      const response = await fetch('/api/special-offers', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(data),\n      });\n      if (!response.ok) throw new Error('Failed to create offer');\n      return response.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/special-offers'] });\n      setShowAddForm(false);\n      resetForm();\n      toast({ title: 'ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¹Ø±Ø¶ Ø¨Ù†Ø¬Ø§Ø­' });\n    },\n    onError: () => {\n      toast({ title: 'ÙØ´Ù„ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¹Ø±Ø¶', variant: 'destructive' });\n    },\n  });\n\n  // Update offer mutation\n  const updateOfferMutation = useMutation({\n    mutationFn: async (data: any) => {\n      const response = await fetch(`/api/special-offers/${data.id}`, {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(data),\n      });\n      if (!response.ok) throw new Error('Failed to update offer');\n      return response.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/special-offers'] });\n      setEditingOffer(null);\n      resetForm();\n      toast({ title: 'ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø±Ø¶ Ø¨Ù†Ø¬Ø§Ø­' });\n    },\n    onError: () => {\n      toast({ title: 'ÙØ´Ù„ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø±Ø¶', variant: 'destructive' });\n    },\n  });\n\n  // Delete offer mutation\n  const deleteOfferMutation = useMutation({\n    mutationFn: async (id: string) => {\n      const response = await fetch(`/api/special-offers/${id}`, {\n        method: 'DELETE',\n      });\n      if (!response.ok) throw new Error('Failed to delete offer');\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/special-offers'] });\n      toast({ title: 'ØªÙ… Ø­Ø°Ù Ø§Ù„Ø¹Ø±Ø¶ Ø¨Ù†Ø¬Ø§Ø­' });\n    },\n    onError: () => {\n      toast({ title: 'ÙØ´Ù„ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ø¹Ø±Ø¶', variant: 'destructive' });\n    },\n  });\n\n  const resetForm = () => {\n    setFormData({\n      title: '',\n      description: '',\n      discountType: 'percentage',\n      discountValue: '',\n      minOrderAmount: '',\n      maxDiscountAmount: '',\n      validFrom: '',\n      validUntil: '',\n      restaurantId: '',\n      isActive: true,\n      usageLimit: '',\n      currentUsage: '0'\n    });\n  };\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    const dataToSubmit = {\n      ...formData,\n      discountValue: parseFloat(formData.discountValue) || 0,\n      minOrderAmount: formData.minOrderAmount ? parseFloat(formData.minOrderAmount) : null,\n      maxDiscountAmount: formData.maxDiscountAmount ? parseFloat(formData.maxDiscountAmount) : null,\n      usageLimit: formData.usageLimit ? parseInt(formData.usageLimit) : null,\n      currentUsage: parseInt(formData.currentUsage) || 0,\n      validFrom: new Date(formData.validFrom),\n      validUntil: new Date(formData.validUntil),\n      restaurantId: formData.restaurantId || null,\n    };\n    \n    if (editingOffer) {\n      updateOfferMutation.mutate({ ...dataToSubmit, id: editingOffer.id });\n    } else {\n      createOfferMutation.mutate(dataToSubmit);\n    }\n  };\n\n  const startEdit = (offer: SpecialOffer) => {\n    setEditingOffer(offer);\n    setFormData({\n      title: offer.title,\n      description: offer.description || '',\n      discountType: offer.discountType as 'percentage' | 'fixed',\n      discountValue: offer.discountValue.toString(),\n      minOrderAmount: offer.minOrderAmount?.toString() || '',\n      maxDiscountAmount: offer.maxDiscountAmount?.toString() || '',\n      validFrom: new Date(offer.validFrom).toISOString().slice(0, 16),\n      validUntil: new Date(offer.validUntil).toISOString().slice(0, 16),\n      restaurantId: offer.restaurantId || '',\n      isActive: offer.isActive,\n      usageLimit: offer.usageLimit?.toString() || '',\n      currentUsage: offer.currentUsage?.toString() || '0'\n    });\n    setShowAddForm(false);\n  };\n\n  const cancelEdit = () => {\n    setEditingOffer(null);\n    setShowAddForm(false);\n    resetForm();\n  };\n\n  const formatDate = (date: string | Date) => {\n    return new Date(date).toLocaleDateString('ar-SA', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric'\n    });\n  };\n\n  const getDiscountText = (offer: SpecialOffer) => {\n    if (offer.discountType === 'percentage') {\n      return `${offer.discountValue}%`;\n    } else {\n      return `${offer.discountValue} Ø±ÙŠØ§Ù„`;\n    }\n  };\n\n  const isOfferActive = (offer: SpecialOffer) => {\n    const now = new Date();\n    const validFrom = new Date(offer.validFrom);\n    const validUntil = new Date(offer.validUntil);\n    return offer.isActive && now >= validFrom && now <= validUntil;\n  };\n\n  const getOfferStatus = (offer: SpecialOffer) => {\n    if (!offer.isActive) return { text: 'ØºÙŠØ± Ù†Ø´Ø·', color: 'bg-gray-100 text-gray-700' };\n    \n    const now = new Date();\n    const validFrom = new Date(offer.validFrom);\n    const validUntil = new Date(offer.validUntil);\n    \n    if (now < validFrom) return { text: 'Ù‚Ø±ÙŠØ¨Ø§Ù‹', color: 'bg-blue-100 text-blue-700' };\n    if (now > validUntil) return { text: 'Ù…Ù†ØªÙ‡ÙŠ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©', color: 'bg-red-100 text-red-700' };\n    return { text: 'Ù†Ø´Ø·', color: 'bg-green-100 text-green-700' };\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-3\">\n          <Button\n            variant=\"ghost\"\n            size=\"icon\"\n            onClick={() => setLocation('/admin')}\n          >\n            <ArrowRight className=\"h-5 w-5\" />\n          </Button>\n          <div>\n            <h1 className=\"text-2xl font-bold\">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø®Ø§ØµØ©</h1>\n            <p className=\"text-muted-foreground\">Ø¥Ù†Ø´Ø§Ø¡ ÙˆØ¥Ø¯Ø§Ø±Ø© Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø®ØµÙ… ÙˆØ§Ù„ÙƒÙˆØ¨ÙˆÙ†Ø§Øª</p>\n          </div>\n        </div>\n        \n        <Button\n          onClick={() => {\n            setShowAddForm(true);\n            setEditingOffer(null);\n            resetForm();\n          }}\n          className=\"gap-2\"\n        >\n          <Plus className=\"h-4 w-4\" />\n          Ø¥Ø¶Ø§ÙØ© Ø¹Ø±Ø¶ Ø¬Ø¯ÙŠØ¯\n        </Button>\n      </div>\n\n      {/* Add/Edit Form */}\n      {(showAddForm || editingOffer) && (\n        <Card>\n          <CardHeader>\n            <CardTitle>\n              {editingOffer ? 'ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¹Ø±Ø¶' : 'Ø¥Ø¶Ø§ÙØ© Ø¹Ø±Ø¶ Ø¬Ø¯ÙŠØ¯'}\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <form onSubmit={handleSubmit} className=\"space-y-4\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div>\n                  <Label htmlFor=\"title\">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¹Ø±Ø¶</Label>\n                  <Input\n                    id=\"title\"\n                    value={formData.title}\n                    onChange={(e) => setFormData({ ...formData, title: e.target.value })}\n                    placeholder=\"Ù…Ø«Ø§Ù„: Ø®ØµÙ… 20% Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª\"\n                    required\n                  />\n                </div>\n                \n                <div>\n                  <Label htmlFor=\"restaurantId\">Ø§Ù„Ù…Ø·Ø¹Ù… (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</Label>\n                  <Select value={formData.restaurantId} onValueChange={(value) => setFormData({ ...formData, restaurantId: value })}>\n                    <SelectTrigger>\n                      <SelectValue placeholder=\"Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø·Ø§Ø¹Ù…\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"\">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø·Ø§Ø¹Ù…</SelectItem>\n                      {restaurants?.map((restaurant) => (\n                        <SelectItem key={restaurant.id} value={restaurant.id}>\n                          {restaurant.name}\n                        </SelectItem>\n                      ))}\n                    </SelectContent>\n                  </Select>\n                </div>\n              </div>\n\n              <div>\n                <Label htmlFor=\"description\">ÙˆØµÙ Ø§Ù„Ø¹Ø±Ø¶</Label>\n                <Textarea\n                  id=\"description\"\n                  value={formData.description}\n                  onChange={(e) => setFormData({ ...formData, description: e.target.value })}\n                  placeholder=\"ÙˆØµÙ ØªÙØµÙŠÙ„ÙŠ Ù„Ù„Ø¹Ø±Ø¶\"\n                  rows={3}\n                />\n              </div>\n\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                <div>\n                  <Label htmlFor=\"discountType\">Ù†ÙˆØ¹ Ø§Ù„Ø®ØµÙ…</Label>\n                  <Select value={formData.discountType} onValueChange={(value: 'percentage' | 'fixed') => setFormData({ ...formData, discountType: value })}>\n                    <SelectTrigger>\n                      <SelectValue />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"percentage\">Ù†Ø³Ø¨Ø© Ù…Ø¦ÙˆÙŠØ© (%)</SelectItem>\n                      <SelectItem value=\"fixed\">Ù…Ø¨Ù„Øº Ø«Ø§Ø¨Øª (Ø±ÙŠØ§Ù„)</SelectItem>\n                    </SelectContent>\n                  </Select>\n                </div>\n                \n                <div>\n                  <Label htmlFor=\"discountValue\">Ù‚ÙŠÙ…Ø© Ø§Ù„Ø®ØµÙ…</Label>\n                  <Input\n                    id=\"discountValue\"\n                    type=\"number\"\n                    step=\"0.01\"\n                    value={formData.discountValue}\n                    onChange={(e) => setFormData({ ...formData, discountValue: e.target.value })}\n                    placeholder={formData.discountType === 'percentage' ? '20' : '50'}\n                    required\n                  />\n                </div>\n\n                <div>\n                  <Label htmlFor=\"minOrderAmount\">Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ù„Ù„Ø·Ù„Ø¨</Label>\n                  <Input\n                    id=\"minOrderAmount\"\n                    type=\"number\"\n                    step=\"0.01\"\n                    value={formData.minOrderAmount}\n                    onChange={(e) => setFormData({ ...formData, minOrderAmount: e.target.value })}\n                    placeholder=\"100\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                <div>\n                  <Label htmlFor=\"maxDiscountAmount\">Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„Ù„Ø®ØµÙ…</Label>\n                  <Input\n                    id=\"maxDiscountAmount\"\n                    type=\"number\"\n                    step=\"0.01\"\n                    value={formData.maxDiscountAmount}\n                    onChange={(e) => setFormData({ ...formData, maxDiscountAmount: e.target.value })}\n                    placeholder=\"50\"\n                  />\n                </div>\n\n                <div>\n                  <Label htmlFor=\"usageLimit\">Ø­Ø¯ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…</Label>\n                  <Input\n                    id=\"usageLimit\"\n                    type=\"number\"\n                    value={formData.usageLimit}\n                    onChange={(e) => setFormData({ ...formData, usageLimit: e.target.value })}\n                    placeholder=\"100\"\n                  />\n                </div>\n\n                <div>\n                  <Label htmlFor=\"currentUsage\">Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ</Label>\n                  <Input\n                    id=\"currentUsage\"\n                    type=\"number\"\n                    value={formData.currentUsage}\n                    onChange={(e) => setFormData({ ...formData, currentUsage: e.target.value })}\n                    placeholder=\"0\"\n                    disabled={!editingOffer}\n                  />\n                </div>\n              </div>\n\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div>\n                  <Label htmlFor=\"validFrom\">ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©</Label>\n                  <Input\n                    id=\"validFrom\"\n                    type=\"datetime-local\"\n                    value={formData.validFrom}\n                    onChange={(e) => setFormData({ ...formData, validFrom: e.target.value })}\n                    required\n                  />\n                </div>\n                \n                <div>\n                  <Label htmlFor=\"validUntil\">ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡</Label>\n                  <Input\n                    id=\"validUntil\"\n                    type=\"datetime-local\"\n                    value={formData.validUntil}\n                    onChange={(e) => setFormData({ ...formData, validUntil: e.target.value })}\n                    required\n                  />\n                </div>\n              </div>\n\n              <div className=\"flex items-center space-x-2\">\n                <Switch\n                  id=\"isActive\"\n                  checked={formData.isActive}\n                  onCheckedChange={(checked) => setFormData({ ...formData, isActive: checked })}\n                />\n                <Label htmlFor=\"isActive\">Ù†Ø´Ø·</Label>\n              </div>\n\n              <div className=\"flex gap-2\">\n                <Button \n                  type=\"submit\" \n                  disabled={createOfferMutation.isPending || updateOfferMutation.isPending}\n                  className=\"gap-2\"\n                >\n                  <Save className=\"h-4 w-4\" />\n                  {editingOffer ? 'ØªØ­Ø¯ÙŠØ«' : 'Ø­ÙØ¸'}\n                </Button>\n                <Button \n                  type=\"button\" \n                  variant=\"outline\" \n                  onClick={cancelEdit}\n                  className=\"gap-2\"\n                >\n                  <X className=\"h-4 w-4\" />\n                  Ø¥Ù„ØºØ§Ø¡\n                </Button>\n              </div>\n            </form>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Offers List */}\n      <div className=\"space-y-4\">\n        {isLoading ? (\n          <div className=\"flex items-center justify-center p-8\">\n            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary\"></div>\n          </div>\n        ) : offers?.length === 0 ? (\n          <Card>\n            <CardContent className=\"p-6 text-center\">\n              <p className=\"text-muted-foreground\">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¹Ø±ÙˆØ¶ Ø®Ø§ØµØ©</p>\n            </CardContent>\n          </Card>\n        ) : (\n          offers?.map((offer) => {\n            const status = getOfferStatus(offer);\n            const restaurant = restaurants?.find(r => r.id === offer.restaurantId);\n            \n            return (\n              <Card key={offer.id}>\n                <CardContent className=\"p-6\">\n                  <div className=\"flex items-start justify-between\">\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center gap-3 mb-2\">\n                        <h3 className=\"font-semibold text-lg\">{offer.title}</h3>\n                        <Badge className={status.color}>\n                          {status.text}\n                        </Badge>\n                        <Badge variant=\"outline\" className=\"gap-1\">\n                          <Percent className=\"h-3 w-3\" />\n                          {getDiscountText(offer)}\n                        </Badge>\n                      </div>\n                      \n                      {offer.description && (\n                        <p className=\"text-muted-foreground mb-3\">{offer.description}</p>\n                      )}\n                      \n                      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm\">\n                        <div>\n                          <p className=\"font-medium text-muted-foreground\">Ø§Ù„Ù…Ø·Ø¹Ù…</p>\n                          <p>{restaurant ? restaurant.name : 'Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø·Ø§Ø¹Ù…'}</p>\n                        </div>\n                        \n                        <div>\n                          <p className=\"font-medium text-muted-foreground\">ÙØªØ±Ø© Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©</p>\n                          <p>{formatDate(offer.validFrom)} - {formatDate(offer.validUntil)}</p>\n                        </div>\n                        \n                        <div>\n                          <p className=\"font-medium text-muted-foreground\">Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ù„Ù„Ø·Ù„Ø¨</p>\n                          <p>{offer.minOrderAmount ? `${offer.minOrderAmount} Ø±ÙŠØ§Ù„` : 'Ø¨Ø¯ÙˆÙ† Ø­Ø¯ Ø£Ø¯Ù†Ù‰'}</p>\n                        </div>\n                        \n                        <div>\n                          <p className=\"font-medium text-muted-foreground\">Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…</p>\n                          <p>\n                            {offer.currentUsage || 0}\n                            {offer.usageLimit ? ` / ${offer.usageLimit}` : ' / ØºÙŠØ± Ù…Ø­Ø¯ÙˆØ¯'}\n                          </p>\n                        </div>\n                      </div>\n                    </div>\n                    \n                    <div className=\"flex gap-2\">\n                      <Button\n                        variant=\"outline\"\n                        size=\"sm\"\n                        onClick={() => startEdit(offer)}\n                        className=\"gap-2\"\n                      >\n                        <Edit className=\"h-4 w-4\" />\n                        ØªØ¹Ø¯ÙŠÙ„\n                      </Button>\n                      <Button\n                        variant=\"outline\"\n                        size=\"sm\"\n                        onClick={() => {\n                          if (window.confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø¹Ø±Ø¶ØŸ')) {\n                            deleteOfferMutation.mutate(offer.id);\n                          }\n                        }}\n                        className=\"gap-2 text-red-600 hover:text-red-700\"\n                      >\n                        <Trash2 className=\"h-4 w-4\" />\n                        Ø­Ø°Ù\n                      </Button>\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n            );\n          })\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default AdminSpecialOffers;","size_bytes":19761},"client/src/pages/Cart.tsx":{"content":"import { useState } from 'react';\nimport { useLocation } from 'wouter';\nimport { useMutation, useQueryClient } from '@tanstack/react-query';\nimport { ArrowRight, Trash2 } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { Input } from '@/components/ui/input';\nimport { Textarea } from '@/components/ui/textarea';\nimport { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\nimport { Label } from '@/components/ui/label';\nimport { useCart } from '../context/CartContext';\nimport { useToast } from '@/hooks/use-toast';\nimport { apiRequest } from '@/lib/queryClient';\nimport type { InsertOrder } from '@shared/schema';\n\nexport default function Cart() {\n  const [, setLocation] = useLocation();\n  const { items, removeItem, updateQuantity, clearCart, getSubtotal, getTotal } = useCart();\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n\n  const [orderForm, setOrderForm] = useState({\n    customerName: '',\n    customerPhone: '',\n    customerEmail: '',\n    deliveryAddress: '',\n    notes: '',\n    paymentMethod: 'cash',\n  });\n\n  const placeOrderMutation = useMutation({\n    mutationFn: async (orderData: InsertOrder) => {\n      const response = await apiRequest('POST', '/api/orders', orderData);\n      return response.json();\n    },\n    onSuccess: () => {\n      toast({\n        title: \"ØªÙ… ØªØ£ÙƒÙŠØ¯ Ø·Ù„Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­!\",\n        description: \"Ø³ÙŠØªÙ… Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ Ù‚Ø±ÙŠØ¨Ø§Ù‹\",\n      });\n      clearCart();\n      setLocation('/');\n    },\n    onError: () => {\n      toast({\n        title: \"Ø®Ø·Ø£ ÙÙŠ ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨\",\n        description: \"ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const handlePlaceOrder = () => {\n    if (!orderForm.customerName || !orderForm.customerPhone || !orderForm.deliveryAddress) {\n      toast({\n        title: \"Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù†Ø§Ù‚ØµØ©\",\n        description: \"ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    if (items.length === 0) {\n      toast({\n        title: \"Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©\",\n        description: \"Ø£Ø¶Ù Ø¨Ø¹Ø¶ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ù‚Ø¨Ù„ ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    const orderData: InsertOrder = {\n      ...orderForm,\n      items: JSON.stringify(items),\n      subtotal: getSubtotal().toString(),\n      deliveryFee: '5',\n      totalAmount: getTotal().toString(),\n      restaurantId: items[0]?.restaurantId || '',\n      status: 'pending',\n    };\n\n    placeOrderMutation.mutate(orderData);\n  };\n\n  // Ø¯Ø§Ù„Ø© Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø³Ø¹Ø± Ù…Ù† string Ø¥Ù„Ù‰ number Ù„Ù„Ø­Ø³Ø§Ø¨Ø§Øª\n  const parsePrice = (price: string | number): number => {\n    if (typeof price === 'number') return price;\n    const num = parseFloat(price);\n    return isNaN(num) ? 0 : num;\n  };\n\n  return (\n    <div>\n      {/* Header */}\n      <header className=\"bg-card border-b border-border p-4\">\n        <div className=\"flex items-center gap-3\">\n          <Button\n            variant=\"ghost\"\n            size=\"icon\"\n            onClick={() => setLocation('/')}\n            data-testid=\"button-cart-back\"\n          >\n            <ArrowRight className=\"h-5 w-5\" />\n          </Button>\n          <h2 className=\"text-xl font-bold text-foreground\">Ø§Ù„Ø³Ù„Ø©</h2>\n        </div>\n      </header>\n\n      <section className=\"p-4\">\n        {/* Cart Items */}\n        <div className=\"space-y-4 mb-6\">\n          {items.length === 0 ? (\n            <div className=\"text-center text-muted-foreground py-8\">\n              <i className=\"fas fa-shopping-cart text-4xl mb-4\"></i>\n              <p>Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©</p>\n              <p className=\"text-sm\">Ø£Ø¶Ù Ø¨Ø¹Ø¶ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ù„ØªØ¨Ø¯Ø£ Ø·Ù„Ø¨Ùƒ</p>\n            </div>\n          ) : (\n            items.map((item) => (\n              <Card key={item.id} className=\"p-4 flex justify-between items-center\">\n                <div className=\"flex-1\">\n                  <h4 className=\"font-medium text-foreground\" data-testid={`cart-item-name-${item.id}`}>\n                    {item.name}\n                  </h4>\n                  <p className=\"text-sm text-muted-foreground\">\n                    {item.price} Ø±ÙŠØ§Ù„ Ã— {item.quantity}\n                  </p>\n                  <div className=\"flex items-center gap-2 mt-2\">\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={() => updateQuantity(item.id, item.quantity - 1)}\n                      data-testid={`button-decrease-${item.id}`}\n                    >\n                      -\n                    </Button>\n                    <span className=\"px-3 py-1 bg-muted rounded\" data-testid={`quantity-${item.id}`}>\n                      {item.quantity}\n                    </span>\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={() => updateQuantity(item.id, item.quantity + 1)}\n                      data-testid={`button-increase-${item.id}`}\n                    >\n                      +\n                    </Button>\n                  </div>\n                </div>\n                <div className=\"flex items-center gap-3\">\n                  <span className=\"font-bold text-primary\" data-testid={`item-total-${item.id}`}>\n                    {parsePrice(item.price) * item.quantity} Ø±ÙŠØ§Ù„\n                  </span>\n                  <Button\n                    variant=\"ghost\"\n                    size=\"icon\"\n                    onClick={() => removeItem(item.id)}\n                    className=\"text-destructive hover:bg-destructive/10\"\n                    data-testid={`button-remove-${item.id}`}\n                  >\n                    <Trash2 className=\"h-4 w-4\" />\n                  </Button>\n                </div>\n              </Card>\n            ))\n          )}\n        </div>\n\n        {/* Order Summary and Form */}\n        {items.length > 0 && (\n          <Card className=\"p-4\">\n            <h3 className=\"font-bold text-foreground mb-4\">Ù…Ù„Ø®Øµ Ø§Ù„Ø·Ù„Ø¨</h3>\n            \n            {/* Order Summary */}\n            <div className=\"space-y-2 text-sm mb-6\">\n              <div className=\"flex justify-between\">\n                <span className=\"text-muted-foreground\">Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„ÙØ±Ø¹ÙŠ</span>\n                <span className=\"text-foreground\" data-testid=\"order-subtotal\">\n                  {getSubtotal()} Ø±ÙŠØ§Ù„\n                </span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-muted-foreground\">Ø±Ø³ÙˆÙ… Ø§Ù„ØªÙˆØµÙŠÙ„</span>\n                <span className=\"text-foreground\">5 Ø±ÙŠØ§Ù„</span>\n              </div>\n              <div className=\"border-t border-border pt-2 mt-2\">\n                <div className=\"flex justify-between font-bold\">\n                  <span className=\"text-foreground\">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</span>\n                  <span className=\"text-primary\" data-testid=\"order-total\">\n                    {getTotal()} Ø±ÙŠØ§Ù„\n                  </span>\n                </div>\n              </div>\n            </div>\n\n            {/* Order Form */}\n            <div className=\"space-y-4\">\n              <div>\n                <Label htmlFor=\"customerName\" className=\"text-foreground\">Ø§Ù„Ø§Ø³Ù… *</Label>\n                <Input\n                  id=\"customerName\"\n                  value={orderForm.customerName}\n                  onChange={(e) => setOrderForm(prev => ({ ...prev, customerName: e.target.value }))}\n                  placeholder=\"Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ\"\n                  data-testid=\"input-customer-name\"\n                />\n              </div>\n\n              <div>\n                <Label htmlFor=\"customerPhone\" className=\"text-foreground\">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ *</Label>\n                <Input\n                  id=\"customerPhone\"\n                  value={orderForm.customerPhone}\n                  onChange={(e) => setOrderForm(prev => ({ ...prev, customerPhone: e.target.value }))}\n                  placeholder=\"Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ù‡Ø§ØªÙÙƒ\"\n                  data-testid=\"input-customer-phone\"\n                />\n              </div>\n\n              <div>\n                <Label htmlFor=\"customerEmail\" className=\"text-foreground\">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</Label>\n                <Input\n                  id=\"customerEmail\"\n                  type=\"email\"\n                  value={orderForm.customerEmail}\n                  onChange={(e) => setOrderForm(prev => ({ ...prev, customerEmail: e.target.value }))}\n                  placeholder=\"Ø£Ø¯Ø®Ù„ Ø¨Ø±ÙŠØ¯Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)\"\n                  data-testid=\"input-customer-email\"\n                />\n              </div>\n\n              <div>\n                <Label htmlFor=\"deliveryAddress\" className=\"text-foreground\">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØªÙˆØµÙŠÙ„ *</Label>\n                <Input\n                  id=\"deliveryAddress\"\n                  value={orderForm.deliveryAddress}\n                  onChange={(e) => setOrderForm(prev => ({ ...prev, deliveryAddress: e.target.value }))}\n                  placeholder=\"Ø£Ø¯Ø®Ù„ Ø¹Ù†ÙˆØ§Ù†Ùƒ Ø¨Ø§Ù„ØªÙØµÙŠÙ„\"\n                  data-testid=\"input-delivery-address\"\n                />\n              </div>\n\n              <div>\n                <Label htmlFor=\"notes\" className=\"text-foreground\">Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø§Ù„Ø·Ù„Ø¨</Label>\n                <Textarea\n                  id=\"notes\"\n                  value={orderForm.notes}\n                  onChange={(e) => setOrderForm(prev => ({ ...prev, notes: e.target.value }))}\n                  placeholder=\"Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)\"\n                  className=\"h-20 resize-none\"\n                  data-testid=\"input-notes\"\n                />\n              </div>\n\n              <div>\n                <Label className=\"text-foreground\">Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹</Label>\n                <RadioGroup\n                  value={orderForm.paymentMethod}\n                  onValueChange={(value) => setOrderForm(prev => ({ ...prev, paymentMethod: value }))}\n                  className=\"space-y-2 mt-2\"\n                >\n                  <div className=\"flex items-center space-x-2 space-x-reverse p-3 bg-muted rounded-lg\">\n                    <RadioGroupItem value=\"cash\" id=\"cash\" data-testid=\"payment-cash\" />\n                    <Label htmlFor=\"cash\" className=\"flex items-center gap-3 cursor-pointer\">\n                      <i className=\"fas fa-money-bill-wave text-muted-foreground\"></i>\n                      <span className=\"text-foreground\">Ø§Ù„Ø¯ÙØ¹ Ø¹Ù†Ø¯ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…</span>\n                    </Label>\n                  </div>\n                  <div className=\"flex items-center space-x-2 space-x-reverse p-3 bg-muted rounded-lg\">\n                    <RadioGroupItem value=\"card\" id=\"card\" data-testid=\"payment-card\" />\n                    <Label htmlFor=\"card\" className=\"flex items-center gap-3 cursor-pointer\">\n                      <i className=\"fas fa-credit-card text-muted-foreground\"></i>\n                      <span className=\"text-foreground\">Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</span>\n                    </Label>\n                  </div>\n                  <div className=\"flex items-center space-x-2 space-x-reverse p-3 bg-muted rounded-lg\">\n                    <RadioGroupItem value=\"wallet\" id=\"wallet\" data-testid=\"payment-wallet\" />\n                    <Label htmlFor=\"wallet\" className=\"flex items-center gap-3 cursor-pointer\">\n                      <i className=\"fas fa-wallet text-muted-foreground\"></i>\n                      <span className=\"text-foreground\">Ø§Ù„Ø¯ÙØ¹ Ù…Ù† Ø§Ù„Ø±ØµÙŠØ¯</span>\n                    </Label>\n                  </div>\n                </RadioGroup>\n              </div>\n            </div>\n\n            <Button\n              onClick={handlePlaceOrder}\n              disabled={placeOrderMutation.isPending}\n              className=\"w-full mt-6 py-4 text-lg font-bold\"\n              data-testid=\"button-place-order\"\n            >\n              {placeOrderMutation.isPending ? 'Ø¬Ø§Ø±ÙŠ ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨...' : 'ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨'}\n            </Button>\n          </Card>\n        )}\n      </section>\n    </div>\n  );\n}","size_bytes":12279},"client/src/pages/CartPage.tsx":{"content":"import { useState } from 'react';\nimport { useLocation } from 'wouter';\nimport { useMutation, useQueryClient } from '@tanstack/react-query';\nimport { ArrowRight, Trash2 } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { Input } from '@/components/ui/input';\nimport { Textarea } from '@/components/ui/textarea';\nimport { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\nimport { Label } from '@/components/ui/label';\nimport { useCart } from '../context/CartContext';\nimport { useToast } from '@/hooks/use-toast';\nimport { apiRequest } from '@/lib/queryClient';\nimport type { NewOrder } from '@shared/schema';\n\nexport default function CartPage() {\n  const [, setLocation] = useLocation();\n  const { items, removeItem, updateQuantity, clearCart, getSubtotal, getTotal } = useCart();\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n\n  const [orderForm, setOrderForm] = useState({\n    customerName: '',\n    customerPhone: '',\n    customerEmail: '',\n    deliveryAddress: '',\n    notes: '',\n    paymentMethod: 'cash',\n  });\n\n  const placeOrderMutation = useMutation({\n    mutationFn: async (orderData: NewOrder) => {\n      const response = await apiRequest('POST', '/api/orders', orderData);\n      return response.json();\n    },\n    onSuccess: () => {\n      toast({\n        title: \"ØªÙ… ØªØ£ÙƒÙŠØ¯ Ø·Ù„Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­!\",\n        description: \"Ø³ÙŠØªÙ… Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ Ù‚Ø±ÙŠØ¨Ø§Ù‹\",\n      });\n      clearCart();\n      setLocation('/');\n    },\n    onError: () => {\n      toast({\n        title: \"Ø®Ø·Ø£ ÙÙŠ ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨\",\n        description: \"ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const handlePlaceOrder = () => {\n    if (!orderForm.customerName || !orderForm.customerPhone || !orderForm.deliveryAddress) {\n      toast({\n        title: \"Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù†Ø§Ù‚ØµØ©\",\n        description: \"ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    if (items.length === 0) {\n      toast({\n        title: \"Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©\",\n        description: \"Ø£Ø¶Ù Ø¨Ø¹Ø¶ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ù‚Ø¨Ù„ ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    const orderData: NewOrder = {\n      orderNumber: `ORD${Date.now()}`,\n      customerName: orderForm.customerName,\n      customerPhone: orderForm.customerPhone,\n      customerEmail: orderForm.customerEmail || undefined,\n      deliveryAddress: { address: orderForm.deliveryAddress },\n      notes: orderForm.notes || undefined,\n      paymentMethod: orderForm.paymentMethod,\n      items: items,\n      subtotal: getSubtotal().toString(),\n      deliveryFee: \"5\",\n      total: getTotal().toString(),\n      restaurantId: items[0]?.restaurantId || undefined,\n      status: 'pending',\n    };\n\n    placeOrderMutation.mutate(orderData);\n  };\n\n  // Ø¯Ø§Ù„Ø© Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø³Ø¹Ø± Ù…Ù† string Ø¥Ù„Ù‰ number Ù„Ù„Ø­Ø³Ø§Ø¨Ø§Øª\n  const parsePrice = (price: string | number): number => {\n    if (typeof price === 'number') return price;\n    const num = parseFloat(price);\n    return isNaN(num) ? 0 : num;\n  };\n\n  return (\n    <div>\n      {/* Header */}\n      <header className=\"bg-card border-b border-border p-4\">\n        <div className=\"flex items-center gap-3\">\n          <Button\n            variant=\"ghost\"\n            size=\"icon\"\n            onClick={() => setLocation('/')}\n            data-testid=\"button-cart-back\"\n          >\n            <ArrowRight className=\"h-5 w-5\" />\n          </Button>\n          <h2 className=\"text-xl font-bold text-foreground\">Ø§Ù„Ø³Ù„Ø©</h2>\n        </div>\n      </header>\n\n      <section className=\"p-4\">\n        {/* Cart Items */}\n        <div className=\"space-y-4 mb-6\">\n          {items.length === 0 ? (\n            <div className=\"text-center text-muted-foreground py-8\">\n              <i className=\"fas fa-shopping-cart text-4xl mb-4\"></i>\n              <p>Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©</p>\n              <p className=\"text-sm\">Ø£Ø¶Ù Ø¨Ø¹Ø¶ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ù„ØªØ¨Ø¯Ø£ Ø·Ù„Ø¨Ùƒ</p>\n            </div>\n          ) : (\n            items.map((item) => (\n              <Card key={item.id} className=\"p-4 flex justify-between items-center\">\n                <div className=\"flex-1\">\n                  <h4 className=\"font-medium text-foreground\" data-testid={`cart-item-name-${item.id}`}>\n                    {item.name}\n                  </h4>\n                  <p className=\"text-sm text-muted-foreground\">\n                    {item.price} Ø±ÙŠØ§Ù„ Ã— {item.quantity}\n                  </p>\n                  <div className=\"flex items-center gap-2 mt-2\">\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={() => updateQuantity(item.id, item.quantity - 1)}\n                      data-testid={`button-decrease-${item.id}`}\n                    >\n                      -\n                    </Button>\n                    <span className=\"px-3 py-1 bg-muted rounded\" data-testid={`quantity-${item.id}`}>\n                      {item.quantity}\n                    </span>\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={() => updateQuantity(item.id, item.quantity + 1)}\n                      data-testid={`button-increase-${item.id}`}\n                    >\n                      +\n                    </Button>\n                  </div>\n                </div>\n                <div className=\"flex items-center gap-3\">\n                  <span className=\"font-bold text-primary\" data-testid={`item-total-${item.id}`}>\n                    {parsePrice(item.price) * item.quantity} Ø±ÙŠØ§Ù„\n                  </span>\n                  <Button\n                    variant=\"ghost\"\n                    size=\"icon\"\n                    onClick={() => removeItem(item.id)}\n                    className=\"text-destructive hover:bg-destructive/10\"\n                    data-testid={`button-remove-${item.id}`}\n                  >\n                    <Trash2 className=\"h-4 w-4\" />\n                  </Button>\n                </div>\n              </Card>\n            ))\n          )}\n        </div>\n\n        {/* Order Summary and Form */}\n        {items.length > 0 && (\n          <Card className=\"p-4\">\n            <h3 className=\"font-bold text-foreground mb-4\">Ù…Ù„Ø®Øµ Ø§Ù„Ø·Ù„Ø¨</h3>\n            \n            {/* Order Summary */}\n            <div className=\"space-y-2 text-sm mb-6\">\n              <div className=\"flex justify-between\">\n                <span className=\"text-muted-foreground\">Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„ÙØ±Ø¹ÙŠ</span>\n                <span className=\"text-foreground\" data-testid=\"order-subtotal\">\n                  {getSubtotal()} Ø±ÙŠØ§Ù„\n                </span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-muted-foreground\">Ø±Ø³ÙˆÙ… Ø§Ù„ØªÙˆØµÙŠÙ„</span>\n                <span className=\"text-foreground\">5 Ø±ÙŠØ§Ù„</span>\n              </div>\n              <div className=\"border-t border-border pt-2 mt-2\">\n                <div className=\"flex justify-between font-bold\">\n                  <span className=\"text-foreground\">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</span>\n                  <span className=\"text-primary\" data-testid=\"order-total\">\n                    {getTotal()} Ø±ÙŠØ§Ù„\n                  </span>\n                </div>\n              </div>\n            </div>\n\n            {/* Order Form */}\n            <div className=\"space-y-4\">\n              <div>\n                <Label htmlFor=\"customerName\" className=\"text-foreground\">Ø§Ù„Ø§Ø³Ù… *</Label>\n                <Input\n                  id=\"customerName\"\n                  value={orderForm.customerName}\n                  onChange={(e) => setOrderForm(prev => ({ ...prev, customerName: e.target.value }))}\n                  placeholder=\"Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ\"\n                  data-testid=\"input-customer-name\"\n                />\n              </div>\n\n              <div>\n                <Label htmlFor=\"customerPhone\" className=\"text-foreground\">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ *</Label>\n                <Input\n                  id=\"customerPhone\"\n                  value={orderForm.customerPhone}\n                  onChange={(e) => setOrderForm(prev => ({ ...prev, customerPhone: e.target.value }))}\n                  placeholder=\"Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ù‡Ø§ØªÙÙƒ\"\n                  data-testid=\"input-customer-phone\"\n                />\n              </div>\n\n              <div>\n                <Label htmlFor=\"customerEmail\" className=\"text-foreground\">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</Label>\n                <Input\n                  id=\"customerEmail\"\n                  type=\"email\"\n                  value={orderForm.customerEmail}\n                  onChange={(e) => setOrderForm(prev => ({ ...prev, customerEmail: e.target.value }))}\n                  placeholder=\"Ø£Ø¯Ø®Ù„ Ø¨Ø±ÙŠØ¯Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)\"\n                  data-testid=\"input-customer-email\"\n                />\n              </div>\n\n              <div>\n                <Label htmlFor=\"deliveryAddress\" className=\"text-foreground\">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØªÙˆØµÙŠÙ„ *</Label>\n                <Input\n                  id=\"deliveryAddress\"\n                  value={orderForm.deliveryAddress}\n                  onChange={(e) => setOrderForm(prev => ({ ...prev, deliveryAddress: e.target.value }))}\n                  placeholder=\"Ø£Ø¯Ø®Ù„ Ø¹Ù†ÙˆØ§Ù†Ùƒ Ø¨Ø§Ù„ØªÙØµÙŠÙ„\"\n                  data-testid=\"input-delivery-address\"\n                />\n              </div>\n\n              <div>\n                <Label htmlFor=\"notes\" className=\"text-foreground\">Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø§Ù„Ø·Ù„Ø¨</Label>\n                <Textarea\n                  id=\"notes\"\n                  value={orderForm.notes}\n                  onChange={(e) => setOrderForm(prev => ({ ...prev, notes: e.target.value }))}\n                  placeholder=\"Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)\"\n                  className=\"h-20 resize-none\"\n                  data-testid=\"input-notes\"\n                />\n              </div>\n\n              <div>\n                <Label className=\"text-foreground\">Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹</Label>\n                <RadioGroup\n                  value={orderForm.paymentMethod}\n                  onValueChange={(value) => setOrderForm(prev => ({ ...prev, paymentMethod: value }))}\n                  className=\"space-y-2 mt-2\"\n                >\n                  <div className=\"flex items-center space-x-2 space-x-reverse p-3 bg-muted rounded-lg\">\n                    <RadioGroupItem value=\"cash\" id=\"cash\" data-testid=\"payment-cash\" />\n                    <Label htmlFor=\"cash\" className=\"flex items-center gap-3 cursor-pointer\">\n                      <i className=\"fas fa-money-bill-wave text-muted-foreground\"></i>\n                      <span className=\"text-foreground\">Ø§Ù„Ø¯ÙØ¹ Ø¹Ù†Ø¯ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…</span>\n                    </Label>\n                  </div>\n                  <div className=\"flex items-center space-x-2 space-x-reverse p-3 bg-muted rounded-lg\">\n                    <RadioGroupItem value=\"card\" id=\"card\" data-testid=\"payment-card\" />\n                    <Label htmlFor=\"card\" className=\"flex items-center gap-3 cursor-pointer\">\n                      <i className=\"fas fa-credit-card text-muted-foreground\"></i>\n                      <span className=\"text-foreground\">Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</span>\n                    </Label>\n                  </div>\n                  <div className=\"flex items-center space-x-2 space-x-reverse p-3 bg-muted rounded-lg\">\n                    <RadioGroupItem value=\"wallet\" id=\"wallet\" data-testid=\"payment-wallet\" />\n                    <Label htmlFor=\"wallet\" className=\"flex items-center gap-3 cursor-pointer\">\n                      <i className=\"fas fa-wallet text-muted-foreground\"></i>\n                      <span className=\"text-foreground\">Ø§Ù„Ø¯ÙØ¹ Ù…Ù† Ø§Ù„Ø±ØµÙŠØ¯</span>\n                    </Label>\n                  </div>\n                </RadioGroup>\n              </div>\n            </div>\n\n            <Button\n              onClick={handlePlaceOrder}\n              disabled={placeOrderMutation.isPending}\n              className=\"w-full mt-6 py-4 text-lg font-bold\"\n              data-testid=\"button-place-order\"\n            >\n              {placeOrderMutation.isPending ? 'Ø¬Ø§Ø±ÙŠ ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨...' : 'ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨'}\n            </Button>\n          </Card>\n        )}\n      </section>\n    </div>\n  );\n}","size_bytes":12579},"client/src/pages/Delivery.tsx":{"content":"import { useState } from 'react';\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport { MapPin, Package, Phone, Check, X, Navigation, DollarSign, Clock, User, Star } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Switch } from '@/components/ui/switch';\nimport { Label } from '@/components/ui/label';\nimport { useToast } from '@/hooks/use-toast';\nimport { apiRequest } from '@/lib/queryClient';\nimport type { Order, Driver } from '@shared/schema';\n\nexport default function Delivery() {\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n  \n  // Mock driver data - in real app this would come from authentication\n  const [currentDriver] = useState<Driver>({\n    id: '1',\n    name: 'Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯',\n    phone: '+967771234567',\n    password: '$2b$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi',\n    isAvailable: true,\n    isActive: true,\n    currentLocation: 'ØµÙ†Ø¹Ø§Ø¡ØŒ Ø´Ø§Ø±Ø¹ Ø§Ù„Ø²Ø¨ÙŠØ±ÙŠ',\n    earnings: '2500',\n    createdAt: new Date(),\n  });\n\n  const [driverStatus, setDriverStatus] = useState(currentDriver.isAvailable);\n\n  const { data: availableOrders, isLoading } = useQuery<Order[]>({\n    queryKey: ['/api/orders', { status: 'confirmed' }],\n  });\n\n  const { data: activeOrders } = useQuery<Order[]>({\n    queryKey: ['/api/orders', { driverId: currentDriver.id, status: 'on_way' }],\n  });\n\n  const acceptOrderMutation = useMutation({\n    mutationFn: async (orderId: string) => {\n      const response = await apiRequest('PUT', `/api/orders/${orderId}`, {\n        status: 'on_way',\n        driverId: currentDriver.id,\n      });\n      return response.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/orders'] });\n      toast({\n        title: \"ØªÙ… Ù‚Ø¨ÙˆÙ„ Ø§Ù„Ø·Ù„Ø¨\",\n        description: \"ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¢Ù† Ø¨Ø¯Ø¡ Ø±Ø­Ù„Ø© Ø§Ù„ØªÙˆØµÙŠÙ„\",\n      });\n    },\n  });\n\n  const completeOrderMutation = useMutation({\n    mutationFn: async (orderId: string) => {\n      const response = await apiRequest('PUT', `/api/orders/${orderId}`, {\n        status: 'delivered',\n      });\n      return response.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/orders'] });\n      toast({\n        title: \"ØªÙ… ØªØ³Ù„ÙŠÙ… Ø§Ù„Ø·Ù„Ø¨\",\n        description: \"ØªÙ… ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­\",\n      });\n    },\n  });\n\n  const updateDriverStatus = useMutation({\n    mutationFn: async (isAvailable: boolean) => {\n      const response = await apiRequest('PUT', `/api/drivers/${currentDriver.id}`, {\n        isAvailable,\n      });\n      return response.json();\n    },\n    onSuccess: (_, isAvailable: boolean) => {\n      setDriverStatus(isAvailable);\n      toast({\n        title: isAvailable ? \"Ø£Ù†Øª Ù…ØªØ§Ø­ Ø§Ù„Ø¢Ù†\" : \"Ø£Ù†Øª ØºÙŠØ± Ù…ØªØ§Ø­\",\n        description: isAvailable ? \"Ø³ØªØªÙ„Ù‚Ù‰ Ø·Ù„Ø¨Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©\" : \"Ù„Ù† ØªØªÙ„Ù‚Ù‰ Ø·Ù„Ø¨Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©\",\n      });\n    },\n  });\n\n  const getOrderItems = (itemsString: string) => {\n    try {\n      return JSON.parse(itemsString);\n    } catch {\n      return [];\n    }\n  };\n\n  // Ø¯Ø§Ù„Ø© Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ø±Ù‚Ù…ÙŠØ© Ù…Ù† string Ø¥Ù„Ù‰ number\n  const parseDecimal = (value: string | null): number => {\n    if (!value) return 0;\n    const num = parseFloat(value);\n    return isNaN(num) ? 0 : num;\n  };\n\n  const todayEarnings = 450; // Mock data\n  const todayOrders = 8; // Mock data\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      {/* Header */}\n      <header className=\"bg-card border-b border-border p-4 sticky top-0 z-40\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-12 h-12 bg-primary rounded-full flex items-center justify-center\">\n              <User className=\"h-6 w-6 text-primary-foreground\" />\n            </div>\n            <div>\n              <h1 className=\"text-lg font-bold text-foreground\">{currentDriver.name}</h1>\n              <p className=\"text-sm text-muted-foreground\">Ø³Ø§Ø¦Ù‚ ØªÙˆØµÙŠÙ„</p>\n            </div>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <Label htmlFor=\"driver-status\" className=\"text-sm text-foreground\">Ù…ØªØ§Ø­</Label>\n            <Switch\n              id=\"driver-status\"\n              checked={driverStatus}\n              onCheckedChange={(checked) => updateDriverStatus.mutate(checked)}\n              data-testid=\"switch-driver-status\"\n            />\n          </div>\n        </div>\n      </header>\n\n      <div className=\"p-4 space-y-6\">\n        {/* Today's Stats */}\n        <div className=\"grid grid-cols-2 gap-4\">\n          <Card>\n            <CardContent className=\"p-4 text-center\">\n              <DollarSign className=\"h-8 w-8 text-green-500 mx-auto mb-2\" />\n              <h3 className=\"text-lg font-bold text-foreground\" data-testid=\"today-earnings\">\n                {todayEarnings} Ø±ÙŠØ§Ù„\n              </h3>\n              <p className=\"text-sm text-muted-foreground\">Ø£Ø±Ø¨Ø§Ø­ Ø§Ù„ÙŠÙˆÙ…</p>\n            </CardContent>\n          </Card>\n          \n          <Card>\n            <CardContent className=\"p-4 text-center\">\n              <Package className=\"h-8 w-8 text-primary mx-auto mb-2\" />\n              <h3 className=\"text-lg font-bold text-foreground\" data-testid=\"today-orders\">\n                {todayOrders}\n              </h3>\n              <p className=\"text-sm text-muted-foreground\">Ø·Ù„Ø¨Ø§Øª Ø§Ù„ÙŠÙˆÙ…</p>\n            </CardContent>\n          </Card>\n        </div>\n\n        {/* Active Orders */}\n        {activeOrders && activeOrders.length > 0 && (\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"flex items-center gap-2\">\n                <Package className=\"h-5 w-5 text-primary\" />\n                Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ©\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              {activeOrders.map((order) => (\n                <div key={order.id} className=\"border border-border rounded-lg p-4\">\n                  <div className=\"flex justify-between items-start mb-3\">\n                    <div>\n                      <h4 className=\"font-bold text-foreground\">Ø·Ù„Ø¨ #{order.id}</h4>\n                      <p className=\"text-sm text-muted-foreground\">{order.customerName}</p>\n                    </div>\n                    <Badge className=\"bg-orange-500 hover:bg-orange-500\">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªÙˆØµÙŠÙ„</Badge>\n                  </div>\n                  \n                  <div className=\"space-y-2 mb-4\">\n                    <div className=\"flex items-center gap-2\">\n                      <MapPin className=\"h-4 w-4 text-muted-foreground\" />\n                      <span className=\"text-sm text-foreground\">{order.deliveryAddress}</span>\n                    </div>\n                    <div className=\"flex items-center gap-2\">\n                      <Phone className=\"h-4 w-4 text-muted-foreground\" />\n                      <span className=\"text-sm text-foreground\">{order.customerPhone}</span>\n                    </div>\n                  </div>\n                  \n                  <div className=\"flex gap-2\">\n                    <Button \n                      className=\"flex-1 gap-2\"\n                      onClick={() => window.open(`tel:${order.customerPhone}`)}\n                      data-testid={`button-call-${order.id}`}\n                    >\n                      <Phone className=\"h-4 w-4\" />\n                      Ø§ØªØµØ§Ù„\n                    </Button>\n                    <Button \n                      className=\"flex-1 gap-2\"\n                      onClick={() => window.open(`https://maps.google.com/?q=${encodeURIComponent(order.deliveryAddress)}`)}\n                      data-testid={`button-navigate-${order.id}`}\n                    >\n                      <Navigation className=\"h-4 w-4\" />\n                      Ø§Ù„ØªÙ†Ù‚Ù„\n                    </Button>\n                    <Button \n                      variant=\"outline\"\n                      className=\"flex-1 gap-2\"\n                      onClick={() => completeOrderMutation.mutate(order.id)}\n                      disabled={completeOrderMutation.isPending}\n                      data-testid={`button-complete-${order.id}`}\n                    >\n                      <Check className=\"h-4 w-4\" />\n                      ØªÙ… Ø§Ù„ØªØ³Ù„ÙŠÙ…\n                    </Button>\n                  </div>\n                </div>\n              ))}\n            </CardContent>\n          </Card>\n        )}\n\n        {/* Available Orders */}\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <Clock className=\"h-5 w-5 text-primary\" />\n              Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            {!driverStatus ? (\n              <div className=\"text-center py-8\">\n                <Clock className=\"h-12 w-12 text-muted-foreground mx-auto mb-4\" />\n                <p className=\"text-muted-foreground\">Ù‚Ù… Ø¨ØªÙØ¹ÙŠÙ„ Ø­Ø§Ù„Ø© Ø§Ù„ØªÙˆÙØ± Ù„Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨Ø§Øª</p>\n              </div>\n            ) : isLoading ? (\n              <div className=\"space-y-4\">\n                {[...Array(3)].map((_, i) => (\n                  <div key={i} className=\"border border-border rounded-lg p-4 animate-pulse\">\n                    <div className=\"h-4 bg-muted rounded w-3/4 mb-2\" />\n                    <div className=\"h-3 bg-muted rounded w-1/2 mb-3\" />\n                    <div className=\"h-3 bg-muted rounded w-2/3\" />\n                  </div>\n                ))}\n              </div>\n            ) : availableOrders && availableOrders.length > 0 ? (\n              <div className=\"space-y-4\">\n                {availableOrders.map((order) => {\n                  const items = getOrderItems(order.items);\n                  const totalAmount = parseDecimal(order.totalAmount);\n                  const commission = Math.round(totalAmount * 0.1);\n                  \n                  return (\n                    <div key={order.id} className=\"border border-border rounded-lg p-4\">\n                      <div className=\"flex justify-between items-start mb-3\">\n                        <div>\n                          <h4 className=\"font-bold text-foreground\">Ø·Ù„Ø¨ #{order.id}</h4>\n                          <p className=\"text-sm text-muted-foreground\">{order.customerName}</p>\n                        </div>\n                        <div className=\"text-right\">\n                          <p className=\"font-bold text-primary\">{totalAmount} Ø±ÙŠØ§Ù„</p>\n                          <p className=\"text-sm text-muted-foreground\">Ø§Ù„Ø¹Ù…ÙˆÙ„Ø©: {commission} Ø±ÙŠØ§Ù„</p>\n                        </div>\n                      </div>\n                      \n                      <div className=\"space-y-2 mb-4\">\n                        <div className=\"flex items-center gap-2\">\n                          <MapPin className=\"h-4 w-4 text-muted-foreground\" />\n                          <span className=\"text-sm text-foreground\">{order.deliveryAddress}</span>\n                        </div>\n                        <div className=\"flex items-center gap-2\">\n                          <Package className=\"h-4 w-4 text-muted-foreground\" />\n                          <span className=\"text-sm text-foreground\">\n                            {items.length} Ø¹Ù†ØµØ± - {order.paymentMethod === 'cash' ? 'Ø¯ÙØ¹ Ù†Ù‚Ø¯ÙŠ' : 'Ù…Ø¯ÙÙˆØ¹ Ù…Ø³Ø¨Ù‚Ø§Ù‹'}\n                          </span>\n                        </div>\n                      </div>\n                      \n                      <div className=\"flex gap-2\">\n                        <Button \n                          className=\"flex-1\"\n                          onClick={() => acceptOrderMutation.mutate(order.id)}\n                          disabled={acceptOrderMutation.isPending}\n                          data-testid={`button-accept-${order.id}`}\n                        >\n                          Ù‚Ø¨ÙˆÙ„ Ø§Ù„Ø·Ù„Ø¨\n                        </Button>\n                        <Button \n                          variant=\"outline\"\n                          onClick={() => window.open(`https://maps.google.com/?q=${encodeURIComponent(order.deliveryAddress)}`)}\n                          data-testid={`button-view-location-${order.id}`}\n                        >\n                          Ø¹Ø±Ø¶ Ø§Ù„Ù…ÙˆÙ‚Ø¹\n                        </Button>\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n            ) : (\n              <div className=\"text-center py-8\">\n                <Package className=\"h-12 w-12 text-muted-foreground mx-auto mb-4\" />\n                <p className=\"text-muted-foreground\">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª Ù…ØªØ§Ø­Ø© ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø­Ø§Ù„ÙŠ</p>\n                <p className=\"text-sm text-muted-foreground mt-2\">Ø³ÙŠØªÙ… Ø¥Ø´Ø¹Ø§Ø±Ùƒ Ø¹Ù†Ø¯ ØªÙˆÙØ± Ø·Ù„Ø¨Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©</p>\n              </div>\n            )}\n          </CardContent>\n        </Card>\n\n        {/* Earnings Summary */}\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <Star className=\"h-5 w-5 text-primary\" />\n              Ù…Ù„Ø®Øµ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"grid grid-cols-2 gap-4 text-center\">\n              <div>\n                <p className=\"text-sm text-muted-foreground\">Ù‡Ø°Ø§ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹</p>\n                <p className=\"text-lg font-bold text-foreground\">1,250 Ø±ÙŠØ§Ù„</p>\n              </div>\n              <div>\n                <p className=\"text-sm text-muted-foreground\">Ù‡Ø°Ø§ Ø§Ù„Ø´Ù‡Ø±</p>\n                <p className=\"text-lg font-bold text-foreground\">4,800 Ø±ÙŠØ§Ù„</p>\n              </div>\n              <div>\n                <p className=\"text-sm text-muted-foreground\">Ù…ØªÙˆØ³Ø· Ø§Ù„Ø·Ù„Ø¨</p>\n                <p className=\"text-lg font-bold text-foreground\">85 Ø±ÙŠØ§Ù„</p>\n              </div>\n              <div>\n                <p className=\"text-sm text-muted-foreground\">Ø§Ù„ØªÙ‚ÙŠÙŠÙ…</p>\n                <p className=\"text-lg font-bold text-foreground\">4.9 â­</p>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  );\n}","size_bytes":14449},"client/src/pages/DriverApp.tsx":{"content":"import React, { useState, useEffect } from 'react';\nimport { MapPin, Phone, DollarSign, Clock, CheckCircle, XCircle, Bell } from 'lucide-react';\n\ninterface Order {\n  id: string;\n  customerName: string;\n  customerPhone: string;\n  deliveryAddress: string;\n  notes?: string;\n  totalAmount: string;\n  estimatedTime: string;\n  status: string;\n  items: string;\n  createdAt: string;\n}\n\ninterface Driver {\n  id: string;\n  name: string;\n  phone: string;\n  earnings: string;\n  isAvailable: boolean;\n}\n\ninterface Notification {\n  id: string;\n  title: string;\n  message: string;\n  isRead: boolean;\n  createdAt: string;\n}\n\nexport default function DriverApp() {\n  const [availableOrders, setAvailableOrders] = useState<Order[]>([]);\n  const [myOrders, setMyOrders] = useState<Order[]>([]);\n  const [notifications, setNotifications] = useState<Notification[]>([]);\n  const [driver, setDriver] = useState<Driver | null>(null);\n  const [activeTab, setActiveTab] = useState<'available' | 'myorders' | 'profile'>('available');\n  const [isLoading, setIsLoading] = useState(false);\n\n  // Mock driver ID - ÙÙŠ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ Ø³ÙŠØ£ØªÙŠ Ù…Ù† ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„\n  const driverId = 'a4538fc1-06db-416f-b359-38d8e79b0809';\n\n  useEffect(() => {\n    fetchDriverInfo();\n    fetchAvailableOrders();\n    fetchMyOrders();\n    fetchNotifications();\n    \n    // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙƒÙ„ 30 Ø«Ø§Ù†ÙŠØ©\n    const interval = setInterval(() => {\n      fetchAvailableOrders();\n      fetchMyOrders();\n      fetchNotifications();\n    }, 30000);\n\n    return () => clearInterval(interval);\n  }, []);\n\n  const fetchDriverInfo = async () => {\n    try {\n      const response = await fetch(`/api/drivers/${driverId}`);\n      const data = await response.json();\n      setDriver(data);\n    } catch (error) {\n      console.error('Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø³Ø§Ø¦Ù‚:', error);\n    }\n  };\n\n  const fetchAvailableOrders = async () => {\n    try {\n      const response = await fetch(`/api/drivers/${driverId}/available-orders`);\n      const data = await response.json();\n      setAvailableOrders(data);\n    } catch (error) {\n      console.error('Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©:', error);\n    }\n  };\n\n  const fetchMyOrders = async () => {\n    try {\n      const response = await fetch(`/api/orders?driverId=${driverId}`);\n      const data = await response.json();\n      setMyOrders(data.filter((order: Order) => order.status !== 'delivered'));\n    } catch (error) {\n      console.error('Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø·Ù„Ø¨Ø§ØªÙŠ:', error);\n    }\n  };\n\n  const fetchNotifications = async () => {\n    try {\n      const response = await fetch(`/api/notifications?recipientType=driver&recipientId=${driverId}&unread=true`);\n      const data = await response.json();\n      setNotifications(data);\n    } catch (error) {\n      console.error('Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª:', error);\n    }\n  };\n\n  const acceptOrder = async (orderId: string) => {\n    setIsLoading(true);\n    try {\n      const response = await fetch(`/api/orders/${orderId}/assign-driver`, {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ driverId })\n      });\n      \n      if (response.ok) {\n        fetchAvailableOrders();\n        fetchMyOrders();\n      }\n    } catch (error) {\n      console.error('Ø®Ø·Ø£ ÙÙŠ Ù‚Ø¨ÙˆÙ„ Ø§Ù„Ø·Ù„Ø¨:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const updateOrderStatus = async (orderId: string, status: string) => {\n    try {\n      const response = await fetch(`/api/orders/${orderId}`, {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ status })\n      });\n      \n      if (response.ok) {\n        fetchMyOrders();\n      }\n    } catch (error) {\n      console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨:', error);\n    }\n  };\n\n  const toggleAvailability = async () => {\n    if (!driver) return;\n    \n    try {\n      const response = await fetch(`/api/drivers/${driverId}`, {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ isAvailable: !driver.isAvailable })\n      });\n      \n      if (response.ok) {\n        fetchDriverInfo();\n      }\n    } catch (error) {\n      console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„ØªÙˆÙØ±:', error);\n    }\n  };\n\n  const parseItems = (itemsJson: string) => {\n    try {\n      return JSON.parse(itemsJson);\n    } catch {\n      return [];\n    }\n  };\n\n  return (\n    <div className=\"max-w-4xl mx-auto p-4\">\n      {/* Header */}\n      <div className=\"bg-white rounded-lg shadow-md p-6 mb-6\">\n        <div className=\"flex justify-between items-center\">\n          <div>\n            <h1 className=\"text-2xl font-bold text-gray-800\">Ù…Ø±Ø­Ø¨Ø§Ù‹ {driver?.name}</h1>\n            <p className=\"text-gray-600\">Ø£Ø±Ø¨Ø§Ø­Ùƒ Ø§Ù„ÙŠÙˆÙ…: {driver?.earnings} Ø´ÙŠÙƒÙ„</p>\n          </div>\n          <div className=\"flex items-center gap-4\">\n            <div className=\"relative\">\n              <Bell className=\"text-gray-600\" size={24} />\n              {notifications.length > 0 && (\n                <span className=\"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center\">\n                  {notifications.length}\n                </span>\n              )}\n            </div>\n            <button\n              onClick={toggleAvailability}\n              className={`px-4 py-2 rounded-lg font-semibold ${\n                driver?.isAvailable\n                  ? 'bg-green-600 text-white hover:bg-green-700'\n                  : 'bg-gray-600 text-white hover:bg-gray-700'\n              }`}\n            >\n              {driver?.isAvailable ? 'Ù…ØªØ§Ø­' : 'ØºÙŠØ± Ù…ØªØ§Ø­'}\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Navigation Tabs */}\n      <div className=\"flex space-x-1 mb-6\">\n        <button\n          onClick={() => setActiveTab('available')}\n          className={`px-4 py-2 rounded-lg font-medium ${\n            activeTab === 'available'\n              ? 'bg-blue-600 text-white'\n              : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\n          }`}\n        >\n          Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø© ({availableOrders.length})\n        </button>\n        <button\n          onClick={() => setActiveTab('myorders')}\n          className={`px-4 py-2 rounded-lg font-medium ${\n            activeTab === 'myorders'\n              ? 'bg-blue-600 text-white'\n              : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\n          }`}\n        >\n          Ø·Ù„Ø¨Ø§ØªÙŠ ({myOrders.length})\n        </button>\n        <button\n          onClick={() => setActiveTab('profile')}\n          className={`px-4 py-2 rounded-lg font-medium ${\n            activeTab === 'profile'\n              ? 'bg-blue-600 text-white'\n              : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\n          }`}\n        >\n          Ù…Ù„ÙÙŠ Ø§Ù„Ø´Ø®ØµÙŠ\n        </button>\n      </div>\n\n      {/* Available Orders Tab */}\n      {activeTab === 'available' && (\n        <div className=\"space-y-4\">\n          <h2 className=\"text-xl font-bold text-gray-800\">Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©</h2>\n          {!driver?.isAvailable && (\n            <div className=\"bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded\">\n              ÙŠØ¬Ø¨ ØªÙØ¹ÙŠÙ„ Ø­Ø§Ù„Ø© \"Ù…ØªØ§Ø­\" Ù„Ø±Ø¤ÙŠØ© Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©\n            </div>\n          )}\n          {availableOrders.length === 0 ? (\n            <div className=\"text-center py-8 text-gray-500\">\n              Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª Ù…ØªØ§Ø­Ø© Ø­Ø§Ù„ÙŠØ§Ù‹\n            </div>\n          ) : (\n            availableOrders.map((order) => (\n              <div key={order.id} className=\"bg-white rounded-lg shadow-md p-6\">\n                <div className=\"flex justify-between items-start mb-4\">\n                  <div>\n                    <h3 className=\"text-lg font-semibold text-gray-800\">{order.customerName}</h3>\n                    <p className=\"text-gray-600 flex items-center gap-1\">\n                      <Phone size={16} />\n                      {order.customerPhone}\n                    </p>\n                  </div>\n                  <div className=\"text-right\">\n                    <p className=\"text-xl font-bold text-green-600\">{order.totalAmount} Ø´ÙŠÙƒÙ„</p>\n                    <p className=\"text-sm text-gray-500 flex items-center gap-1\">\n                      <Clock size={14} />\n                      {order.estimatedTime}\n                    </p>\n                  </div>\n                </div>\n                \n                <div className=\"mb-4\">\n                  <p className=\"text-gray-700 flex items-start gap-1\">\n                    <MapPin size={16} className=\"mt-1 flex-shrink-0\" />\n                    {order.deliveryAddress}\n                  </p>\n                  {order.notes && (\n                    <p className=\"text-sm text-gray-600 mt-2\">Ù…Ù„Ø§Ø­Ø¸Ø§Øª: {order.notes}</p>\n                  )}\n                </div>\n\n                <div className=\"mb-4\">\n                  <h4 className=\"font-medium text-gray-800 mb-2\">Ø§Ù„Ø£ØµÙ†Ø§Ù:</h4>\n                  <div className=\"space-y-1\">\n                    {parseItems(order.items).map((item: any, index: number) => (\n                      <div key={index} className=\"flex justify-between text-sm\">\n                        <span>{item.name} Ã— {item.quantity}</span>\n                        <span>{(item.price * item.quantity).toFixed(2)} Ø´ÙŠÙƒÙ„</span>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n\n                <button\n                  onClick={() => acceptOrder(order.id)}\n                  disabled={isLoading || !driver?.isAvailable}\n                  className=\"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center gap-2\"\n                >\n                  <CheckCircle size={20} />\n                  Ù‚Ø¨ÙˆÙ„ Ø§Ù„Ø·Ù„Ø¨\n                </button>\n              </div>\n            ))\n          )}\n        </div>\n      )}\n\n      {/* My Orders Tab */}\n      {activeTab === 'myorders' && (\n        <div className=\"space-y-4\">\n          <h2 className=\"text-xl font-bold text-gray-800\">Ø·Ù„Ø¨Ø§ØªÙŠ Ø§Ù„Ø­Ø§Ù„ÙŠØ©</h2>\n          {myOrders.length === 0 ? (\n            <div className=\"text-center py-8 text-gray-500\">\n              Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª Ø­Ø§Ù„ÙŠØ©\n            </div>\n          ) : (\n            myOrders.map((order) => (\n              <div key={order.id} className=\"bg-white rounded-lg shadow-md p-6\">\n                <div className=\"flex justify-between items-start mb-4\">\n                  <div>\n                    <h3 className=\"text-lg font-semibold text-gray-800\">{order.customerName}</h3>\n                    <p className=\"text-gray-600 flex items-center gap-1\">\n                      <Phone size={16} />\n                      {order.customerPhone}\n                    </p>\n                  </div>\n                  <div className=\"text-right\">\n                    <p className=\"text-xl font-bold text-green-600\">{order.totalAmount} Ø´ÙŠÙƒÙ„</p>\n                    <span className={`px-2 py-1 text-xs font-semibold rounded-full ${\n                      order.status === 'assigned' ? 'bg-blue-100 text-blue-800' :\n                      order.status === 'picked_up' ? 'bg-yellow-100 text-yellow-800' :\n                      order.status === 'on_way' ? 'bg-orange-100 text-orange-800' :\n                      'bg-green-100 text-green-800'\n                    }`}>\n                      {order.status === 'assigned' ? 'ØªÙ… Ø§Ù„ØªÙƒÙ„ÙŠÙ' :\n                       order.status === 'picked_up' ? 'ØªÙ… Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…' :\n                       order.status === 'on_way' ? 'ÙÙŠ Ø§Ù„Ø·Ø±ÙŠÙ‚' : 'ØªÙ… Ø§Ù„ØªØ³Ù„ÙŠÙ…'}\n                    </span>\n                  </div>\n                </div>\n                \n                <div className=\"mb-4\">\n                  <p className=\"text-gray-700 flex items-start gap-1\">\n                    <MapPin size={16} className=\"mt-1 flex-shrink-0\" />\n                    {order.deliveryAddress}\n                  </p>\n                </div>\n\n                <div className=\"flex gap-2\">\n                  {order.status === 'assigned' && (\n                    <button\n                      onClick={() => updateOrderStatus(order.id, 'picked_up')}\n                      className=\"flex-1 bg-yellow-600 text-white py-2 rounded-lg font-semibold hover:bg-yellow-700\"\n                    >\n                      ØªÙ… Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù… Ù…Ù† Ø§Ù„Ù…Ø·Ø¹Ù…\n                    </button>\n                  )}\n                  {order.status === 'picked_up' && (\n                    <button\n                      onClick={() => updateOrderStatus(order.id, 'on_way')}\n                      className=\"flex-1 bg-orange-600 text-white py-2 rounded-lg font-semibold hover:bg-orange-700\"\n                    >\n                      ÙÙŠ Ø§Ù„Ø·Ø±ÙŠÙ‚ Ù„Ù„Ø¹Ù…ÙŠÙ„\n                    </button>\n                  )}\n                  {order.status === 'on_way' && (\n                    <button\n                      onClick={() => updateOrderStatus(order.id, 'delivered')}\n                      className=\"flex-1 bg-green-600 text-white py-2 rounded-lg font-semibold hover:bg-green-700\"\n                    >\n                      ØªÙ… Ø§Ù„ØªØ³Ù„ÙŠÙ…\n                    </button>\n                  )}\n                  <a\n                    href={`tel:${order.customerPhone}`}\n                    className=\"bg-blue-600 text-white py-2 px-4 rounded-lg font-semibold hover:bg-blue-700 flex items-center gap-1\"\n                  >\n                    <Phone size={16} />\n                    Ø§ØªØµØ§Ù„\n                  </a>\n                </div>\n              </div>\n            ))\n          )}\n        </div>\n      )}\n\n      {/* Profile Tab */}\n      {activeTab === 'profile' && driver && (\n        <div className=\"space-y-6\">\n          <h2 className=\"text-xl font-bold text-gray-800\">Ù…Ù„ÙÙŠ Ø§Ù„Ø´Ø®ØµÙŠ</h2>\n          \n          <div className=\"bg-white rounded-lg shadow-md p-6\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Ø§Ù„Ø§Ø³Ù…</label>\n                <p className=\"text-lg text-gray-900\">{driver.name}</p>\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</label>\n                <p className=\"text-lg text-gray-900\">{driver.phone}</p>\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­</label>\n                <p className=\"text-2xl font-bold text-green-600\">{driver.earnings} Ø´ÙŠÙƒÙ„</p>\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Ø§Ù„Ø­Ø§Ù„Ø©</label>\n                <span className={`px-3 py-1 text-sm font-semibold rounded-full ${\n                  driver.isAvailable ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'\n                }`}>\n                  {driver.isAvailable ? 'Ù…ØªØ§Ø­ Ù„Ù„Ø¹Ù…Ù„' : 'ØºÙŠØ± Ù…ØªØ§Ø­'}\n                </span>\n              </div>\n            </div>\n          </div>\n\n          {/* Notifications */}\n          <div className=\"bg-white rounded-lg shadow-md p-6\">\n            <h3 className=\"text-lg font-semibold text-gray-800 mb-4\">Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ø­Ø¯ÙŠØ«Ø©</h3>\n            {notifications.length === 0 ? (\n              <p className=\"text-gray-500\">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©</p>\n            ) : (\n              <div className=\"space-y-3\">\n                {notifications.map((notification) => (\n                  <div key={notification.id} className=\"border-l-4 border-blue-500 pl-4 py-2\">\n                    <h4 className=\"font-medium text-gray-800\">{notification.title}</h4>\n                    <p className=\"text-sm text-gray-600\">{notification.message}</p>\n                    <p className=\"text-xs text-gray-400 mt-1\">\n                      {new Date(notification.createdAt).toLocaleString('ar')}\n                    </p>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}","size_bytes":16364},"client/src/pages/DriverDashboard.tsx":{"content":"import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport { Card, CardContent, CardHeader, CardTitle } from '../components/ui/card';\nimport { Button } from '../components/ui/button';\nimport { Badge } from '../components/ui/badge';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '../components/ui/tabs';\nimport { useToast } from '@/hooks/use-toast';\nimport { \n  Truck, \n  MapPin, \n  Clock, \n  DollarSign, \n  LogOut,\n  Navigation,\n  Phone,\n  CheckCircle,\n  XCircle,\n  Package,\n  Settings,\n  TrendingUp,\n  Activity,\n  Map,\n  Bell,\n  User,\n  Calendar,\n  Target\n} from 'lucide-react';\nimport type { Order, Driver } from '@shared/schema';\n\ninterface DriverDashboardProps {\n  onLogout: () => void;\n}\n\nexport const DriverDashboard: React.FC<DriverDashboardProps> = ({ onLogout }) => {\n  const { logout } = useAuth();\n  const [activeTab, setActiveTab] = useState('dashboard');\n  const [driverStatus, setDriverStatus] = useState<'available' | 'busy' | 'offline'>('available');\n  const [currentLocation, setCurrentLocation] = useState<{lat: number, lng: number} | null>(null);\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n\n  const driverId = 'driver1'; // Default for testing\n\n  // Fetch driver info\n  const { data: driver } = useQuery<Driver>({\n    queryKey: [`/api/drivers/${driverId}`],\n  });\n\n  // Fetch available orders\n  const { data: availableOrders, isLoading: ordersLoading } = useQuery<Order[]>({\n    queryKey: [`/api/drivers/${driverId}/available-orders`],\n    refetchInterval: 10000, // Refresh every 10 seconds\n  });\n\n  // Fetch driver orders\n  const { data: myOrders } = useQuery<Order[]>({\n    queryKey: [`/api/drivers/${driverId}/orders`],\n  });\n\n  // Fetch driver stats\n  const { data: todayStats } = useQuery({\n    queryKey: [`/api/drivers/${driverId}/stats`, 'today'],\n    queryFn: () => fetch(`/api/drivers/${driverId}/stats?period=today`).then(res => res.json()),\n  });\n\n  const { data: weekStats } = useQuery({\n    queryKey: [`/api/drivers/${driverId}/stats`, 'week'],\n    queryFn: () => fetch(`/api/drivers/${driverId}/stats?period=week`).then(res => res.json()),\n  });\n\n  // Status update mutation\n  const updateStatusMutation = useMutation({\n    mutationFn: async (status: string) => {\n      const response = await fetch(`/api/drivers/${driverId}/status`, {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ \n          status,\n          latitude: currentLocation?.lat,\n          longitude: currentLocation?.lng\n        }),\n      });\n      if (!response.ok) throw new Error('Failed to update status');\n      return response.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [`/api/drivers/${driverId}`] });\n      toast({ title: 'ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ø§Ù„Ø© Ø¨Ù†Ø¬Ø§Ø­' });\n    },\n    onError: () => {\n      toast({ title: 'ÙØ´Ù„ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ø§Ù„Ø©', variant: 'destructive' });\n    },\n  });\n\n  // Accept order mutation\n  const acceptOrderMutation = useMutation({\n    mutationFn: async (orderId: string) => {\n      const response = await fetch(`/api/drivers/${driverId}/accept-order`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ orderId }),\n      });\n      if (!response.ok) throw new Error('Failed to accept order');\n      return response.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [`/api/drivers/${driverId}/available-orders`] });\n      queryClient.invalidateQueries({ queryKey: [`/api/drivers/${driverId}/orders`] });\n      setDriverStatus('busy');\n      toast({ title: 'ØªÙ… Ù‚Ø¨ÙˆÙ„ Ø§Ù„Ø·Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­' });\n    },\n    onError: () => {\n      toast({ title: 'ÙØ´Ù„ ÙÙŠ Ù‚Ø¨ÙˆÙ„ Ø§Ù„Ø·Ù„Ø¨', variant: 'destructive' });\n    },\n  });\n\n  // Complete order mutation\n  const completeOrderMutation = useMutation({\n    mutationFn: async (orderId: string) => {\n      const response = await fetch(`/api/drivers/${driverId}/complete-order`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ orderId }),\n      });\n      if (!response.ok) throw new Error('Failed to complete order');\n      return response.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [`/api/drivers/${driverId}/orders`] });\n      queryClient.invalidateQueries({ queryKey: [`/api/drivers/${driverId}/stats`] });\n      setDriverStatus('available');\n      toast({ title: 'ØªÙ… ØªØ³Ù„ÙŠÙ… Ø§Ù„Ø·Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­' });\n    },\n    onError: () => {\n      toast({ title: 'ÙØ´Ù„ ÙÙŠ ØªØ³Ù„ÙŠÙ… Ø§Ù„Ø·Ù„Ø¨', variant: 'destructive' });\n    },\n  });\n\n  // Get current location\n  useEffect(() => {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(\n        (position) => {\n          setCurrentLocation({\n            lat: position.coords.latitude,\n            lng: position.coords.longitude\n          });\n        },\n        (error) => {\n          console.error('Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆÙ‚Ø¹:', error);\n        }\n      );\n    }\n  }, []);\n\n  const handleLogout = () => {\n    logout();\n    onLogout();\n  };\n\n  const toggleStatus = () => {\n    const newStatus = driverStatus === 'available' ? 'offline' : 'available';\n    setDriverStatus(newStatus);\n    updateStatusMutation.mutate(newStatus);\n  };\n\n  const formatCurrency = (amount: number | string) => {\n    const num = typeof amount === 'string' ? parseFloat(amount) : amount;\n    return `${num.toFixed(2)} Ø±ÙŠØ§Ù„`;\n  };\n\n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleDateString('ar-SA', {\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'available': return 'bg-green-100 text-green-700';\n      case 'busy': return 'bg-orange-100 text-orange-700';\n      case 'offline': return 'bg-gray-100 text-gray-700';\n      default: return 'bg-gray-100 text-gray-700';\n    }\n  };\n\n  const getStatusText = (status: string) => {\n    switch (status) {\n      case 'available': return 'Ù…ØªØ§Ø­';\n      case 'busy': return 'Ù…Ø´ØºÙˆÙ„';\n      case 'offline': return 'ØºÙŠØ± Ù…ØªØ§Ø­';\n      default: return 'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ';\n    }\n  };\n\n  const currentOrder = myOrders?.find(order => \n    order.status === 'accepted' || order.status === 'preparing' || order.status === 'ready'\n  );\n\n  // Render main dashboard\n  if (activeTab === 'dashboard') {\n    return (\n      <div className=\"min-h-screen bg-gray-50\" dir=\"rtl\">\n        {/* Header */}\n        <header className=\"bg-white shadow-sm border-b\">\n          <div className=\"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8\">\n            <div className=\"flex justify-between items-center h-16\">\n              <div className=\"flex items-center gap-3\">\n                <Truck className=\"h-8 w-8 text-green-600\" />\n                <div>\n                  <h1 className=\"text-xl font-bold text-gray-900\">ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø³Ø§Ø¦Ù‚</h1>\n                  <p className=\"text-sm text-gray-500\">{driver?.name || 'Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯'}</p>\n                </div>\n              </div>\n              <div className=\"flex items-center gap-3\">\n                <Badge className={getStatusColor(driverStatus)}>\n                  {getStatusText(driverStatus)}\n                </Badge>\n                <Button \n                  variant={driverStatus === 'available' ? \"outline\" : \"default\"}\n                  onClick={toggleStatus}\n                  className={driverStatus === 'available' ? \"\" : \"bg-green-600 hover:bg-green-700\"}\n                  disabled={updateStatusMutation.isPending}\n                >\n                  {driverStatus === 'available' ? 'Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ø¹Ù…Ù„' : 'Ø¨Ø¯Ø¡ Ø§Ù„Ø¹Ù…Ù„'}\n                </Button>\n                <Button \n                  variant=\"outline\" \n                  onClick={handleLogout}\n                  className=\"flex items-center gap-2\"\n                >\n                  <LogOut className=\"h-4 w-4\" />\n                  Ø®Ø±ÙˆØ¬\n                </Button>\n              </div>\n            </div>\n          </div>\n        </header>\n\n        {/* Tabs Navigation */}\n        <div className=\"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-4\">\n          <Tabs value={activeTab} onValueChange={setActiveTab} className=\"space-y-6\">\n            <TabsList className=\"grid w-full grid-cols-5\">\n              <TabsTrigger value=\"dashboard\">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</TabsTrigger>\n              <TabsTrigger value=\"orders\">Ø§Ù„Ø·Ù„Ø¨Ø§Øª</TabsTrigger>\n              <TabsTrigger value=\"stats\">Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª</TabsTrigger>\n              <TabsTrigger value=\"map\">Ø§Ù„Ø®Ø±ÙŠØ·Ø©</TabsTrigger>\n              <TabsTrigger value=\"profile\">Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ</TabsTrigger>\n            </TabsList>\n\n            <TabsContent value=\"dashboard\" className=\"space-y-6\">\n              {/* Quick Stats */}\n              <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\n                <Card>\n                  <CardContent className=\"p-6\">\n                    <div className=\"flex items-center space-x-2\">\n                      <Package className=\"h-5 w-5 text-blue-500\" />\n                      <div>\n                        <p className=\"text-sm font-medium text-muted-foreground\">Ø·Ù„Ø¨Ø§Øª Ø§Ù„ÙŠÙˆÙ…</p>\n                        <p className=\"text-2xl font-bold text-blue-600\">{todayStats?.totalOrders || 0}</p>\n                      </div>\n                    </div>\n                  </CardContent>\n                </Card>\n\n                <Card>\n                  <CardContent className=\"p-6\">\n                    <div className=\"flex items-center space-x-2\">\n                      <DollarSign className=\"h-5 w-5 text-green-500\" />\n                      <div>\n                        <p className=\"text-sm font-medium text-muted-foreground\">Ø£Ø±Ø¨Ø§Ø­ Ø§Ù„ÙŠÙˆÙ…</p>\n                        <p className=\"text-2xl font-bold text-green-600\">\n                          {formatCurrency(todayStats?.totalEarnings || 0)}\n                        </p>\n                      </div>\n                    </div>\n                  </CardContent>\n                </Card>\n\n                <Card>\n                  <CardContent className=\"p-6\">\n                    <div className=\"flex items-center space-x-2\">\n                      <TrendingUp className=\"h-5 w-5 text-purple-500\" />\n                      <div>\n                        <p className=\"text-sm font-medium text-muted-foreground\">Ø£Ø±Ø¨Ø§Ø­ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹</p>\n                        <p className=\"text-2xl font-bold text-purple-600\">\n                          {formatCurrency(weekStats?.totalEarnings || 0)}\n                        </p>\n                      </div>\n                    </div>\n                  </CardContent>\n                </Card>\n\n                <Card>\n                  <CardContent className=\"p-6\">\n                    <div className=\"flex items-center space-x-2\">\n                      <Activity className=\"h-5 w-5 text-orange-500\" />\n                      <div>\n                        <p className=\"text-sm font-medium text-muted-foreground\">Ø§Ù„Ø­Ø§Ù„Ø©</p>\n                        <p className=\"text-lg font-bold text-orange-600\">{getStatusText(driverStatus)}</p>\n                      </div>\n                    </div>\n                  </CardContent>\n                </Card>\n              </div>\n\n              {/* Current Order */}\n              {currentOrder && (\n                <Card className=\"border-green-200 bg-green-50\">\n                  <CardHeader>\n                    <CardTitle className=\"flex items-center gap-2 text-green-800\">\n                      <Package className=\"h-5 w-5\" />\n                      Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ø­Ø§Ù„ÙŠ - #{currentOrder.id}\n                    </CardTitle>\n                  </CardHeader>\n                  <CardContent>\n                    <div className=\"space-y-4\">\n                      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                        <div>\n                          <p className=\"font-medium\">Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„</p>\n                          <div className=\"flex items-center gap-2 text-sm text-gray-600 mt-1\">\n                            <Phone className=\"h-4 w-4\" />\n                            {currentOrder.customerPhone}\n                          </div>\n                          <div className=\"flex items-center gap-2 text-sm text-gray-600 mt-1\">\n                            <MapPin className=\"h-4 w-4\" />\n                            {currentOrder.deliveryAddress}\n                          </div>\n                        </div>\n                        <div>\n                          <p className=\"font-medium\">ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨</p>\n                          <p className=\"text-sm text-gray-600 mt-1\">Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹: {formatCurrency(currentOrder.totalAmount)}</p>\n                          <p className=\"text-sm text-gray-600\">Ø±Ø³ÙˆÙ… Ø§Ù„ØªÙˆØµÙŠÙ„: {formatCurrency(currentOrder.deliveryFee)}</p>\n                        </div>\n                      </div>\n                      \n                      <div className=\"flex gap-2\">\n                        <Button\n                          onClick={() => window.open(`https://maps.google.com/?q=${currentOrder.deliveryAddress}`, '_blank')}\n                          className=\"gap-2\"\n                          variant=\"outline\"\n                        >\n                          <Navigation className=\"h-4 w-4\" />\n                          Ø§Ù„ØªÙ†Ù‚Ù„\n                        </Button>\n                        <Button\n                          onClick={() => window.open(`tel:${currentOrder.customerPhone}`, '_self')}\n                          className=\"gap-2\"\n                          variant=\"outline\"\n                        >\n                          <Phone className=\"h-4 w-4\" />\n                          Ø§ØªØµØ§Ù„\n                        </Button>\n                        <Button\n                          onClick={() => completeOrderMutation.mutate(currentOrder.id)}\n                          disabled={completeOrderMutation.isPending}\n                          className=\"gap-2 bg-green-600 hover:bg-green-700\"\n                        >\n                          <CheckCircle className=\"h-4 w-4\" />\n                          ØªÙ… Ø§Ù„ØªØ³Ù„ÙŠÙ…\n                        </Button>\n                      </div>\n                    </div>\n                  </CardContent>\n                </Card>\n              )}\n\n              {/* Available Orders */}\n              <Card>\n                <CardHeader>\n                  <CardTitle className=\"flex items-center gap-2\">\n                    <Bell className=\"h-5 w-5\" />\n                    Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©\n                  </CardTitle>\n                </CardHeader>\n                <CardContent>\n                  {ordersLoading ? (\n                    <div className=\"flex items-center justify-center p-8\">\n                      <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary\"></div>\n                    </div>\n                  ) : !availableOrders || availableOrders.length === 0 ? (\n                    <p className=\"text-center text-muted-foreground p-8\">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª Ù…ØªØ§Ø­Ø© Ø­Ø§Ù„ÙŠØ§Ù‹</p>\n                  ) : (\n                    <div className=\"space-y-4\">\n                      {availableOrders.map((order) => (\n                        <div key={order.id} className=\"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50\">\n                          <div className=\"flex-1\">\n                            <div className=\"flex items-center gap-4\">\n                              <div>\n                                <p className=\"font-medium\">Ø·Ù„Ø¨ #{order.id}</p>\n                                <div className=\"flex items-center gap-2 text-sm text-gray-600 mt-1\">\n                                  <MapPin className=\"h-4 w-4\" />\n                                  {order.deliveryAddress}\n                                </div>\n                                <div className=\"flex items-center gap-2 text-sm text-gray-600\">\n                                  <Clock className=\"h-4 w-4\" />\n                                  {formatDate(order.createdAt.toString())}\n                                </div>\n                              </div>\n                            </div>\n                          </div>\n                          <div className=\"flex items-center gap-3\">\n                            <div className=\"text-right\">\n                              <p className=\"font-medium\">{formatCurrency(order.totalAmount)}</p>\n                              <p className=\"text-sm text-green-600\">\n                                Ø±Ø³ÙˆÙ…: {formatCurrency(order.deliveryFee)}\n                              </p>\n                            </div>\n                            <Button\n                              onClick={() => acceptOrderMutation.mutate(order.id)}\n                              disabled={acceptOrderMutation.isPending || driverStatus !== 'available'}\n                              className=\"gap-2 bg-green-600 hover:bg-green-700\"\n                            >\n                              <CheckCircle className=\"h-4 w-4\" />\n                              Ù‚Ø¨ÙˆÙ„\n                            </Button>\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  )}\n                </CardContent>\n              </Card>\n            </TabsContent>\n\n            {/* Other tabs content would go here */}\n            <TabsContent value=\"orders\" className=\"space-y-6\">\n              <Card>\n                <CardHeader>\n                  <CardTitle>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø·Ù„Ø¨Ø§Øª</CardTitle>\n                </CardHeader>\n                <CardContent>\n                  {myOrders && myOrders.length > 0 ? (\n                    <div className=\"space-y-4\">\n                      {myOrders.map((order) => (\n                        <div key={order.id} className=\"flex items-center justify-between p-4 border rounded-lg\">\n                          <div className=\"flex-1\">\n                            <p className=\"font-medium\">Ø·Ù„Ø¨ #{order.id}</p>\n                            <p className=\"text-sm text-gray-600\">{order.deliveryAddress}</p>\n                            <p className=\"text-sm text-gray-600\">{formatDate(order.createdAt.toString())}</p>\n                          </div>\n                          <div className=\"flex items-center gap-3\">\n                            <Badge variant={order.status === 'delivered' ? 'default' : 'secondary'}>\n                              {order.status === 'delivered' ? 'Ù…ÙƒØªÙ…Ù„' : 'Ù‚ÙŠØ¯ Ø§Ù„ØªÙ†ÙÙŠØ°'}\n                            </Badge>\n                            <p className=\"font-medium\">{formatCurrency(order.totalAmount)}</p>\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  ) : (\n                    <p className=\"text-center text-muted-foreground p-8\">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª</p>\n                  )}\n                </CardContent>\n              </Card>\n            </TabsContent>\n\n            <TabsContent value=\"stats\" className=\"space-y-6\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <Card>\n                  <CardHeader>\n                    <CardTitle className=\"flex items-center gap-2\">\n                      <Calendar className=\"h-5 w-5\" />\n                      Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ÙŠÙˆÙ…\n                    </CardTitle>\n                  </CardHeader>\n                  <CardContent className=\"space-y-4\">\n                    <div className=\"flex justify-between\">\n                      <span>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø·Ù„Ø¨Ø§Øª:</span>\n                      <span className=\"font-bold\">{todayStats?.totalOrders || 0}</span>\n                    </div>\n                    <div className=\"flex justify-between\">\n                      <span>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­:</span>\n                      <span className=\"font-bold text-green-600\">{formatCurrency(todayStats?.totalEarnings || 0)}</span>\n                    </div>\n                    <div className=\"flex justify-between\">\n                      <span>Ù…ØªÙˆØ³Ø· Ø§Ù„Ø·Ù„Ø¨:</span>\n                      <span className=\"font-bold\">{formatCurrency(todayStats?.avgOrderValue || 0)}</span>\n                    </div>\n                  </CardContent>\n                </Card>\n\n                <Card>\n                  <CardHeader>\n                    <CardTitle className=\"flex items-center gap-2\">\n                      <Target className=\"h-5 w-5\" />\n                      Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹\n                    </CardTitle>\n                  </CardHeader>\n                  <CardContent className=\"space-y-4\">\n                    <div className=\"flex justify-between\">\n                      <span>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø·Ù„Ø¨Ø§Øª:</span>\n                      <span className=\"font-bold\">{weekStats?.totalOrders || 0}</span>\n                    </div>\n                    <div className=\"flex justify-between\">\n                      <span>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­:</span>\n                      <span className=\"font-bold text-green-600\">{formatCurrency(weekStats?.totalEarnings || 0)}</span>\n                    </div>\n                    <div className=\"flex justify-between\">\n                      <span>Ù…ØªÙˆØ³Ø· Ø§Ù„Ø·Ù„Ø¨:</span>\n                      <span className=\"font-bold\">{formatCurrency(weekStats?.avgOrderValue || 0)}</span>\n                    </div>\n                  </CardContent>\n                </Card>\n              </div>\n            </TabsContent>\n\n            <TabsContent value=\"map\" className=\"space-y-6\">\n              <Card>\n                <CardHeader>\n                  <CardTitle className=\"flex items-center gap-2\">\n                    <Map className=\"h-5 w-5\" />\n                    Ø®Ø±ÙŠØ·Ø© Ø§Ù„ØªÙˆØµÙŠÙ„\n                  </CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"h-96 bg-gray-100 rounded-lg flex items-center justify-center\">\n                    <p className=\"text-gray-500\">Ø®Ø±ÙŠØ·Ø© ØªÙØ§Ø¹Ù„ÙŠØ© - Ù‚Ø±ÙŠØ¨Ø§Ù‹</p>\n                  </div>\n                </CardContent>\n              </Card>\n            </TabsContent>\n\n            <TabsContent value=\"profile\" className=\"space-y-6\">\n              <Card>\n                <CardHeader>\n                  <CardTitle className=\"flex items-center gap-2\">\n                    <User className=\"h-5 w-5\" />\n                    Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ\n                  </CardTitle>\n                </CardHeader>\n                <CardContent className=\"space-y-4\">\n                  <div className=\"flex justify-between\">\n                    <span>Ø§Ù„Ø§Ø³Ù…:</span>\n                    <span className=\"font-medium\">{driver?.name || 'Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯'}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span>Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ:</span>\n                    <span className=\"font-medium\">{driver?.phone || '0501234567'}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span>Ø§Ù„Ø­Ø§Ù„Ø©:</span>\n                    <Badge className={getStatusColor(driverStatus)}>\n                      {getStatusText(driverStatus)}\n                    </Badge>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span>Ù…ØªØ§Ø­ Ù„Ù„Ø¹Ù…Ù„:</span>\n                    <span className=\"font-medium\">{driver?.isAvailable ? 'Ù†Ø¹Ù…' : 'Ù„Ø§'}</span>\n                  </div>\n                </CardContent>\n              </Card>\n            </TabsContent>\n          </Tabs>\n        </div>\n      </div>\n    );\n  }\n\n  return null;\n};","size_bytes":24023},"client/src/pages/Home.tsx":{"content":"import { useState } from 'react';\nimport { useQuery } from '@tanstack/react-query';\nimport { useLocation } from 'wouter';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { \n  MapPin, \n  Search, \n  Bell, \n  User, \n  Clock, \n  Beef, \n  Cookie, \n  UtensilsCrossed, \n  Star, \n  Heart,\n  Plus,\n  Menu,\n  ShoppingBag,\n  Building2,\n  Stethoscope,\n  Settings\n} from 'lucide-react';\nimport type { Restaurant } from '@shared/schema';\nimport TimingBanner from '@/components/TimingBanner';\n\nexport default function Home() {\n  const [, setLocation] = useLocation();\n  const [selectedCategory, setSelectedCategory] = useState('all');\n\n  const { data: restaurants, isLoading } = useQuery<Restaurant[]>({\n    queryKey: ['/api/restaurants'],\n  });\n\n  const { data: categories } = useQuery({\n    queryKey: ['/api/categories'],\n  });\n\n  // ÙÙ„ØªØ±Ø© Ø§Ù„Ù…Ø·Ø§Ø¹Ù… Ø­Ø³Ø¨ Ø§Ù„ØªØµÙ†ÙŠÙ Ø§Ù„Ù…Ø­Ø¯Ø¯\n  const filteredRestaurants = restaurants?.filter(restaurant => {\n    if (selectedCategory === 'all') return true;\n    if (selectedCategory === 'restaurants') return restaurant.categoryId !== null;\n    if (selectedCategory === 'meat') return restaurant.categoryId === 'meat-category';\n    if (selectedCategory === 'pastries') return restaurant.categoryId === 'pastries-category';\n    return restaurant.categoryId === selectedCategory;\n  }) || [];\n\n  const handleRestaurantClick = (restaurantId: string) => {\n    setLocation(`/restaurant/${restaurantId}`);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n\n      {/* Timing Banner - Dynamic from admin settings */}\n      <TimingBanner />\n\n      {/* Main Content */}\n      <main className=\"p-4\">\n        {/* Category Grid */}\n        <section className=\"mb-6\">\n          <div className=\"grid grid-cols-4 gap-3\">\n            <div className={`text-center cursor-pointer ${\n              selectedCategory === 'meat' ? 'transform scale-105' : ''\n            }`} onClick={() => setSelectedCategory('meat')}>\n              <div className=\"w-16 h-16 mx-auto mb-2 bg-white rounded-2xl shadow-sm flex items-center justify-center border border-gray-100\">\n                <Beef className=\"h-8 w-8 text-red-500\" />\n              </div>\n              <h4 className=\"text-xs font-medium text-gray-700\">Ø§Ù„Ù„Ø­ÙˆÙ…</h4>\n            </div>\n            \n            <div className={`text-center cursor-pointer ${\n              selectedCategory === 'pastries' ? 'transform scale-105' : ''\n            }`} onClick={() => setSelectedCategory('pastries')}>\n              <div className=\"w-16 h-16 mx-auto mb-2 bg-white rounded-2xl shadow-sm flex items-center justify-center border border-gray-100\">\n                <Cookie className=\"h-8 w-8 text-yellow-600\" />\n              </div>\n              <h4 className=\"text-xs font-medium text-gray-700\">Ø§Ù„Ø·ÙˆÙŠÙ„Ø§Øª</h4>\n            </div>\n            \n            <div className={`text-center cursor-pointer ${\n              selectedCategory === 'restaurants' ? 'transform scale-105' : ''\n            }`} onClick={() => setSelectedCategory('restaurants')}>\n              <div className=\"w-16 h-16 mx-auto mb-2 bg-white rounded-2xl shadow-sm flex items-center justify-center border border-gray-100\">\n                <UtensilsCrossed className=\"h-8 w-8 text-orange-500\" />\n              </div>\n              <h4 className=\"text-xs font-medium text-gray-700\">Ø§Ù„Ù…Ø·Ø§Ø¹Ù…</h4>\n            </div>\n            \n            <div className={`text-center cursor-pointer ${\n              selectedCategory === 'all' ? 'transform scale-105' : ''\n            }`} onClick={() => setSelectedCategory('all')}>\n              <div className=\"w-16 h-16 mx-auto mb-2 bg-white rounded-2xl shadow-sm flex items-center justify-center border border-gray-100\">\n                <Menu className=\"h-8 w-8 text-blue-500\" />\n              </div>\n              <h4 className=\"text-xs font-medium text-gray-700\">ÙƒÙ„ Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª</h4>\n            </div>\n          </div>\n        </section>\n\n        {/* Promotional Banners */}\n        <section className=\"mb-6\">\n          <div className=\"grid grid-cols-2 gap-3\">\n            {/* Special Offer Banner */}\n            <div className=\"relative h-32 overflow-hidden rounded-2xl cursor-pointer hover:shadow-lg transition-shadow\">\n              <div className=\"absolute inset-0 orange-gradient p-4 text-white\">\n                <div className=\"absolute top-3 left-3 bg-white/20 px-2 py-1 rounded-full text-xs\">\n                  Ø¹Ø±Ø¶ Ø®Ø§Øµ\n                </div>\n                <div className=\"absolute bottom-3 right-3\">\n                  <h3 className=\"text-sm font-bold mb-1\">Ø¹Ø±Ø¶ Ù…Ø¬Ø§Ù†ÙŠ ÙŠØµÙ„</h3>\n                  <p className=\"text-xs opacity-90\">Ø¹Ø¨Ø± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</p>\n                  <p className=\"text-xs mt-1 bg-white/20 inline-block px-2 py-1 rounded\">\n                    ØµØ§Ù„Ø­ Ø­ØªÙ‰ 15.000 Ø¯\n                  </p>\n                </div>\n              </div>\n            </div>\n\n            {/* Million Offer Banner */}\n            <div className=\"relative h-32 overflow-hidden rounded-2xl cursor-pointer hover:shadow-lg transition-shadow\">\n              <div className=\"absolute inset-0 brown-gradient p-4 text-white\">\n                <div className=\"absolute top-3 left-3 bg-white/20 px-2 py-1 rounded-full text-xs\">\n                  1,000,000\n                </div>\n                <div className=\"absolute bottom-3 right-3\">\n                  <h3 className=\"text-sm font-bold mb-1\">ÙƒÙ„ Ø§Ù„Ø¹Ø±ÙˆØ¶</h3>\n                  <p className=\"text-xs opacity-90\">Ø·Ø¹Ø§Ù… Ù…Ù…ÙŠØ²</p>\n                  <p className=\"text-xs mt-1 bg-white/20 inline-block px-2 py-1 rounded\">\n                    ØµØ§Ù„Ø­ Ø­ØªÙ‰ 25.000 Ø¯\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </section>\n\n        {/* Restaurant Section with Tab Navigation */}\n        <section>\n          {/* Tab Navigation */}\n          <div className=\"mb-4\">\n            <div className=\"flex border-b border-gray-200\">\n              <button \n                className={`px-4 py-3 font-medium text-sm border-b-2 transition-colors ${\n                  selectedCategory === 'popular' \n                    ? 'border-red-500 text-red-600' \n                    : 'border-transparent text-gray-500 hover:text-gray-700'\n                }`}\n                onClick={() => setSelectedCategory('popular')}\n              >\n                Ø§Ù„Ù…ÙØ¶Ù„Ø©\n              </button>\n              <button \n                className={`px-4 py-3 font-medium text-sm border-b-2 transition-colors ${\n                  selectedCategory === 'newest' \n                    ? 'border-red-500 text-red-600' \n                    : 'border-transparent text-gray-500 hover:text-gray-700'\n                }`}\n                onClick={() => setSelectedCategory('newest')}\n              >\n                Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©\n              </button>\n              <button \n                className={`px-4 py-3 font-medium text-sm border-b-2 transition-colors ${\n                  selectedCategory === 'nearest' \n                    ? 'border-red-500 text-red-600' \n                    : 'border-transparent text-gray-500 hover:text-gray-700'\n                }`}\n                onClick={() => setSelectedCategory('nearest')}\n              >\n                Ø§Ù„Ø£Ù‚Ø±Ø¨\n              </button>\n              <button \n                className={`px-4 py-3 font-medium text-sm border-b-2 transition-colors ${\n                  selectedCategory === 'all' \n                    ? 'border-red-500 text-red-600' \n                    : 'border-transparent text-gray-500 hover:text-gray-700'\n                }`}\n                onClick={() => setSelectedCategory('all')}\n              >\n                Ø§Ù„ÙƒÙ„\n              </button>\n            </div>\n          </div>\n\n          {/* Restaurant Cards */}\n          <div className=\"space-y-4\">\n            {/* Sample restaurants matching the image design */}\n            {[\n              {\n                id: '1',\n                name: 'Ø§Ù„Ù…Ø±Ø§Ø³ÙŠÙ…',\n                category: 'Ø¯ÙˆÙ„Ø© ÙƒØ§Ù„ÙŠÙƒØ³ - Ø§Ù„Ù…Ù†ØµÙˆØ±Ø©',\n                rating: 5,\n                image: null,\n                deliveryTime: '30-45 Ø¯Ù‚ÙŠÙ‚Ø©',\n                deliveryFee: 'Ù…Ø¬Ø§Ù†ÙŠ',\n                badge: 'Ù…ØºÙ„Ù‚'\n              },\n              {\n                id: '2', \n                name: 'Ù…Ø·Ø§Ø¹Ù… ÙˆÙ…Ø·Ø§Ø¨Ø® Ø§Ù„Ø·ÙˆÙŠÙ„',\n                category: 'Ø¯ÙˆÙ„Ø© Ø§Ù„Ø³ÙŠØ¦ÙŠÙ†Ø©',\n                rating: 5,\n                image: null,\n                deliveryTime: '25-40 Ø¯Ù‚ÙŠÙ‚Ø©',\n                deliveryFee: 'Ù…Ø¬Ø§Ù†ÙŠ',\n                badge: 'Ù…ØºÙ„Ù‚'\n              },\n              {\n                id: '3',\n                name: 'Ù…Ø·Ø¹Ù… Ø§Ù„Ø´Ø±Ù‚ Ø§Ù„Ø£ÙˆØ³Ø·',\n                category: 'Ø§Ù„Ø­Ø¯ÙŠØ« (Ø¹Ø¯Ù†)',\n                rating: 5,\n                image: null,\n                deliveryTime: '20-35 Ø¯Ù‚ÙŠÙ‚Ø©',\n                deliveryFee: 'Ù…Ø¬Ø§Ù†ÙŠ',\n                badge: 'Ù…ØºÙ„Ù‚'\n              },\n              {\n                id: '4',\n                name: 'Ù…Ø·Ø¹Ù… Ø´ÙˆØ§Ø·Ø¦ Ø¹Ø¯Ù†',\n                category: 'Ø§Ù„Ø¨Ø³Ø§ØªÙŠØ©',\n                rating: 4,\n                image: null,\n                deliveryTime: '30-50 Ø¯Ù‚ÙŠÙ‚Ø©',\n                deliveryFee: 'Ù…Ø¬Ø§Ù†ÙŠ',\n                badge: 'Ù…ØºÙ„Ù‚'\n              }\n            ].map((restaurant) => (\n              <div \n                key={restaurant.id}\n                className=\"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden cursor-pointer hover:shadow-md transition-shadow\"\n                onClick={() => handleRestaurantClick(restaurant.id)}\n              >\n                <div className=\"flex p-4\">\n                  {/* Restaurant Logo/Image */}\n                  <div className=\"w-16 h-16 bg-gray-100 rounded-xl flex-shrink-0 flex items-center justify-center mr-4\">\n                    {restaurant.image ? (\n                      <img src={restaurant.image} alt={restaurant.name} className=\"w-full h-full object-cover rounded-xl\" />\n                    ) : (\n                      <UtensilsCrossed className=\"h-8 w-8 text-gray-400\" />\n                    )}\n                  </div>\n                  \n                  {/* Restaurant Info */}\n                  <div className=\"flex-1\">\n                    <div className=\"flex items-start justify-between\">\n                      <div>\n                        <h4 className=\"font-semibold text-gray-900 text-sm mb-1\">{restaurant.name}</h4>\n                        <p className=\"text-xs text-gray-600 mb-2\">{restaurant.category}</p>\n                        <div className=\"flex items-center gap-2 text-xs text-gray-500\">\n                          <span>Ø®Ø· Ø§Ù„ØªØ³Ø¹ÙŠÙ†</span>\n                        </div>\n                      </div>\n                      \n                      {/* Rating and Actions */}\n                      <div className=\"text-left flex flex-col items-end\">\n                        <div className=\"flex items-center gap-1 mb-2\">\n                          {[...Array(restaurant.rating)].map((_, i) => (\n                            <Star key={i} className=\"h-3 w-3 text-yellow-400 fill-current\" />\n                          ))}\n                          <span className=\"text-xs font-medium ml-1\">{restaurant.rating}</span>\n                        </div>\n                        <Badge \n                          className={`text-xs mb-2 ${\n                            restaurant.badge === 'Ù…ØºÙ„Ù‚' \n                              ? 'bg-red-600 text-white hover:bg-red-700' \n                              : 'bg-green-600 text-white hover:bg-green-700'\n                          }`}\n                        >\n                          {restaurant.badge}\n                        </Badge>\n                        <Heart className=\"h-4 w-4 text-gray-400 cursor-pointer hover:text-red-500\" />\n                      </div>\n                    </div>\n                    \n                    {/* Bottom Action Button */}\n                  </div>\n                </div>\n              </div>\n            ))}\n            \n            {/* Database restaurants when available */}\n            {filteredRestaurants && filteredRestaurants.length > 0 && filteredRestaurants.map((restaurant) => (\n              <div \n                key={restaurant.id}\n                className=\"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden cursor-pointer hover:shadow-md transition-shadow\"\n                onClick={() => handleRestaurantClick(restaurant.id)}\n              >\n                <div className=\"flex p-4\">\n                  <div className=\"w-16 h-16 bg-gray-100 rounded-xl flex-shrink-0 flex items-center justify-center mr-4\">\n                    {restaurant.image ? (\n                      <img src={restaurant.image} alt={restaurant.name} className=\"w-full h-full object-cover rounded-xl\" />\n                    ) : (\n                      <UtensilsCrossed className=\"h-8 w-8 text-gray-400\" />\n                    )}\n                  </div>\n                  <div className=\"flex-1\">\n                    <div className=\"flex items-start justify-between\">\n                      <div>\n                        <h4 className=\"font-semibold text-gray-900 text-sm mb-1\">{restaurant.name}</h4>\n                        <p className=\"text-xs text-gray-600 mb-2\">{restaurant.description}</p>\n                        <div className=\"flex items-center gap-2 text-xs text-gray-500\">\n                          <span>{restaurant.deliveryTime}</span>\n                          <span>â€¢</span>\n                          <span>Ø±Ø³ÙˆÙ… Ø§Ù„ØªÙˆØµÙŠÙ„: {restaurant.deliveryFee} Ø±ÙŠØ§Ù„</span>\n                        </div>\n                      </div>\n                      <div className=\"text-left flex flex-col items-end\">\n                        <div className=\"flex items-center gap-1 mb-2\">\n                          <span className=\"text-xs font-medium\">{restaurant.rating}</span>\n                          <Star className=\"h-3 w-3 text-yellow-400 fill-current\" />\n                        </div>\n                        <Badge className={restaurant.isOpen ? 'bg-green-600 text-white' : 'bg-red-600 text-white'}>\n                          {restaurant.isOpen ? 'Ù…ÙØªÙˆØ­' : 'Ù…ØºÙ„Ù‚'}\n                        </Badge>\n                        <Heart className=\"h-4 w-4 text-gray-400 cursor-pointer hover:text-red-500 mt-2\" />\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ))}\n            \n            {/* Empty state */}\n            {(!filteredRestaurants || filteredRestaurants.length === 0) && !isLoading && (\n              <div className=\"text-center py-8\">\n                <UtensilsCrossed className=\"h-16 w-16 mx-auto text-gray-300 mb-4\" />\n                <h3 className=\"text-lg font-medium text-gray-600 mb-2\">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø·Ø§Ø¹Ù…</h3>\n                <p className=\"text-gray-500\">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø·Ø§Ø¹Ù… Ù…ØªØ§Ø­Ø© ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„ØªØµÙ†ÙŠÙ Ø­Ø§Ù„ÙŠØ§Ù‹</p>\n              </div>\n            )}\n            \n            {/* Loading state */}\n            {isLoading && (\n              <div className=\"space-y-4\">\n                {[...Array(3)].map((_, i) => (\n                  <div key={i} className=\"bg-white rounded-2xl border border-gray-100 overflow-hidden\">\n                    <div className=\"flex p-4\">\n                      <div className=\"w-16 h-16 bg-gray-200 rounded-xl animate-pulse mr-4\" />\n                      <div className=\"flex-1 space-y-3\">\n                        <div className=\"h-4 bg-gray-200 rounded animate-pulse\" />\n                        <div className=\"h-3 bg-gray-200 rounded w-3/4 animate-pulse\" />\n                        <div className=\"h-3 bg-gray-200 rounded w-1/2 animate-pulse\" />\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        </section>\n      </main>\n      \n      {/* Interactive Bottom Banner */}\n      <div className=\"fixed bottom-0 left-0 right-0 max-w-md mx-auto bg-white border-t border-gray-200 px-4 py-3 z-50\">\n        <div className=\"grid grid-cols-4 gap-2\">\n          <div \n            className=\"text-center cursor-pointer p-2 rounded-lg hover:bg-gray-50 transition-colors\" \n            onClick={() => setLocation('/profile')}\n          >\n            <div className=\"w-10 h-10 mx-auto mb-1 bg-blue-100 rounded-lg flex items-center justify-center\">\n              <User className=\"h-5 w-5 text-blue-600\" />\n            </div>\n            <span className=\"text-xs font-medium text-gray-700\">Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ</span>\n          </div>\n          \n          <div \n            className=\"text-center cursor-pointer p-2 rounded-lg hover:bg-gray-50 transition-colors\" \n            onClick={() => setSelectedCategory('all')}\n          >\n            <div className=\"w-10 h-10 mx-auto mb-1 bg-green-100 rounded-lg flex items-center justify-center\">\n              <Menu className=\"h-5 w-5 text-green-600\" />\n            </div>\n            <span className=\"text-xs font-medium text-gray-700\">ÙƒÙ„ Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª</span>\n          </div>\n          \n          <div \n            className=\"text-center cursor-pointer p-2 rounded-lg hover:bg-gray-50 transition-colors\" \n            onClick={() => setSelectedCategory('restaurants')}\n          >\n            <div className=\"w-10 h-10 mx-auto mb-1 bg-orange-100 rounded-lg flex items-center justify-center\">\n              <UtensilsCrossed className=\"h-5 w-5 text-orange-600\" />\n            </div>\n            <span className=\"text-xs font-medium text-gray-700\">Ø§Ù„Ù…Ø·Ø§Ø¹Ù…</span>\n          </div>\n          \n          <div \n            className=\"text-center cursor-pointer p-2 rounded-lg hover:bg-gray-50 transition-colors\" \n            onClick={() => setLocation('/settings')}\n          >\n            <div className=\"w-10 h-10 mx-auto mb-1 bg-purple-100 rounded-lg flex items-center justify-center\">\n              <Settings className=\"h-5 w-5 text-purple-600\" />\n            </div>\n            <span className=\"text-xs font-medium text-gray-700\">Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","size_bytes":18335},"client/src/pages/HomePage.tsx":{"content":"import { useState, useEffect } from 'react';\nimport { useQuery } from '@tanstack/react-query';\nimport { useLocation } from 'wouter';\nimport { \n  Search, \n  MapPin, \n  Star, \n  ShoppingBag,\n  Truck,\n  Settings,\n  User,\n  Menu,\n  Beef,\n  Cookie,\n  UtensilsCrossed,\n  Heart,\n  Timer\n} from 'lucide-react';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport type { Category, Restaurant, SpecialOffer } from '@shared/schema';\n\nexport default function HomePage() {\n  const [, setLocation] = useLocation();\n  const [selectedCategory, setSelectedCategory] = useState('all');\n\n  // Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\n  const { data: restaurants } = useQuery<Restaurant[]>({\n    queryKey: ['/api/restaurants'],\n  });\n\n  const handleRestaurantClick = (restaurantId: string) => {\n    setLocation(`/restaurant/${restaurantId}`);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Timing Banner - Similar to reference */}\n      <div className=\"bg-gray-100 py-3\">\n        <div className=\"max-w-md mx-auto px-4 text-center\">\n          <div className=\"orange-gradient text-white px-4 py-2 rounded-full inline-flex items-center gap-2 text-sm\">\n            <Timer className=\"h-4 w-4\" />\n            <span>Ø£ÙˆÙ‚Ø§Øª Ø§Ù„Ø¯ÙˆØ§Ù… Ù…Ù† Ø§Ù„Ø³Ø§Ø¹Ø© 11:00 Ù…Ù† ØµØ¨Ø§Ø­Ø§ Ø­ØªÙ‰ 11:09 Ù…</span>\n            <span className=\"bg-white/20 px-2 py-1 rounded text-xs\">Ù…ØºÙ„Ù‚</span>\n          </div>\n        </div>\n      </div>\n\n      {/* Main Content */}\n      <main className=\"max-w-md mx-auto px-4 py-6\">\n        {/* Category Grid - Matching reference design exactly */}\n        <section className=\"mb-6\">\n          <div className=\"grid grid-cols-4 gap-3\">\n            {/* Meat Category */}\n            <div className=\"text-center cursor-pointer\" onClick={() => setSelectedCategory('meat')}>\n              <div className=\"w-16 h-16 mx-auto mb-2 bg-white rounded-2xl shadow-sm flex items-center justify-center border border-gray-100\">\n                <Beef className=\"h-8 w-8 text-red-500\" />\n              </div>\n              <h4 className=\"text-xs font-medium text-gray-700\">Ø§Ù„Ù„Ø­ÙˆÙ…</h4>\n            </div>\n            \n            {/* Sweets Category */}\n            <div className=\"text-center cursor-pointer\" onClick={() => setSelectedCategory('sweets')}>\n              <div className=\"w-16 h-16 mx-auto mb-2 bg-white rounded-2xl shadow-sm flex items-center justify-center border border-gray-100\">\n                <Cookie className=\"h-8 w-8 text-pink-500\" />\n              </div>\n              <h4 className=\"text-xs font-medium text-gray-700\">Ø§Ù„Ø­Ù„ÙˆÙŠØ§Øª</h4>\n            </div>\n            \n            {/* Restaurants Category */}\n            <div className=\"text-center cursor-pointer\" onClick={() => setSelectedCategory('restaurants')}>\n              <div className=\"w-16 h-16 mx-auto mb-2 bg-white rounded-2xl shadow-sm flex items-center justify-center border border-gray-100\">\n                <UtensilsCrossed className=\"h-8 w-8 text-orange-500\" />\n              </div>\n              <h4 className=\"text-xs font-medium text-gray-700\">Ø§Ù„Ù…Ø·Ø§Ø¹Ù…</h4>\n            </div>\n            \n            {/* All Categories */}\n            <div className=\"text-center cursor-pointer\" onClick={() => setSelectedCategory('all')}>\n              <div className=\"w-16 h-16 mx-auto mb-2 bg-white rounded-2xl shadow-sm flex items-center justify-center border border-gray-100\">\n                <Menu className=\"h-8 w-8 text-blue-500\" />\n              </div>\n              <h4 className=\"text-xs font-medium text-gray-700\">ÙƒÙ„ Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª</h4>\n            </div>\n          </div>\n        </section>\n\n        {/* Promotional Banners - Exactly like reference image */}\n        <section className=\"mb-6\">\n          <div className=\"grid grid-cols-2 gap-3\">\n            {/* Special Offer Banner */}\n            <div className=\"relative h-32 overflow-hidden rounded-2xl cursor-pointer hover:shadow-lg transition-shadow\">\n              <div className=\"absolute inset-0 orange-gradient p-4 text-white\">\n                <div className=\"absolute top-3 left-3 bg-white/20 px-2 py-1 rounded-full text-xs\">\n                  Ø¹Ø±Ø¶ Ø®Ø§Øµ\n                </div>\n                <div className=\"absolute bottom-3 right-3\">\n                  <h3 className=\"text-sm font-bold mb-1\">Ø¹Ø±Ø¶ Ù…Ø¬Ø§Ù†ÙŠ ÙŠØµÙ„ Ø¹Ø¨Ø± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</h3>\n                  <p className=\"text-xs opacity-90\">Ø¹Ù†Ø¯ Ø·Ù„Ø¨ Ø£ÙŠ Ø§ÙƒÙ„ Ù…Ù† Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</p>\n                  <p className=\"text-xs mt-1 bg-white/20 inline-block px-2 py-1 rounded\">\n                    ØµØ§Ù„Ø­ Ø­ØªÙ‰ 15.000 Ø¯\n                  </p>\n                </div>\n              </div>\n            </div>\n\n            {/* Million Offer Banner */}\n            <div className=\"relative h-32 overflow-hidden rounded-2xl cursor-pointer hover:shadow-lg transition-shadow\">\n              <div className=\"absolute inset-0 red-gradient p-4 text-white\">\n                <div className=\"absolute top-3 left-3 bg-white/20 px-2 py-1 rounded-full text-xs\">\n                  1,000,000\n                </div>\n                <div className=\"absolute bottom-3 right-3\">\n                  <h3 className=\"text-sm font-bold mb-1\">ÙƒÙ„ Ø§Ù„Ø¹Ø±ÙˆØ¶</h3>\n                  <p className=\"text-xs opacity-90\">Ø§Ù„Ø§Ø·Ø¨Ø§Ù‚ Ø§Ù„Ø£Ù…Ø±ÙŠÙƒÙŠØ©</p>\n                  <p className=\"text-xs mt-1 bg-white/20 inline-block px-2 py-1 rounded\">\n                    Ù…ØªØ§Ø­ Ø­ØªÙ‰ 15.000 Ø¯\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </section>\n\n        {/* Restaurant Section with Tab Navigation */}\n        <section>\n          {/* Tab Navigation - Similar to reference */}\n          <div className=\"mb-4\">\n            <div className=\"flex border-b border-gray-200\">\n              <button \n                className={`px-4 py-3 font-medium text-sm border-b-2 transition-colors ${\n                  selectedCategory === 'popular' \n                    ? 'border-red-500 text-red-600' \n                    : 'border-transparent text-gray-500 hover:text-gray-700'\n                }`}\n                onClick={() => setSelectedCategory('popular')}\n              >\n                Ø§Ù„Ù…ÙØ¶Ù„Ø©\n              </button>\n              <button \n                className={`px-4 py-3 font-medium text-sm border-b-2 transition-colors ${\n                  selectedCategory === 'nearest' \n                    ? 'border-red-500 text-red-600' \n                    : 'border-transparent text-gray-500 hover:text-gray-700'\n                }`}\n                onClick={() => setSelectedCategory('nearest')}\n              >\n                Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©\n              </button>\n              <button \n                className={`px-4 py-3 font-medium text-sm border-b-2 transition-colors ${\n                  selectedCategory === 'offers' \n                    ? 'border-red-500 text-red-600' \n                    : 'border-transparent text-gray-500 hover:text-gray-700'\n                }`}\n                onClick={() => setSelectedCategory('offers')}\n              >\n                Ø§Ù„Ø£Ù‚Ø±Ø¨\n              </button>\n              <button \n                className={`px-4 py-3 font-medium text-sm border-b-2 transition-colors ${\n                  selectedCategory === 'all' \n                    ? 'border-red-500 text-red-600' \n                    : 'border-transparent text-gray-500 hover:text-gray-700'\n                }`}\n                onClick={() => setSelectedCategory('all')}\n              >\n                Ø§Ù„ÙƒÙ„\n              </button>\n            </div>\n          </div>\n\n          {/* Restaurant Cards - Matching reference design */}\n          <div className=\"space-y-4\">\n            {/* Sample restaurants since database is empty */}\n            {[\n              {\n                id: '1',\n                name: 'Ø§Ù„Ù…Ø±Ø§Ø³ÙŠÙ…',\n                category: 'Ø¯ÙˆÙ„Ø© ÙƒØ§Ù„ÙŠÙƒØ³ - Ø§Ù„Ù…Ù†ØµÙˆØ±Ø©',\n                rating: 5,\n                image: null,\n                deliveryTime: '30-45 Ø¯Ù‚ÙŠÙ‚Ø©',\n                deliveryFee: 'Ù…Ø¬Ø§Ù†ÙŠ',\n                badge: 'Ù…ØºÙ„Ù‚'\n              },\n              {\n                id: '2', \n                name: 'Ù…Ø·Ø§Ø¹Ù… ÙˆÙ…Ø·Ø§Ø¨Ø® Ø§Ù„Ø·ÙˆÙŠÙ„',\n                category: 'Ø¯ÙˆÙ„Ø© Ø§Ù„Ø³ÙŠØ¦ÙŠÙ†Ø©',\n                rating: 5,\n                image: null,\n                deliveryTime: '25-40 Ø¯Ù‚ÙŠÙ‚Ø©',\n                deliveryFee: 'Ù…Ø¬Ø§Ù†ÙŠ',\n                badge: 'Ù…ØºÙ„Ù‚'\n              },\n              {\n                id: '3',\n                name: 'Ù…Ø·Ø¹Ù… Ø§Ù„Ø´Ø±Ù‚ Ø§Ù„Ø£ÙˆØ³Ø·',\n                category: 'Ø§Ù„Ø­Ø¯ÙŠØ« (Ø¹Ø¯Ù†)',\n                rating: 5,\n                image: null,\n                deliveryTime: '20-35 Ø¯Ù‚ÙŠÙ‚Ø©',\n                deliveryFee: 'Ù…Ø¬Ø§Ù†ÙŠ',\n                badge: 'Ù…ØºÙ„Ù‚'\n              },\n              {\n                id: '4',\n                name: 'Ù…Ø·Ø¹Ù… Ø´ÙˆØ§Ø·Ø¦ Ø¹Ø¯Ù†',\n                category: 'Ø§Ù„Ø¨Ø³Ø§ØªÙŠØ©',\n                rating: 4,\n                image: null,\n                deliveryTime: '30-50 Ø¯Ù‚ÙŠÙ‚Ø©',\n                deliveryFee: 'Ù…Ø¬Ø§Ù†ÙŠ',\n                badge: 'Ù…ØºÙ„Ù‚'\n              }\n            ].map((restaurant) => (\n              <div \n                key={restaurant.id}\n                className=\"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden cursor-pointer hover:shadow-md transition-shadow\"\n                onClick={() => handleRestaurantClick(restaurant.id)}\n              >\n                <div className=\"flex p-4\">\n                  {/* Restaurant Logo/Image */}\n                  <div className=\"w-16 h-16 bg-gray-100 rounded-xl flex-shrink-0 flex items-center justify-center mr-4\">\n                    {restaurant.image ? (\n                      <img src={restaurant.image} alt={restaurant.name} className=\"w-full h-full object-cover rounded-xl\" />\n                    ) : (\n                      <UtensilsCrossed className=\"h-8 w-8 text-gray-400\" />\n                    )}\n                  </div>\n                  \n                  {/* Restaurant Info */}\n                  <div className=\"flex-1\">\n                    <div className=\"flex items-start justify-between\">\n                      <div>\n                        <h4 className=\"font-semibold text-gray-900 text-sm mb-1\">{restaurant.name}</h4>\n                        <p className=\"text-xs text-gray-600 mb-2\">{restaurant.category}</p>\n                        <div className=\"flex items-center gap-2 text-xs text-gray-500\">\n                          <span>Ø®Ø· Ø§Ù„ØªØ³Ø¹ÙŠÙ†</span>\n                        </div>\n                      </div>\n                      \n                      {/* Rating and Actions */}\n                      <div className=\"text-left flex flex-col items-end\">\n                        <div className=\"flex items-center gap-1 mb-2\">\n                          {[...Array(restaurant.rating)].map((_, i) => (\n                            <Star key={i} className=\"h-3 w-3 text-yellow-400 fill-current\" />\n                          ))}\n                          <span className=\"text-xs font-medium ml-1\">{restaurant.rating}</span>\n                        </div>\n                        <Badge \n                          className={`text-xs mb-2 ${\n                            restaurant.badge === 'Ù…ØºÙ„Ù‚' \n                              ? 'bg-red-600 text-white hover:bg-red-700' \n                              : 'bg-green-600 text-white hover:bg-green-700'\n                          }`}\n                        >\n                          {restaurant.badge}\n                        </Badge>\n                        <Heart className=\"h-4 w-4 text-gray-400 cursor-pointer hover:text-red-500\" />\n                      </div>\n                    </div>\n                    \n                    {/* Bottom Action Button */}\n                    <div className=\"mt-3\">\n                      <Button \n                        size=\"sm\" \n                        className=\"bg-red-600 hover:bg-red-700 text-white px-6 py-1 text-xs rounded-full\"\n                      >\n                        Ù…ØºÙ„Ù‚\n                      </Button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ))}\n            \n            {/* Database restaurants when available */}\n            {restaurants && restaurants.length > 0 && restaurants.map((restaurant) => (\n              <Card \n                key={restaurant.id}\n                className=\"overflow-hidden hover:shadow-md transition-shadow cursor-pointer\"\n                onClick={() => handleRestaurantClick(restaurant.id)}\n              >\n                <CardContent className=\"p-0\">\n                  <div className=\"flex\">\n                    <div className=\"w-20 h-20 bg-gray-200 flex-shrink-0 flex items-center justify-center\">\n                      {restaurant.image ? (\n                        <img src={restaurant.image} alt={restaurant.name} className=\"w-full h-full object-cover\" />\n                      ) : (\n                        <UtensilsCrossed className=\"h-8 w-8 text-gray-400\" />\n                      )}\n                    </div>\n                    <div className=\"flex-1 p-4\">\n                      <div className=\"flex items-start justify-between mb-1\">\n                        <div>\n                          <h4 className=\"font-semibold text-gray-900 mb-1\">{restaurant.name}</h4>\n                          <p className=\"text-sm text-gray-600 mb-2\">{restaurant.description}</p>\n                          <div className=\"flex items-center gap-2 text-xs text-gray-500\">\n                            <span>{restaurant.deliveryTime}</span>\n                            <span>â€¢</span>\n                            <span>Ø±Ø³ÙˆÙ… Ø§Ù„ØªÙˆØµÙŠÙ„: {restaurant.deliveryFee} Ø±ÙŠØ§Ù„</span>\n                          </div>\n                        </div>\n                        <div className=\"text-right\">\n                          <div className=\"flex items-center gap-1 mb-2\">\n                            <span className=\"text-sm font-medium\">{restaurant.rating}</span>\n                            <Star className=\"h-3 w-3 text-yellow-400 fill-current\" />\n                          </div>\n                          <Badge className={restaurant.isOpen ? 'bg-green-600 text-white' : 'bg-red-600 text-white'}>\n                            {restaurant.isOpen ? 'Ù…ÙØªÙˆØ­' : 'Ù…ØºÙ„Ù‚'}\n                          </Badge>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n            ))}\n            \n            {/* Empty state */}\n            {(!restaurants || restaurants.length === 0) && (\n              <div className=\"text-center py-8 text-gray-500\">\n                <UtensilsCrossed className=\"h-12 w-12 mx-auto mb-4 text-gray-300\" />\n                <p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø·Ø§Ø¹Ù… Ù…ØªØ§Ø­Ø© ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø­Ø§Ù„ÙŠ</p>\n              </div>\n            )}\n          </div>\n        </section>\n      </main>\n\n      {/* Footer */}\n      <footer className=\"bg-gray-900 text-white py-12 mt-16\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8\">\n            <div>\n              <div className=\"flex items-center gap-3 mb-4\">\n                <div className=\"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center\">\n                  <ShoppingBag className=\"h-5 w-5 text-white\" />\n                </div>\n                <h3 className=\"text-xl font-bold\">Ø§Ù„Ø³Ø±ÙŠØ¹ ÙˆÙ†</h3>\n              </div>\n              <p className=\"text-gray-400\">\n                Ø£ÙØ¶Ù„ ØªØ·Ø¨ÙŠÙ‚ ØªÙˆØµÙŠÙ„ Ø·Ø¹Ø§Ù… ÙÙŠ Ø§Ù„ÙŠÙ…Ù†. Ù†ÙˆØµÙ„ Ù„Ùƒ Ø·Ø¹Ø§Ù…Ùƒ Ø§Ù„Ù…ÙØ¶Ù„ Ø¨Ø³Ø±Ø¹Ø© ÙˆØ£Ù…Ø§Ù†.\n              </p>\n            </div>\n            \n            <div>\n              <h4 className=\"font-semibold mb-4\">Ø±ÙˆØ§Ø¨Ø· Ø³Ø±ÙŠØ¹Ø©</h4>\n              <ul className=\"space-y-2 text-gray-400\">\n                <li><a href=\"#\" className=\"hover:text-white transition-colors\">Ù…Ù† Ù†Ø­Ù†</a></li>\n                <li><a href=\"#\" className=\"hover:text-white transition-colors\">Ø§ØªØµÙ„ Ø¨Ù†Ø§</a></li>\n                <li><a href=\"#\" className=\"hover:text-white transition-colors\">Ø§Ù„Ø´Ø±ÙˆØ· ÙˆØ§Ù„Ø£Ø­ÙƒØ§Ù…</a></li>\n                <li><a href=\"#\" className=\"hover:text-white transition-colors\">Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©</a></li>\n              </ul>\n            </div>\n            \n            <div>\n              <h4 className=\"font-semibold mb-4\">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</h4>\n              <div className=\"space-y-2 text-gray-400\">\n                <p>ğŸ“ +967 1 234 567</p>\n                <p>ğŸ“§ info@sareeone.com</p>\n                <p>ğŸ“ ØµÙ†Ø¹Ø§Ø¡ØŒ Ø§Ù„ÙŠÙ…Ù†</p>\n              </div>\n            </div>\n          </div>\n          \n          <div className=\"border-t border-gray-800 mt-8 pt-8 text-center text-gray-400\">\n            <p>&copy; 2024 Ø§Ù„Ø³Ø±ÙŠØ¹ ÙˆÙ†. Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©.</p>\n          </div>\n        </div>\n      </footer>\n    </div>\n  );\n}","size_bytes":17156},"client/src/pages/Location.tsx":{"content":"import { useState } from 'react';\nimport { useLocation } from 'wouter';\nimport { ArrowRight, MapPin, Plus, Target, Home, Building } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Badge } from '@/components/ui/badge';\nimport { useToast } from '@/hooks/use-toast';\n\ninterface SavedAddress {\n  id: string;\n  type: 'home' | 'work' | 'other';\n  label: string;\n  address: string;\n  details: string;\n  isDefault: boolean;\n}\n\nexport default function Location() {\n  const [, setLocation] = useLocation();\n  const { toast } = useToast();\n  \n  const [showAddForm, setShowAddForm] = useState(false);\n  const [newAddress, setNewAddress] = useState({\n    type: 'home' as 'home' | 'work' | 'other',\n    label: '',\n    address: '',\n    details: '',\n  });\n\n  const [savedAddresses, setSavedAddresses] = useState<SavedAddress[]>([\n    {\n      id: '1',\n      type: 'home',\n      label: 'Ø§Ù„Ù…Ù†Ø²Ù„',\n      address: 'ØµÙ†Ø¹Ø§Ø¡ØŒ Ø´Ø§Ø±Ø¹ Ø§Ù„Ø²Ø¨ÙŠØ±ÙŠ',\n      details: 'Ø¨Ø¬Ø§Ù†Ø¨ Ù…Ø³Ø¬Ø¯ Ø§Ù„Ù†ÙˆØ±ØŒ Ø§Ù„Ø·Ø§Ø¨Ù‚ Ø§Ù„Ø«Ø§Ù†ÙŠ',\n      isDefault: true,\n    },\n    {\n      id: '2',\n      type: 'work',\n      label: 'Ø§Ù„Ø¹Ù…Ù„',\n      address: 'ØµÙ†Ø¹Ø§Ø¡ØŒ Ø´Ø§Ø±Ø¹ Ø§Ù„Ø³Ø¨Ø¹ÙŠÙ†',\n      details: 'Ù…Ø¬Ù…Ø¹ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ØŒ Ù…ÙƒØªØ¨ Ø±Ù‚Ù… 205',\n      isDefault: false,\n    },\n  ]);\n\n  const handleAddAddress = () => {\n    if (!newAddress.label || !newAddress.address) {\n      toast({\n        title: \"Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù†Ø§Ù‚ØµØ©\",\n        description: \"ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    const address: SavedAddress = {\n      id: Date.now().toString(),\n      ...newAddress,\n      isDefault: savedAddresses.length === 0,\n    };\n\n    setSavedAddresses(prev => [...prev, address]);\n    setNewAddress({ type: 'home', label: '', address: '', details: '' });\n    setShowAddForm(false);\n    \n    toast({\n      title: \"ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ù†ÙˆØ§Ù†\",\n      description: \"ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¬Ø¯ÙŠØ¯ Ø¨Ù†Ø¬Ø§Ø­\",\n    });\n  };\n\n  const handleSetDefault = (id: string) => {\n    setSavedAddresses(prev =>\n      prev.map(addr => ({ ...addr, isDefault: addr.id === id }))\n    );\n    toast({\n      title: \"ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ\",\n      description: \"ØªÙ… ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø¹Ù†ÙˆØ§Ù† ÙƒØ§ÙØªØ±Ø§Ø¶ÙŠ Ù„Ù„ØªÙˆØµÙŠÙ„\",\n    });\n  };\n\n  const handleDeleteAddress = (id: string) => {\n    setSavedAddresses(prev => prev.filter(addr => addr.id !== id));\n    toast({\n      title: \"ØªÙ… Ø­Ø°Ù Ø§Ù„Ø¹Ù†ÙˆØ§Ù†\",\n      description: \"ØªÙ… Ø­Ø°Ù Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©\",\n    });\n  };\n\n  const getAddressIcon = (type: string) => {\n    switch (type) {\n      case 'home': return Home;\n      case 'work': return Building;\n      default: return MapPin;\n    }\n  };\n\n  const getAddressColor = (type: string) => {\n    switch (type) {\n      case 'home': return 'text-green-500';\n      case 'work': return 'text-blue-500';\n      default: return 'text-purple-500';\n    }\n  };\n\n  return (\n    <div>\n      {/* Header */}\n      <header className=\"bg-card border-b border-border p-4\">\n        <div className=\"flex items-center gap-3\">\n          <Button\n            variant=\"ghost\"\n            size=\"icon\"\n            onClick={() => setLocation('/profile')}\n            data-testid=\"button-location-back\"\n          >\n            <ArrowRight className=\"h-5 w-5\" />\n          </Button>\n          <h2 className=\"text-xl font-bold text-foreground\">Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ† Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©</h2>\n        </div>\n      </header>\n\n      <section className=\"p-4 space-y-6\">\n        {/* Current Location */}\n        <Card>\n          <CardContent className=\"p-4\">\n            <div className=\"flex items-center gap-3 mb-3\">\n              <Target className=\"h-6 w-6 text-primary\" />\n              <div>\n                <h3 className=\"font-medium text-foreground\">Ù…ÙˆÙ‚Ø¹Ùƒ Ø§Ù„Ø­Ø§Ù„ÙŠ</h3>\n                <p className=\"text-sm text-muted-foreground\">ØªÙ… ØªØ­Ø¯ÙŠØ¯Ù‡ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹</p>\n              </div>\n            </div>\n            <div className=\"bg-muted p-3 rounded-lg\">\n              <p className=\"text-foreground\" data-testid=\"current-location\">\n                ØµÙ†Ø¹Ø§Ø¡ØŒ Ø´Ø§Ø±Ø¹ Ø§Ù„Ø³ØªÙŠÙ†ØŒ Ù‚Ø±Ø¨ Ø¯ÙˆØ§Ø± Ø§Ù„Ø£Ù…Ù… Ø§Ù„Ù…ØªØ­Ø¯Ø©\n              </p>\n            </div>\n            <Button \n              variant=\"outline\" \n              className=\"w-full mt-3\"\n              data-testid=\"button-use-current-location\"\n            >\n              Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø­Ø§Ù„ÙŠ\n            </Button>\n          </CardContent>\n        </Card>\n\n        {/* Add New Address */}\n        <Card>\n          <CardHeader>\n            <div className=\"flex items-center justify-between\">\n              <CardTitle className=\"text-lg\">Ø¥Ø¶Ø§ÙØ© Ø¹Ù†ÙˆØ§Ù† Ø¬Ø¯ÙŠØ¯</CardTitle>\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                onClick={() => setShowAddForm(!showAddForm)}\n                data-testid=\"button-toggle-add-form\"\n              >\n                <Plus className=\"h-5 w-5\" />\n              </Button>\n            </div>\n          </CardHeader>\n          {showAddForm && (\n            <CardContent className=\"space-y-4\">\n              <div>\n                <Label className=\"text-foreground\">Ù†ÙˆØ¹ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</Label>\n                <div className=\"flex gap-2 mt-2\">\n                  {[\n                    { value: 'home', label: 'Ø§Ù„Ù…Ù†Ø²Ù„', icon: Home },\n                    { value: 'work', label: 'Ø§Ù„Ø¹Ù…Ù„', icon: Building },\n                    { value: 'other', label: 'Ø£Ø®Ø±Ù‰', icon: MapPin },\n                  ].map((type) => {\n                    const Icon = type.icon;\n                    return (\n                      <Button\n                        key={type.value}\n                        variant={newAddress.type === type.value ? 'default' : 'outline'}\n                        className=\"flex-1 gap-2\"\n                        onClick={() => setNewAddress(prev => ({ ...prev, type: type.value as any }))}\n                        data-testid={`address-type-${type.value}`}\n                      >\n                        <Icon className=\"h-4 w-4\" />\n                        {type.label}\n                      </Button>\n                    );\n                  })}\n                </div>\n              </div>\n\n              <div>\n                <Label htmlFor=\"address-label\" className=\"text-foreground\">ØªØ³Ù…ÙŠØ© Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</Label>\n                <Input\n                  id=\"address-label\"\n                  value={newAddress.label}\n                  onChange={(e) => setNewAddress(prev => ({ ...prev, label: e.target.value }))}\n                  placeholder=\"Ù…Ø«Ø§Ù„: Ø§Ù„Ù…Ù†Ø²Ù„ØŒ Ø§Ù„Ø¹Ù…Ù„ØŒ Ø¨ÙŠØª Ø§Ù„Ø£Ù‡Ù„\"\n                  data-testid=\"input-address-label\"\n                />\n              </div>\n\n              <div>\n                <Label htmlFor=\"address-street\" className=\"text-foreground\">Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ *</Label>\n                <Input\n                  id=\"address-street\"\n                  value={newAddress.address}\n                  onChange={(e) => setNewAddress(prev => ({ ...prev, address: e.target.value }))}\n                  placeholder=\"Ø§Ù„Ø´Ø§Ø±Ø¹ ÙˆØ§Ù„Ø­ÙŠ\"\n                  data-testid=\"input-address-street\"\n                />\n              </div>\n\n              <div>\n                <Label htmlFor=\"address-details\" className=\"text-foreground\">ØªÙØ§ØµÙŠÙ„ Ø¥Ø¶Ø§ÙÙŠØ©</Label>\n                <Input\n                  id=\"address-details\"\n                  value={newAddress.details}\n                  onChange={(e) => setNewAddress(prev => ({ ...prev, details: e.target.value }))}\n                  placeholder=\"Ø±Ù‚Ù… Ø§Ù„Ø·Ø§Ø¨Ù‚ØŒ Ù…Ø¹Ø§Ù„Ù… Ù‚Ø±ÙŠØ¨Ø©ØŒ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ù„Ù„Ø³Ø§Ø¦Ù‚\"\n                  data-testid=\"input-address-details\"\n                />\n              </div>\n\n              <div className=\"flex gap-2\">\n                <Button onClick={handleAddAddress} className=\"flex-1\" data-testid=\"button-save-address\">\n                  Ø­ÙØ¸ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†\n                </Button>\n                <Button \n                  variant=\"outline\" \n                  onClick={() => setShowAddForm(false)}\n                  data-testid=\"button-cancel-add\"\n                >\n                  Ø¥Ù„ØºØ§Ø¡\n                </Button>\n              </div>\n            </CardContent>\n          )}\n        </Card>\n\n        {/* Saved Addresses */}\n        <div className=\"space-y-3\">\n          <h3 className=\"text-lg font-bold text-foreground\">Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ† Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©</h3>\n          \n          {savedAddresses.map((address) => {\n            const Icon = getAddressIcon(address.type);\n            const iconColor = getAddressColor(address.type);\n            \n            return (\n              <Card key={address.id} className={`${address.isDefault ? 'border-primary' : ''}`}>\n                <CardContent className=\"p-4\">\n                  <div className=\"flex items-start justify-between\">\n                    <div className=\"flex items-start gap-3 flex-1\">\n                      <Icon className={`h-6 w-6 ${iconColor} mt-1`} />\n                      <div className=\"flex-1\">\n                        <div className=\"flex items-center gap-2 mb-1\">\n                          <h4 className=\"font-medium text-foreground\" data-testid={`address-label-${address.id}`}>\n                            {address.label}\n                          </h4>\n                          {address.isDefault && (\n                            <Badge variant=\"secondary\" className=\"text-xs\">Ø§ÙØªØ±Ø§Ø¶ÙŠ</Badge>\n                          )}\n                        </div>\n                        <p className=\"text-sm text-foreground mb-1\" data-testid={`address-street-${address.id}`}>\n                          {address.address}\n                        </p>\n                        {address.details && (\n                          <p className=\"text-sm text-muted-foreground\" data-testid={`address-details-${address.id}`}>\n                            {address.details}\n                          </p>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                  \n                  <div className=\"flex gap-2 mt-3\">\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      className=\"flex-1\"\n                      onClick={() => setLocation('/cart')}\n                      data-testid={`button-deliver-here-${address.id}`}\n                    >\n                      Ø§Ù„ØªÙˆØµÙŠÙ„ Ù‡Ù†Ø§\n                    </Button>\n                    {!address.isDefault && (\n                      <Button\n                        variant=\"outline\"\n                        size=\"sm\"\n                        onClick={() => handleSetDefault(address.id)}\n                        data-testid={`button-set-default-${address.id}`}\n                      >\n                        ØªØ¹ÙŠÙŠÙ† ÙƒØ§ÙØªØ±Ø§Ø¶ÙŠ\n                      </Button>\n                    )}\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={() => handleDeleteAddress(address.id)}\n                      className=\"text-destructive hover:bg-destructive/10\"\n                      data-testid={`button-delete-address-${address.id}`}\n                    >\n                      Ø­Ø°Ù\n                    </Button>\n                  </div>\n                </CardContent>\n              </Card>\n            );\n          })}\n        </div>\n      </section>\n    </div>\n  );\n}","size_bytes":11766},"client/src/pages/LoginPage.tsx":{"content":"import React, { useState } from 'react';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '../components/ui/card';\nimport { Button } from '../components/ui/button';\nimport { Input } from '../components/ui/input';\nimport { Label } from '../components/ui/label';\nimport { Alert, AlertDescription } from '../components/ui/alert';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '../components/ui/tabs';\nimport { useAuth } from '../context/AuthContext';\nimport { Loader2, Shield, Truck } from 'lucide-react';\n\ninterface LoginPageProps {\n  onSuccess: () => void;\n}\n\nexport const LoginPage: React.FC<LoginPageProps> = ({ onSuccess }) => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [activeTab, setActiveTab] = useState('admin');\n  const { login } = useAuth();\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n\n    try {\n      const result = await login(email, password);\n      if (result.success) {\n        onSuccess();\n      } else {\n        setError(result.message);\n      }\n    } catch (error) {\n      setError('Ø®Ø·Ø£ ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„');\n    }\n\n    setLoading(false);\n  };\n\n  const fillAdminCredentials = () => {\n    setEmail('admin@alsarie-one.com');\n    setPassword('admin123456');\n  };\n\n  const fillDriverCredentials = () => {\n    setEmail('+967771234567');\n    setPassword('$2b$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi');\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4\" dir=\"rtl\">\n      <Card className=\"w-full max-w-md\">\n        <CardHeader className=\"text-center\">\n          <CardTitle className=\"text-2xl font-bold text-gray-900\">\n            ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ù„Ù†Ø¸Ø§Ù…\n          </CardTitle>\n          <CardDescription>\n            Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙˆØ£Ø¯Ø®Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯Ø®ÙˆÙ„\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <Tabs value={activeTab} onValueChange={setActiveTab} className=\"w-full\">\n            <TabsList className=\"grid w-full grid-cols-2\">\n              <TabsTrigger value=\"admin\" className=\"flex items-center gap-2\">\n                <Shield className=\"w-4 h-4\" />\n                Ù…Ø¯ÙŠØ± Ø§Ù„Ù†Ø¸Ø§Ù…\n              </TabsTrigger>\n              <TabsTrigger value=\"driver\" className=\"flex items-center gap-2\">\n                <Truck className=\"w-4 h-4\" />\n                Ø³Ø§Ø¦Ù‚\n              </TabsTrigger>\n            </TabsList>\n\n            <form onSubmit={handleSubmit} className=\"space-y-4 mt-6\">\n              <TabsContent value=\"admin\" className=\"space-y-4 mt-0\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"email\">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</Label>\n                  <Input\n                    id=\"email\"\n                    type=\"email\"\n                    value={email}\n                    onChange={(e) => setEmail(e.target.value)}\n                    placeholder=\"Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ\"\n                    required\n                    className=\"text-right\"\n                    dir=\"ltr\"\n                  />\n                </div>\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"password\">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</Label>\n                  <Input\n                    id=\"password\"\n                    type=\"password\"\n                    value={password}\n                    onChange={(e) => setPassword(e.target.value)}\n                    placeholder=\"Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±\"\n                    required\n                    className=\"text-right\"\n                    dir=\"ltr\"\n                  />\n                </div>\n                <Button\n                  type=\"button\"\n                  variant=\"outline\"\n                  onClick={fillAdminCredentials}\n                  className=\"w-full\"\n                >\n                  Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¯ÙŠØ± Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©\n                </Button>\n              </TabsContent>\n\n              <TabsContent value=\"driver\" className=\"space-y-4 mt-0\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"phone\">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</Label>\n                  <Input\n                    id=\"phone\"\n                    type=\"tel\"\n                    value={email}\n                    onChange={(e) => setEmail(e.target.value)}\n                    placeholder=\"Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ\"\n                    required\n                    className=\"text-right\"\n                    dir=\"ltr\"\n                  />\n                </div>\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"password\">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</Label>\n                  <Input\n                    id=\"password\"\n                    type=\"password\"\n                    value={password}\n                    onChange={(e) => setPassword(e.target.value)}\n                    placeholder=\"Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±\"\n                    required\n                    className=\"text-right\"\n                    dir=\"ltr\"\n                  />\n                </div>\n                <Button\n                  type=\"button\"\n                  variant=\"outline\"\n                  onClick={fillDriverCredentials}\n                  className=\"w-full\"\n                >\n                  Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø³Ø§Ø¦Ù‚ Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠØ©\n                </Button>\n              </TabsContent>\n\n              {error && (\n                <Alert variant=\"destructive\">\n                  <AlertDescription>{error}</AlertDescription>\n                </Alert>\n              )}\n\n              <Button type=\"submit\" className=\"w-full\" disabled={loading}>\n                {loading ? (\n                  <>\n                    <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                    Ø¬Ø§Ø±ÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„...\n                  </>\n                ) : (\n                  'ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„'\n                )}\n              </Button>\n            </form>\n          </Tabs>\n        </CardContent>\n      </Card>\n    </div>\n  );\n};","size_bytes":6314},"client/src/pages/OrderTracking.tsx":{"content":"import { useState, useEffect } from 'react';\nimport { useParams, useLocation } from 'wouter';\nimport { ArrowRight, MapPin, Clock, Phone, CheckCircle, Truck, Package, User } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Progress } from '@/components/ui/progress';\n\ninterface OrderStatus {\n  id: string;\n  status: 'pending' | 'confirmed' | 'preparing' | 'on_way' | 'delivered' | 'cancelled';\n  timestamp: Date;\n  description: string;\n}\n\ninterface OrderDetails {\n  id: string;\n  customerName: string;\n  customerPhone: string;\n  deliveryAddress: string;\n  items: any[];\n  total: number;\n  status: string;\n  estimatedTime: string;\n  driverName?: string;\n  driverPhone?: string;\n  createdAt: Date;\n}\n\nexport default function OrderTracking() {\n  const { orderId } = useParams<{ orderId: string }>();\n  const [, setLocation] = useLocation();\n  \n  // Mock order data - in real app this would come from API\n  const [order] = useState<OrderDetails>({\n    id: orderId || '12345',\n    customerName: 'Ù…Ø­Ù…Ø¯ Ø£Ø­Ù…Ø¯',\n    customerPhone: '+967771234567',\n    deliveryAddress: 'ØµÙ†Ø¹Ø§Ø¡ØŒ Ø´Ø§Ø±Ø¹ Ø§Ù„Ø²Ø¨ÙŠØ±ÙŠØŒ Ø¨Ø¬Ø§Ù†Ø¨ Ù…Ø³Ø¬Ø¯ Ø§Ù„Ù†ÙˆØ±',\n    items: [\n      { name: 'Ø¹Ø±Ø¨ÙƒØ© Ø¨Ø§Ù„Ù‚Ø´Ø·Ø© ÙˆØ§Ù„Ø¹Ø³Ù„', quantity: 2, price: 55 },\n      { name: 'Ù…ÙŠØ§Ù‡ Ù…Ø¹Ø¯Ù†ÙŠØ©', quantity: 1, price: 3 },\n    ],\n    total: 113,\n    status: 'on_way',\n    estimatedTime: '25 Ø¯Ù‚ÙŠÙ‚Ø©',\n    driverName: 'Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯',\n    driverPhone: '+967771234567',\n    createdAt: new Date(),\n  });\n\n  const [orderHistory] = useState<OrderStatus[]>([\n    { id: '1', status: 'pending', timestamp: new Date(Date.now() - 30 * 60000), description: 'ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ø·Ù„Ø¨' },\n    { id: '2', status: 'confirmed', timestamp: new Date(Date.now() - 25 * 60000), description: 'ØªÙ… ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨ Ù…Ù† Ø§Ù„Ù…Ø·Ø¹Ù…' },\n    { id: '3', status: 'preparing', timestamp: new Date(Date.now() - 15 * 60000), description: 'Ø¬Ø§Ø±ÙŠ ØªØ­Ø¶ÙŠØ± Ø§Ù„Ø·Ù„Ø¨' },\n    { id: '4', status: 'on_way', timestamp: new Date(Date.now() - 5 * 60000), description: 'Ø§Ù„Ø·Ù„Ø¨ ÙÙŠ Ø§Ù„Ø·Ø±ÙŠÙ‚ Ø¥Ù„ÙŠÙƒ' },\n  ]);\n\n  const getStatusProgress = (status: string) => {\n    const statusMap = {\n      pending: 25,\n      confirmed: 40,\n      preparing: 60,\n      on_way: 80,\n      delivered: 100,\n      cancelled: 0,\n    };\n    return statusMap[status as keyof typeof statusMap] || 0;\n  };\n\n  const getStatusColor = (status: string) => {\n    const colorMap = {\n      pending: 'bg-yellow-500',\n      confirmed: 'bg-blue-500',\n      preparing: 'bg-orange-500',\n      on_way: 'bg-purple-500',\n      delivered: 'bg-green-500',\n      cancelled: 'bg-red-500',\n    };\n    return colorMap[status as keyof typeof colorMap] || 'bg-gray-500';\n  };\n\n  const getStatusText = (status: string) => {\n    const textMap = {\n      pending: 'ÙÙŠ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±',\n      confirmed: 'Ù…Ø¤ÙƒØ¯',\n      preparing: 'Ù‚ÙŠØ¯ Ø§Ù„ØªØ­Ø¶ÙŠØ±',\n      on_way: 'ÙÙŠ Ø§Ù„Ø·Ø±ÙŠÙ‚',\n      delivered: 'ØªÙ… Ø§Ù„ØªÙˆØµÙŠÙ„',\n      cancelled: 'Ù…Ù„ØºÙŠ',\n    };\n    return textMap[status as keyof typeof textMap] || status;\n  };\n\n  return (\n    <div>\n      {/* Header */}\n      <header className=\"bg-card border-b border-border p-4\">\n        <div className=\"flex items-center gap-3\">\n          <Button\n            variant=\"ghost\"\n            size=\"icon\"\n            onClick={() => setLocation('/profile')}\n            data-testid=\"button-tracking-back\"\n          >\n            <ArrowRight className=\"h-5 w-5\" />\n          </Button>\n          <h2 className=\"text-xl font-bold text-foreground\">ØªØªØ¨Ø¹ Ø§Ù„Ø·Ù„Ø¨</h2>\n        </div>\n      </header>\n\n      <section className=\"p-4 space-y-6\">\n        {/* Order Status Card */}\n        <Card>\n          <CardHeader>\n            <div className=\"flex items-center justify-between\">\n              <CardTitle className=\"text-lg\">Ø·Ù„Ø¨ Ø±Ù‚Ù… #{order.id}</CardTitle>\n              <Badge \n                className={`${getStatusColor(order.status)} text-white`}\n                data-testid=\"order-status-badge\"\n              >\n                {getStatusText(order.status)}\n              </Badge>\n            </div>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            <div className=\"flex items-center gap-3\">\n              <Clock className=\"h-5 w-5 text-muted-foreground\" />\n              <span className=\"text-foreground\">Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªÙˆÙ‚Ø¹ Ù„Ù„ÙˆØµÙˆÙ„: </span>\n              <span className=\"font-bold text-primary\" data-testid=\"estimated-time\">\n                {order.estimatedTime}\n              </span>\n            </div>\n            \n            <div className=\"space-y-2\">\n              <div className=\"flex justify-between text-sm\">\n                <span className=\"text-muted-foreground\">Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨</span>\n                <span className=\"text-foreground\">{getStatusProgress(order.status)}%</span>\n              </div>\n              <Progress \n                value={getStatusProgress(order.status)} \n                className=\"h-2\"\n                data-testid=\"order-progress\"\n              />\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Driver Info */}\n        {order.status === 'on_way' && order.driverName && (\n          <Card>\n            <CardContent className=\"p-4\">\n              <div className=\"flex items-center gap-3 mb-3\">\n                <div className=\"w-12 h-12 bg-primary rounded-full flex items-center justify-center\">\n                  <User className=\"h-6 w-6 text-primary-foreground\" />\n                </div>\n                <div className=\"flex-1\">\n                  <h4 className=\"font-medium text-foreground\" data-testid=\"driver-name\">\n                    {order.driverName}\n                  </h4>\n                  <p className=\"text-sm text-muted-foreground\">Ø³Ø§Ø¦Ù‚ Ø§Ù„ØªÙˆØµÙŠÙ„</p>\n                </div>\n                <Button \n                  variant=\"outline\" \n                  size=\"sm\"\n                  data-testid=\"button-call-driver\"\n                >\n                  <Phone className=\"h-4 w-4 ml-2\" />\n                  Ø§ØªØµØ§Ù„\n                </Button>\n              </div>\n              <div className=\"bg-muted p-3 rounded-lg\">\n                <div className=\"flex items-center gap-2\">\n                  <Truck className=\"h-4 w-4 text-primary\" />\n                  <span className=\"text-sm text-foreground\">Ø§Ù„Ø³Ø§Ø¦Ù‚ ÙÙŠ Ø§Ù„Ø·Ø±ÙŠÙ‚ Ø¥Ù„ÙŠÙƒ</span>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        )}\n\n        {/* Delivery Address */}\n        <Card>\n          <CardContent className=\"p-4\">\n            <div className=\"flex items-start gap-3\">\n              <MapPin className=\"h-5 w-5 text-primary mt-1\" />\n              <div>\n                <h4 className=\"font-medium text-foreground mb-1\">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØªÙˆØµÙŠÙ„</h4>\n                <p className=\"text-sm text-foreground\" data-testid=\"delivery-address\">\n                  {order.deliveryAddress}\n                </p>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Order Items */}\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"text-lg\">ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨</CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-3\">\n            {order.items.map((item, index) => (\n              <div key={index} className=\"flex justify-between items-center py-2 border-b border-border last:border-0\">\n                <div className=\"flex-1\">\n                  <span className=\"text-foreground font-medium\" data-testid={`item-name-${index}`}>\n                    {item.name}\n                  </span>\n                  <span className=\"text-muted-foreground text-sm mr-2\">\n                    Ã— {item.quantity}\n                  </span>\n                </div>\n                <span className=\"font-bold text-primary\" data-testid={`item-price-${index}`}>\n                  {item.price * item.quantity} Ø±ÙŠØ§Ù„\n                </span>\n              </div>\n            ))}\n            <div className=\"border-t border-border pt-3 mt-3\">\n              <div className=\"flex justify-between items-center font-bold\">\n                <span className=\"text-foreground\">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</span>\n                <span className=\"text-primary\" data-testid=\"order-total\">\n                  {order.total} Ø±ÙŠØ§Ù„\n                </span>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Order Timeline */}\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"text-lg\">ØªØ§Ø±ÙŠØ® Ø§Ù„Ø·Ù„Ø¨</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-4\">\n              {orderHistory.map((status, index) => (\n                <div key={status.id} className=\"flex items-start gap-3\">\n                  <div className={`w-4 h-4 rounded-full ${getStatusColor(status.status)} mt-1 flex-shrink-0`} />\n                  <div className=\"flex-1 min-w-0\">\n                    <p className=\"text-foreground font-medium\" data-testid={`timeline-description-${index}`}>\n                      {status.description}\n                    </p>\n                    <p className=\"text-sm text-muted-foreground\" data-testid={`timeline-time-${index}`}>\n                      {status.timestamp.toLocaleTimeString('ar-YE', { \n                        hour: '2-digit', \n                        minute: '2-digit' \n                      })}\n                    </p>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Action Buttons */}\n        <div className=\"space-y-3\">\n          <Button \n            variant=\"outline\" \n            className=\"w-full\"\n            data-testid=\"button-contact-support\"\n          >\n            ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ø¯Ø¹Ù…\n          </Button>\n          \n          {order.status !== 'delivered' && order.status !== 'cancelled' && (\n            <Button \n              variant=\"destructive\" \n              className=\"w-full\"\n              data-testid=\"button-cancel-order\"\n            >\n              Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø·Ù„Ø¨\n            </Button>\n          )}\n        </div>\n      </section>\n    </div>\n  );\n}","size_bytes":10327},"client/src/pages/OrderTrackingPage.tsx":{"content":"import { useState, useEffect } from 'react';\nimport { useParams, useLocation } from 'wouter';\nimport { ArrowRight, MapPin, Clock, Phone, CheckCircle, Truck, Package, User } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Progress } from '@/components/ui/progress';\n\ninterface OrderStatus {\n  id: string;\n  status: 'pending' | 'confirmed' | 'preparing' | 'on_way' | 'delivered' | 'cancelled';\n  timestamp: Date;\n  description: string;\n}\n\ninterface OrderDetails {\n  id: string;\n  customerName: string;\n  customerPhone: string;\n  deliveryAddress: string;\n  items: any[];\n  total: number;\n  status: string;\n  estimatedTime: string;\n  driverName?: string;\n  driverPhone?: string;\n  createdAt: Date;\n}\n\nexport default function OrderTrackingPage() {\n  const { orderId } = useParams<{ orderId: string }>();\n  const [, setLocation] = useLocation();\n  \n  // Mock order data - in real app this would come from API\n  const [order] = useState<OrderDetails>({\n    id: orderId || '12345',\n    customerName: 'Ù…Ø­Ù…Ø¯ Ø£Ø­Ù…Ø¯',\n    customerPhone: '+967771234567',\n    deliveryAddress: 'ØµÙ†Ø¹Ø§Ø¡ØŒ Ø´Ø§Ø±Ø¹ Ø§Ù„Ø²Ø¨ÙŠØ±ÙŠØŒ Ø¨Ø¬Ø§Ù†Ø¨ Ù…Ø³Ø¬Ø¯ Ø§Ù„Ù†ÙˆØ±',\n    items: [\n      { name: 'Ø¹Ø±Ø¨ÙƒØ© Ø¨Ø§Ù„Ù‚Ø´Ø·Ø© ÙˆØ§Ù„Ø¹Ø³Ù„', quantity: 2, price: 55 },\n      { name: 'Ù…ÙŠØ§Ù‡ Ù…Ø¹Ø¯Ù†ÙŠØ©', quantity: 1, price: 3 },\n    ],\n    total: 113,\n    status: 'on_way',\n    estimatedTime: '25 Ø¯Ù‚ÙŠÙ‚Ø©',\n    driverName: 'Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯',\n    driverPhone: '+967771234567',\n    createdAt: new Date(),\n  });\n\n  const [orderHistory] = useState<OrderStatus[]>([\n    { id: '1', status: 'pending', timestamp: new Date(Date.now() - 30 * 60000), description: 'ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ø·Ù„Ø¨' },\n    { id: '2', status: 'confirmed', timestamp: new Date(Date.now() - 25 * 60000), description: 'ØªÙ… ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨ Ù…Ù† Ø§Ù„Ù…Ø·Ø¹Ù…' },\n    { id: '3', status: 'preparing', timestamp: new Date(Date.now() - 15 * 60000), description: 'Ø¬Ø§Ø±ÙŠ ØªØ­Ø¶ÙŠØ± Ø§Ù„Ø·Ù„Ø¨' },\n    { id: '4', status: 'on_way', timestamp: new Date(Date.now() - 5 * 60000), description: 'Ø§Ù„Ø·Ù„Ø¨ ÙÙŠ Ø§Ù„Ø·Ø±ÙŠÙ‚ Ø¥Ù„ÙŠÙƒ' },\n  ]);\n\n  const getStatusProgress = (status: string) => {\n    const statusMap = {\n      pending: 25,\n      confirmed: 40,\n      preparing: 60,\n      on_way: 80,\n      delivered: 100,\n      cancelled: 0,\n    };\n    return statusMap[status as keyof typeof statusMap] || 0;\n  };\n\n  const getStatusColor = (status: string) => {\n    const colorMap = {\n      pending: 'bg-yellow-500',\n      confirmed: 'bg-blue-500',\n      preparing: 'bg-orange-500',\n      on_way: 'bg-purple-500',\n      delivered: 'bg-green-500',\n      cancelled: 'bg-red-500',\n    };\n    return colorMap[status as keyof typeof colorMap] || 'bg-gray-500';\n  };\n\n  const getStatusText = (status: string) => {\n    const textMap = {\n      pending: 'ÙÙŠ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±',\n      confirmed: 'Ù…Ø¤ÙƒØ¯',\n      preparing: 'Ù‚ÙŠØ¯ Ø§Ù„ØªØ­Ø¶ÙŠØ±',\n      on_way: 'ÙÙŠ Ø§Ù„Ø·Ø±ÙŠÙ‚',\n      delivered: 'ØªÙ… Ø§Ù„ØªÙˆØµÙŠÙ„',\n      cancelled: 'Ù…Ù„ØºÙŠ',\n    };\n    return textMap[status as keyof typeof textMap] || status;\n  };\n\n  return (\n    <div>\n      {/* Header */}\n      <header className=\"bg-card border-b border-border p-4\">\n        <div className=\"flex items-center gap-3\">\n          <Button\n            variant=\"ghost\"\n            size=\"icon\"\n            onClick={() => setLocation('/profile')}\n            data-testid=\"button-tracking-back\"\n          >\n            <ArrowRight className=\"h-5 w-5\" />\n          </Button>\n          <h2 className=\"text-xl font-bold text-foreground\">ØªØªØ¨Ø¹ Ø§Ù„Ø·Ù„Ø¨</h2>\n        </div>\n      </header>\n\n      <section className=\"p-4 space-y-6\">\n        {/* Order Status Card */}\n        <Card>\n          <CardHeader>\n            <div className=\"flex items-center justify-between\">\n              <CardTitle className=\"text-lg\">Ø·Ù„Ø¨ Ø±Ù‚Ù… #{order.id}</CardTitle>\n              <Badge \n                className={`${getStatusColor(order.status)} text-white`}\n                data-testid=\"order-status-badge\"\n              >\n                {getStatusText(order.status)}\n              </Badge>\n            </div>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            <div className=\"flex items-center gap-3\">\n              <Clock className=\"h-5 w-5 text-muted-foreground\" />\n              <span className=\"text-foreground\">Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªÙˆÙ‚Ø¹ Ù„Ù„ÙˆØµÙˆÙ„: </span>\n              <span className=\"font-bold text-primary\" data-testid=\"estimated-time\">\n                {order.estimatedTime}\n              </span>\n            </div>\n            \n            <div className=\"space-y-2\">\n              <div className=\"flex justify-between text-sm\">\n                <span className=\"text-muted-foreground\">Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨</span>\n                <span className=\"text-foreground\">{getStatusProgress(order.status)}%</span>\n              </div>\n              <Progress \n                value={getStatusProgress(order.status)} \n                className=\"h-2\"\n                data-testid=\"order-progress\"\n              />\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Driver Info */}\n        {order.status === 'on_way' && order.driverName && (\n          <Card>\n            <CardContent className=\"p-4\">\n              <div className=\"flex items-center gap-3 mb-3\">\n                <div className=\"w-12 h-12 bg-primary rounded-full flex items-center justify-center\">\n                  <User className=\"h-6 w-6 text-primary-foreground\" />\n                </div>\n                <div className=\"flex-1\">\n                  <h4 className=\"font-medium text-foreground\" data-testid=\"driver-name\">\n                    {order.driverName}\n                  </h4>\n                  <p className=\"text-sm text-muted-foreground\">Ø³Ø§Ø¦Ù‚ Ø§Ù„ØªÙˆØµÙŠÙ„</p>\n                </div>\n                <Button \n                  variant=\"outline\" \n                  size=\"sm\"\n                  data-testid=\"button-call-driver\"\n                >\n                  <Phone className=\"h-4 w-4 ml-2\" />\n                  Ø§ØªØµØ§Ù„\n                </Button>\n              </div>\n              <div className=\"bg-muted p-3 rounded-lg\">\n                <div className=\"flex items-center gap-2\">\n                  <Truck className=\"h-4 w-4 text-primary\" />\n                  <span className=\"text-sm text-foreground\">Ø§Ù„Ø³Ø§Ø¦Ù‚ ÙÙŠ Ø§Ù„Ø·Ø±ÙŠÙ‚ Ø¥Ù„ÙŠÙƒ</span>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        )}\n\n        {/* Delivery Address */}\n        <Card>\n          <CardContent className=\"p-4\">\n            <div className=\"flex items-start gap-3\">\n              <MapPin className=\"h-5 w-5 text-primary mt-1\" />\n              <div>\n                <h4 className=\"font-medium text-foreground mb-1\">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØªÙˆØµÙŠÙ„</h4>\n                <p className=\"text-sm text-foreground\" data-testid=\"delivery-address\">\n                  {order.deliveryAddress}\n                </p>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Order Items */}\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"text-lg\">ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨</CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-3\">\n            {order.items.map((item, index) => (\n              <div key={index} className=\"flex justify-between items-center py-2 border-b border-border last:border-0\">\n                <div className=\"flex-1\">\n                  <span className=\"text-foreground font-medium\" data-testid={`item-name-${index}`}>\n                    {item.name}\n                  </span>\n                  <span className=\"text-muted-foreground text-sm mr-2\">\n                    Ã— {item.quantity}\n                  </span>\n                </div>\n                <span className=\"font-bold text-primary\" data-testid={`item-price-${index}`}>\n                  {item.price * item.quantity} Ø±ÙŠØ§Ù„\n                </span>\n              </div>\n            ))}\n            <div className=\"border-t border-border pt-3 mt-3\">\n              <div className=\"flex justify-between items-center font-bold\">\n                <span className=\"text-foreground\">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</span>\n                <span className=\"text-primary\" data-testid=\"order-total\">\n                  {order.total} Ø±ÙŠØ§Ù„\n                </span>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Order Timeline */}\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"text-lg\">ØªØ§Ø±ÙŠØ® Ø§Ù„Ø·Ù„Ø¨</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-4\">\n              {orderHistory.map((status, index) => (\n                <div key={status.id} className=\"flex items-start gap-3\">\n                  <div className={`w-4 h-4 rounded-full ${getStatusColor(status.status)} mt-1 flex-shrink-0`} />\n                  <div className=\"flex-1 min-w-0\">\n                    <p className=\"text-foreground font-medium\" data-testid={`timeline-description-${index}`}>\n                      {status.description}\n                    </p>\n                    <p className=\"text-sm text-muted-foreground\" data-testid={`timeline-time-${index}`}>\n                      {status.timestamp.toLocaleTimeString('ar-YE', { \n                        hour: '2-digit', \n                        minute: '2-digit' \n                      })}\n                    </p>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Action Buttons */}\n        <div className=\"space-y-3\">\n          <Button \n            variant=\"outline\" \n            className=\"w-full\"\n            data-testid=\"button-contact-support\"\n          >\n            ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ø¯Ø¹Ù…\n          </Button>\n          \n          {order.status !== 'delivered' && order.status !== 'cancelled' && (\n            <Button \n              variant=\"destructive\" \n              className=\"w-full\"\n              data-testid=\"button-cancel-order\"\n            >\n              Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø·Ù„Ø¨\n            </Button>\n          )}\n        </div>\n      </section>\n    </div>\n  );\n}","size_bytes":10331},"client/src/pages/Privacy.tsx":{"content":"import { useLocation } from 'wouter';\nimport { ArrowRight, Shield, Eye, Lock, Phone, Mail } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\n\nexport default function Privacy() {\n  const [, setLocation] = useLocation();\n\n  const privacySections = [\n    {\n      icon: Shield,\n      title: 'Ø¬Ù…Ø¹ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª',\n      content: [\n        'Ù†Ù‚ÙˆÙ… Ø¨Ø¬Ù…Ø¹ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªÙŠ ØªÙ‚Ø¯Ù…Ù‡Ø§ Ù„Ù†Ø§ Ø¹Ù†Ø¯ Ø§Ù„ØªØ³Ø¬ÙŠÙ„ ÙÙŠ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚',\n        'Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø·Ù„Ø¨Ø§Øª ÙˆØ§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª Ù„ØªØ­Ø³ÙŠÙ† Ø®Ø¯Ù…Ø§ØªÙ†Ø§',\n        'Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ù„ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…Ø·Ø§Ø¹Ù… Ø§Ù„Ù‚Ø±ÙŠØ¨Ø© Ù…Ù†Ùƒ',\n        'Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ÙˆØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ø¯Ø§Ø¡',\n      ],\n    },\n    {\n      icon: Eye,\n      title: 'Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª',\n      content: [\n        'Ù…Ø¹Ø§Ù„Ø¬Ø© ÙˆØªÙ†ÙÙŠØ° Ø·Ù„Ø¨Ø§ØªÙƒ Ø¨Ø·Ø±ÙŠÙ‚Ø© ØµØ­ÙŠØ­Ø© ÙˆØ³Ø±ÙŠØ¹Ø©',\n        'Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ Ø¨Ø®ØµÙˆØµ Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª ÙˆØ§Ù„ØªØ­Ø¯ÙŠØ«Ø§Øª',\n        'ØªØ­Ø³ÙŠÙ† Ø®Ø¯Ù…Ø§ØªÙ†Ø§ ÙˆØªØ·ÙˆÙŠØ± Ù…Ù…ÙŠØ²Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©',\n        'Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¹Ø±ÙˆØ¶ ÙˆØ§Ù„ØªØ­Ø¯ÙŠØ«Ø§Øª Ø§Ù„ØªØ³ÙˆÙŠÙ‚ÙŠØ© (ÙŠÙ…ÙƒÙ† Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ)',\n      ],\n    },\n    {\n      icon: Lock,\n      title: 'Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª',\n      content: [\n        'Ù†Ø³ØªØ®Ø¯Ù… ØªÙ‚Ù†ÙŠØ§Øª Ø§Ù„ØªØ´ÙÙŠØ± Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø© Ù„Ø­Ù…Ø§ÙŠØ© Ø¨ÙŠØ§Ù†Ø§ØªÙƒ',\n        'Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª ØªØªÙ… Ø¹Ø¨Ø± Ù…Ù†ØµØ§Øª Ø¢Ù…Ù†Ø© ÙˆÙ…Ø¹ØªÙ…Ø¯Ø©',\n        'Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù…Ø­Ø¯ÙˆØ¯ Ù„Ù„Ù…ÙˆØ¸ÙÙŠÙ† Ø§Ù„Ù…Ø®ÙˆÙ„ÙŠÙ† ÙÙ‚Ø·',\n        'Ù†Ù‚ÙˆÙ… Ø¨Ù…Ø±Ø§Ø¬Ø¹Ø© Ø£Ù†Ø¸Ù…Ø© Ø§Ù„Ø£Ù…Ø§Ù† Ø¨Ø§Ù†ØªØ¸Ø§Ù… Ù„Ø¶Ù…Ø§Ù† Ø§Ù„Ø­Ù…Ø§ÙŠØ©',\n      ],\n    },\n    {\n      icon: Phone,\n      title: 'Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª',\n      content: [\n        'Ù„Ø§ Ù†Ø¨ÙŠØ¹ Ø£Ùˆ Ù†Ø¤Ø¬Ø± Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ Ø§Ù„Ø´Ø®ØµÙŠØ© Ù„Ø£Ø·Ø±Ø§Ù Ø«Ø§Ù„Ø«Ø©',\n        'Ù†Ø´Ø§Ø±Ùƒ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù…Ø¹ Ø§Ù„Ù…Ø·Ø§Ø¹Ù… ÙÙ‚Ø· Ù„ØªÙ†ÙÙŠØ° Ø§Ù„Ø·Ù„Ø¨Ø§Øª',\n        'Ù‚Ø¯ Ù†Ø´Ø§Ø±Ùƒ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù…Ø­Ø¯ÙˆØ¯Ø© Ù…Ø¹ Ø§Ù„Ø³Ø§Ø¦Ù‚ÙŠÙ† Ù„Ù„ØªÙˆØµÙŠÙ„',\n        'Ù†Ù„ØªØ²Ù… Ø¨Ø§Ù„Ù‚ÙˆØ§Ù†ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠØ© ÙÙŠ Ø­Ø§Ù„Ø© Ø·Ù„Ø¨ Ø§Ù„Ø³Ù„Ø·Ø§Øª Ø§Ù„Ù…Ø®ØªØµØ©',\n      ],\n    },\n  ];\n\n  const contactInfo = [\n    { icon: Mail, label: 'Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ', value: 'privacy@alsarie-one.com' },\n    { icon: Phone, label: 'Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ', value: '+967-1-234567' },\n  ];\n\n  return (\n    <div>\n      {/* Header */}\n      <header className=\"bg-card border-b border-border p-4\">\n        <div className=\"flex items-center gap-3\">\n          <Button\n            variant=\"ghost\"\n            size=\"icon\"\n            onClick={() => setLocation('/profile')}\n            data-testid=\"button-privacy-back\"\n          >\n            <ArrowRight className=\"h-5 w-5\" />\n          </Button>\n          <h2 className=\"text-xl font-bold text-foreground\">Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©</h2>\n        </div>\n      </header>\n\n      <section className=\"p-4 space-y-6\">\n        {/* Introduction */}\n        <Card>\n          <CardContent className=\"p-6\">\n            <div className=\"text-center mb-6\">\n              <Shield className=\"h-16 w-16 text-primary mx-auto mb-4\" />\n              <h3 className=\"text-xl font-bold text-foreground mb-2\">\n                Ù†Ø­Ù† Ù†Ø­ØªØ±Ù… Ø®ØµÙˆØµÙŠØªÙƒ\n              </h3>\n              <p className=\"text-muted-foreground\">\n                ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø³Ø±ÙŠØ¹ ÙˆÙ† Ù…Ù„ØªØ²Ù… Ø¨Ø­Ù…Ø§ÙŠØ© Ø®ØµÙˆØµÙŠØªÙƒ ÙˆØ£Ù…Ø§Ù† Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ Ø§Ù„Ø´Ø®ØµÙŠØ©. \n                Ù‡Ø°Ù‡ Ø§Ù„Ø³ÙŠØ§Ø³Ø© ØªÙˆØ¶Ø­ ÙƒÙŠÙÙŠØ© Ø¬Ù…Ø¹ ÙˆØ§Ø³ØªØ®Ø¯Ø§Ù… ÙˆØ­Ù…Ø§ÙŠØ© Ø¨ÙŠØ§Ù†Ø§ØªÙƒ.\n              </p>\n            </div>\n            \n            <div className=\"bg-muted p-4 rounded-lg\">\n              <p className=\"text-sm text-foreground\">\n                <strong>Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«:</strong> 1 Ø³Ø¨ØªÙ…Ø¨Ø± 2025\n              </p>\n              <p className=\"text-sm text-muted-foreground mt-1\">\n                Ù‚Ø¯ ØªØªØºÙŠØ± Ù‡Ø°Ù‡ Ø§Ù„Ø³ÙŠØ§Ø³Ø© Ù…Ù† ÙˆÙ‚Øª Ù„Ø¢Ø®Ø±ØŒ ÙˆØ³Ù†Ù‚ÙˆÙ… Ø¨Ø¥Ø´Ø¹Ø§Ø±Ùƒ Ø¨Ø£ÙŠ ØªØºÙŠÙŠØ±Ø§Øª Ù…Ù‡Ù…Ø©.\n              </p>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Privacy Sections */}\n        {privacySections.map((section, index) => {\n          const Icon = section.icon;\n          return (\n            <Card key={index}>\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-3 text-lg\">\n                  <Icon className=\"h-6 w-6 text-primary\" />\n                  {section.title}\n                </CardTitle>\n              </CardHeader>\n              <CardContent>\n                <ul className=\"space-y-3\">\n                  {section.content.map((item, itemIndex) => (\n                    <li \n                      key={itemIndex} \n                      className=\"flex items-start gap-3 text-foreground\"\n                      data-testid={`privacy-item-${index}-${itemIndex}`}\n                    >\n                      <div className=\"w-2 h-2 bg-primary rounded-full mt-2 flex-shrink-0\" />\n                      <span className=\"text-sm leading-relaxed\">{item}</span>\n                    </li>\n                  ))}\n                </ul>\n              </CardContent>\n            </Card>\n          );\n        })}\n\n        {/* User Rights */}\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"text-lg\">Ø­Ù‚ÙˆÙ‚Ùƒ</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-4\">\n              <div className=\"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg border border-green-200 dark:border-green-800\">\n                <h4 className=\"font-medium text-green-800 dark:text-green-200 mb-2\">\n                  ÙŠØ­Ù‚ Ù„Ùƒ:\n                </h4>\n                <ul className=\"space-y-2 text-sm text-green-700 dark:text-green-300\">\n                  <li>â€¢ Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ Ø§Ù„Ø´Ø®ØµÙŠØ© ÙˆØªØ­Ø¯ÙŠØ«Ù‡Ø§</li>\n                  <li>â€¢ Ø·Ù„Ø¨ Ø­Ø°Ù Ø­Ø³Ø§Ø¨Ùƒ ÙˆÙ…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ</li>\n                  <li>â€¢ Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ ÙÙŠ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„ØªØ³ÙˆÙŠÙ‚ÙŠØ©</li>\n                  <li>â€¢ ØªÙ‚Ø¯ÙŠÙ… Ø´ÙƒÙˆÙ‰ Ø­ÙˆÙ„ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ</li>\n                </ul>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Contact Information */}\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"text-lg\">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <p className=\"text-muted-foreground mb-4\">\n              Ø¥Ø°Ø§ ÙƒØ§Ù† Ù„Ø¯ÙŠÙƒ Ø£ÙŠ Ø£Ø³Ø¦Ù„Ø© Ø­ÙˆÙ„ Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ© Ø£Ùˆ ÙƒÙŠÙÙŠØ© Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¨ÙŠØ§Ù†Ø§ØªÙƒØŒ \n              ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§ Ø¹Ø¨Ø±:\n            </p>\n            \n            <div className=\"space-y-3\">\n              {contactInfo.map((contact, index) => {\n                const Icon = contact.icon;\n                return (\n                  <div \n                    key={index}\n                    className=\"flex items-center gap-3 p-3 bg-muted rounded-lg\"\n                  >\n                    <Icon className=\"h-5 w-5 text-primary\" />\n                    <div>\n                      <p className=\"text-sm text-muted-foreground\">{contact.label}</p>\n                      <p className=\"text-foreground font-medium\" data-testid={`contact-${index}`}>\n                        {contact.value}\n                      </p>\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Acceptance */}\n        <Card>\n          <CardContent className=\"p-6 text-center\">\n            <p className=\"text-sm text-muted-foreground mb-4\">\n              Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø³Ø±ÙŠØ¹ ÙˆÙ†ØŒ ÙØ¥Ù†Ùƒ ØªÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ© Ù‡Ø°Ù‡ \n              ÙˆØ¹Ù„Ù‰ Ø¬Ù…Ø¹ ÙˆØ§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ ÙˆÙÙ‚Ø§Ù‹ Ù„Ù„Ù…Ù…Ø§Ø±Ø³Ø§Øª Ø§Ù„Ù…ÙˆØ¶Ø­Ø© Ø£Ø¹Ù„Ø§Ù‡.\n            </p>\n            <Button \n              onClick={() => setLocation('/profile')}\n              data-testid=\"button-accept-privacy\"\n            >\n              ÙÙ‡Ù…Øª ÙˆØ£ÙˆØ§ÙÙ‚\n            </Button>\n          </CardContent>\n        </Card>\n      </section>\n    </div>\n  );\n}","size_bytes":8358},"client/src/pages/Profile.tsx":{"content":"import { useState, useEffect } from 'react';\nimport { useLocation } from 'wouter';\nimport { ArrowRight, User, Phone, Mail, MapPin, Settings, Shield, Star, Clock, Receipt } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Badge } from '@/components/ui/badge';\nimport { useToast } from '@/hooks/use-toast';\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport { apiRequest } from '@/lib/queryClient';\nimport type { User as UserType } from '@shared/schema';\n\nexport default function Profile() {\n  const [, setLocation] = useLocation();\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n  \n  // For now, we'll use a demo user ID. In a real app, this would come from authentication\n  const userId = '5ea1edd8-b9e1-4c9e-84fb-25aa2741a0db';\n  \n  const [profile, setProfile] = useState({\n    name: '',\n    phone: '',\n    email: '',\n    address: '',\n  });\n\n  const [isEditing, setIsEditing] = useState(false);\n\n  // Fetch user data\n  const { data: user, isLoading } = useQuery({\n    queryKey: ['/api/users', userId],\n    retry: false,\n  });\n\n  // Update profile mutation\n  const updateProfileMutation = useMutation({\n    mutationFn: async (profileData: Partial<UserType>) => {\n      const response = await apiRequest('PUT', `/api/users/${userId}`, profileData);\n      return response.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/users', userId] });\n      setIsEditing(false);\n      toast({\n        title: \"ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\",\n        description: \"ØªÙ… ØªØ­Ø¯ÙŠØ« Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ Ø¨Ù†Ø¬Ø§Ø­\",\n      });\n    },\n    onError: () => {\n      toast({\n        title: \"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø­ÙØ¸\",\n        description: \"Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  // Update profile state when user data is loaded\n  useEffect(() => {\n    if (user) {\n      setProfile({\n        name: (user as UserType).name || '',\n        phone: (user as UserType).phone || '',\n        email: (user as UserType).email || '',\n        address: (user as UserType).address || '',\n      });\n    }\n  }, [user]);\n\n  const handleSave = () => {\n    updateProfileMutation.mutate({\n      name: profile.name,\n      phone: profile.phone,\n      email: profile.email,\n      address: profile.address,\n    });\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4\"></div>\n          <p className=\"text-muted-foreground\">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...</p>\n        </div>\n      </div>\n    );\n  }\n\n  const profileStats = [\n    { icon: Receipt, label: 'Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø·Ù„Ø¨Ø§Øª', value: '42', color: 'text-primary' },\n    { icon: Star, label: 'Ø§Ù„ØªÙ‚ÙŠÙŠÙ…', value: '4.8', color: 'text-yellow-500' },\n    { icon: Clock, label: 'Ø¹Ø¶Ùˆ Ù…Ù†Ø°', value: '6 Ø£Ø´Ù‡Ø±', color: 'text-green-500' },\n  ];\n\n  const menuItems = [\n    { icon: Receipt, label: 'Ø·Ù„Ø¨Ø§ØªÙŠ', path: '/orders', description: 'Ø¹Ø±Ø¶ ØªØ§Ø±ÙŠØ® Ø§Ù„Ø·Ù„Ø¨Ø§Øª', testId: 'profile-orders' },\n    { icon: MapPin, label: 'Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ† Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©', path: '/addresses', description: 'Ø¥Ø¯Ø§Ø±Ø© Ø¹Ù†Ø§ÙˆÙŠÙ† Ø§Ù„ØªÙˆØµÙŠÙ„', testId: 'profile-addresses' },\n    { icon: Settings, label: 'Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª', path: '/settings', description: 'Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ÙˆØ§Ù„Ø­Ø³Ø§Ø¨', testId: 'profile-settings' },\n    { icon: Shield, label: 'Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©', path: '/privacy', description: 'Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ© ÙˆØ´Ø±ÙˆØ· Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…', testId: 'profile-privacy' },\n  ];\n\n  return (\n    <div>\n      {/* Header */}\n      <header className=\"bg-card border-b border-border p-4\">\n        <div className=\"flex items-center gap-3\">\n          <Button\n            variant=\"ghost\"\n            size=\"icon\"\n            onClick={() => setLocation('/')}\n            data-testid=\"button-profile-back\"\n          >\n            <ArrowRight className=\"h-5 w-5\" />\n          </Button>\n          <h2 className=\"text-xl font-bold text-foreground\">Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ</h2>\n        </div>\n      </header>\n\n      <section className=\"p-4 space-y-6\">\n        {/* Profile Info Card */}\n        <Card>\n          <CardHeader className=\"text-center\">\n            <div className=\"w-20 h-20 bg-primary rounded-full flex items-center justify-center mx-auto mb-4\">\n              <User className=\"h-10 w-10 text-primary-foreground\" />\n            </div>\n            <CardTitle className=\"text-xl text-foreground\">{profile.name || 'Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…'}</CardTitle>\n            <Badge variant=\"secondary\" className=\"mx-auto\">Ø¹Ø¶Ùˆ Ù…Ù…ÙŠØ²</Badge>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            {isEditing ? (\n              <div className=\"space-y-4\">\n                <div>\n                  <Label htmlFor=\"name\" className=\"text-foreground\">Ø§Ù„Ø§Ø³Ù…</Label>\n                  <Input\n                    id=\"name\"\n                    value={profile.name}\n                    onChange={(e) => setProfile(prev => ({ ...prev, name: e.target.value }))}\n                    data-testid=\"input-profile-name\"\n                  />\n                </div>\n                <div>\n                  <Label htmlFor=\"phone\" className=\"text-foreground\">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</Label>\n                  <Input\n                    id=\"phone\"\n                    value={profile.phone}\n                    onChange={(e) => setProfile(prev => ({ ...prev, phone: e.target.value }))}\n                    data-testid=\"input-profile-phone\"\n                  />\n                </div>\n                <div>\n                  <Label htmlFor=\"email\" className=\"text-foreground\">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</Label>\n                  <Input\n                    id=\"email\"\n                    type=\"email\"\n                    value={profile.email}\n                    onChange={(e) => setProfile(prev => ({ ...prev, email: e.target.value }))}\n                    data-testid=\"input-profile-email\"\n                  />\n                </div>\n                <div>\n                  <Label htmlFor=\"address\" className=\"text-foreground\">Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</Label>\n                  <Input\n                    id=\"address\"\n                    value={profile.address}\n                    onChange={(e) => setProfile(prev => ({ ...prev, address: e.target.value }))}\n                    data-testid=\"input-profile-address\"\n                  />\n                </div>\n                <div className=\"flex gap-2\">\n                  <Button \n                    onClick={handleSave} \n                    className=\"flex-1\" \n                    disabled={updateProfileMutation.isPending}\n                    data-testid=\"button-save-profile\"\n                  >\n                    {updateProfileMutation.isPending ? 'Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø­ÙØ¸...' : 'Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª'}\n                  </Button>\n                  <Button \n                    variant=\"outline\" \n                    onClick={() => setIsEditing(false)}\n                    data-testid=\"button-cancel-edit\"\n                  >\n                    Ø¥Ù„ØºØ§Ø¡\n                  </Button>\n                </div>\n              </div>\n            ) : (\n              <div className=\"space-y-3\">\n                <div className=\"flex items-center gap-3 p-3 bg-muted rounded-lg\">\n                  <Phone className=\"h-5 w-5 text-muted-foreground\" />\n                  <span className=\"text-foreground\" data-testid=\"profile-phone\">{profile.phone}</span>\n                </div>\n                <div className=\"flex items-center gap-3 p-3 bg-muted rounded-lg\">\n                  <Mail className=\"h-5 w-5 text-muted-foreground\" />\n                  <span className=\"text-foreground\" data-testid=\"profile-email\">{profile.email}</span>\n                </div>\n                <div className=\"flex items-center gap-3 p-3 bg-muted rounded-lg\">\n                  <MapPin className=\"h-5 w-5 text-muted-foreground\" />\n                  <span className=\"text-foreground\" data-testid=\"profile-address\">{profile.address}</span>\n                </div>\n                <Button \n                  onClick={() => setIsEditing(true)} \n                  className=\"w-full\"\n                  data-testid=\"button-edit-profile\"\n                >\n                  ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª\n                </Button>\n              </div>\n            )}\n          </CardContent>\n        </Card>\n\n        {/* Stats */}\n        <div className=\"grid grid-cols-3 gap-3\">\n          {profileStats.map((stat, index) => {\n            const Icon = stat.icon;\n            return (\n              <Card key={index} className=\"text-center\">\n                <CardContent className=\"p-4\">\n                  <Icon className={`h-6 w-6 ${stat.color} mx-auto mb-2`} />\n                  <div className=\"text-lg font-bold text-foreground\" data-testid={`stat-${index}`}>\n                    {stat.value}\n                  </div>\n                  <div className=\"text-xs text-muted-foreground\">{stat.label}</div>\n                </CardContent>\n              </Card>\n            );\n          })}\n        </div>\n\n        {/* Menu Items */}\n        <div className=\"space-y-3\">\n          {menuItems.map((item) => {\n            const Icon = item.icon;\n            return (\n              <Button\n                key={item.path}\n                variant=\"ghost\"\n                className=\"w-full h-auto p-4 justify-between hover:bg-accent\"\n                onClick={() => setLocation(item.path)}\n                data-testid={item.testId}\n              >\n                <div className=\"flex items-center gap-3\">\n                  <Icon className=\"h-6 w-6 text-primary\" />\n                  <div className=\"text-right\">\n                    <div className=\"font-medium text-foreground\">{item.label}</div>\n                    <div className=\"text-sm text-muted-foreground\">{item.description}</div>\n                  </div>\n                </div>\n                <ArrowRight className=\"h-5 w-5 text-muted-foreground rotate-180\" />\n              </Button>\n            );\n          })}\n        </div>\n      </section>\n    </div>\n  );\n}","size_bytes":10499},"client/src/pages/ProfilePage.tsx":{"content":"import { useState } from 'react';\nimport { useLocation } from 'wouter';\nimport { ArrowRight, User, Phone, Mail, MapPin, Settings, Shield, Star, Clock, Receipt } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Badge } from '@/components/ui/badge';\nimport { useToast } from '@/hooks/use-toast';\n\nexport default function ProfilePage() {\n  const [, setLocation] = useLocation();\n  const { toast } = useToast();\n  \n  const [profile, setProfile] = useState({\n    name: 'Ù…Ø­Ù…Ø¯ Ø£Ø­Ù…Ø¯',\n    phone: '+967771234567',\n    email: 'mohammed@example.com',\n    address: 'ØµÙ†Ø¹Ø§Ø¡ØŒ Ø´Ø§Ø±Ø¹ Ø§Ù„Ø²Ø¨ÙŠØ±ÙŠØŒ Ø¨Ø¬Ø§Ù†Ø¨ Ù…Ø³Ø¬Ø¯ Ø§Ù„Ù†ÙˆØ±',\n  });\n\n  const [isEditing, setIsEditing] = useState(false);\n\n  const handleSave = () => {\n    setIsEditing(false);\n    toast({\n      title: \"ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\",\n      description: \"ØªÙ… ØªØ­Ø¯ÙŠØ« Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ Ø¨Ù†Ø¬Ø§Ø­\",\n    });\n  };\n\n  const profileStats = [\n    { icon: Receipt, label: 'Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø·Ù„Ø¨Ø§Øª', value: '42', color: 'text-primary' },\n    { icon: Star, label: 'Ø§Ù„ØªÙ‚ÙŠÙŠÙ…', value: '4.8', color: 'text-yellow-500' },\n    { icon: Clock, label: 'Ø¹Ø¶Ùˆ Ù…Ù†Ø°', value: '6 Ø£Ø´Ù‡Ø±', color: 'text-green-500' },\n  ];\n\n  const menuItems = [\n    { icon: Receipt, label: 'Ø·Ù„Ø¨Ø§ØªÙŠ', path: '/orders', description: 'Ø¹Ø±Ø¶ ØªØ§Ø±ÙŠØ® Ø§Ù„Ø·Ù„Ø¨Ø§Øª', testId: 'profile-orders' },\n    { icon: MapPin, label: 'Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ† Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©', path: '/addresses', description: 'Ø¥Ø¯Ø§Ø±Ø© Ø¹Ù†Ø§ÙˆÙŠÙ† Ø§Ù„ØªÙˆØµÙŠÙ„', testId: 'profile-addresses' },\n    { icon: Settings, label: 'Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª', path: '/settings', description: 'Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ÙˆØ§Ù„Ø­Ø³Ø§Ø¨', testId: 'profile-settings' },\n    { icon: Shield, label: 'Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©', path: '/privacy', description: 'Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ© ÙˆØ´Ø±ÙˆØ· Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…', testId: 'profile-privacy' },\n  ];\n\n  return (\n    <div>\n      {/* Header */}\n      <header className=\"bg-card border-b border-border p-4\">\n        <div className=\"flex items-center gap-3\">\n          <Button\n            variant=\"ghost\"\n            size=\"icon\"\n            onClick={() => setLocation('/')}\n            data-testid=\"button-profile-back\"\n          >\n            <ArrowRight className=\"h-5 w-5\" />\n          </Button>\n          <h2 className=\"text-xl font-bold text-foreground\">Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ</h2>\n        </div>\n      </header>\n\n      <section className=\"p-4 space-y-6\">\n        {/* Profile Info Card */}\n        <Card>\n          <CardHeader className=\"text-center\">\n            <div className=\"w-20 h-20 bg-primary rounded-full flex items-center justify-center mx-auto mb-4\">\n              <User className=\"h-10 w-10 text-primary-foreground\" />\n            </div>\n            <CardTitle className=\"text-xl text-foreground\">{profile.name}</CardTitle>\n            <Badge variant=\"secondary\" className=\"mx-auto\">Ø¹Ø¶Ùˆ Ù…Ù…ÙŠØ²</Badge>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            {isEditing ? (\n              <div className=\"space-y-4\">\n                <div>\n                  <Label htmlFor=\"name\" className=\"text-foreground\">Ø§Ù„Ø§Ø³Ù…</Label>\n                  <Input\n                    id=\"name\"\n                    value={profile.name}\n                    onChange={(e) => setProfile(prev => ({ ...prev, name: e.target.value }))}\n                    data-testid=\"input-profile-name\"\n                  />\n                </div>\n                <div>\n                  <Label htmlFor=\"phone\" className=\"text-foreground\">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</Label>\n                  <Input\n                    id=\"phone\"\n                    value={profile.phone}\n                    onChange={(e) => setProfile(prev => ({ ...prev, phone: e.target.value }))}\n                    data-testid=\"input-profile-phone\"\n                  />\n                </div>\n                <div>\n                  <Label htmlFor=\"email\" className=\"text-foreground\">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</Label>\n                  <Input\n                    id=\"email\"\n                    type=\"email\"\n                    value={profile.email}\n                    onChange={(e) => setProfile(prev => ({ ...prev, email: e.target.value }))}\n                    data-testid=\"input-profile-email\"\n                  />\n                </div>\n                <div>\n                  <Label htmlFor=\"address\" className=\"text-foreground\">Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</Label>\n                  <Input\n                    id=\"address\"\n                    value={profile.address}\n                    onChange={(e) => setProfile(prev => ({ ...prev, address: e.target.value }))}\n                    data-testid=\"input-profile-address\"\n                  />\n                </div>\n                <div className=\"flex gap-2\">\n                  <Button onClick={handleSave} className=\"flex-1\" data-testid=\"button-save-profile\">\n                    Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª\n                  </Button>\n                  <Button \n                    variant=\"outline\" \n                    onClick={() => setIsEditing(false)}\n                    data-testid=\"button-cancel-edit\"\n                  >\n                    Ø¥Ù„ØºØ§Ø¡\n                  </Button>\n                </div>\n              </div>\n            ) : (\n              <div className=\"space-y-3\">\n                <div className=\"flex items-center gap-3 p-3 bg-muted rounded-lg\">\n                  <Phone className=\"h-5 w-5 text-muted-foreground\" />\n                  <span className=\"text-foreground\" data-testid=\"profile-phone\">{profile.phone}</span>\n                </div>\n                <div className=\"flex items-center gap-3 p-3 bg-muted rounded-lg\">\n                  <Mail className=\"h-5 w-5 text-muted-foreground\" />\n                  <span className=\"text-foreground\" data-testid=\"profile-email\">{profile.email}</span>\n                </div>\n                <div className=\"flex items-center gap-3 p-3 bg-muted rounded-lg\">\n                  <MapPin className=\"h-5 w-5 text-muted-foreground\" />\n                  <span className=\"text-foreground\" data-testid=\"profile-address\">{profile.address}</span>\n                </div>\n                <Button \n                  onClick={() => setIsEditing(true)} \n                  className=\"w-full\"\n                  data-testid=\"button-edit-profile\"\n                >\n                  ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª\n                </Button>\n              </div>\n            )}\n          </CardContent>\n        </Card>\n\n        {/* Stats */}\n        <div className=\"grid grid-cols-3 gap-3\">\n          {profileStats.map((stat, index) => {\n            const Icon = stat.icon;\n            return (\n              <Card key={index} className=\"text-center\">\n                <CardContent className=\"p-4\">\n                  <Icon className={`h-6 w-6 ${stat.color} mx-auto mb-2`} />\n                  <div className=\"text-lg font-bold text-foreground\" data-testid={`stat-${index}`}>\n                    {stat.value}\n                  </div>\n                  <div className=\"text-xs text-muted-foreground\">{stat.label}</div>\n                </CardContent>\n              </Card>\n            );\n          })}\n        </div>\n\n        {/* Menu Items */}\n        <div className=\"space-y-3\">\n          {menuItems.map((item) => {\n            const Icon = item.icon;\n            return (\n              <Button\n                key={item.path}\n                variant=\"ghost\"\n                className=\"w-full h-auto p-4 justify-between hover:bg-accent\"\n                onClick={() => setLocation(item.path)}\n                data-testid={item.testId}\n              >\n                <div className=\"flex items-center gap-3\">\n                  <Icon className=\"h-6 w-6 text-primary\" />\n                  <div className=\"text-right\">\n                    <div className=\"font-medium text-foreground\">{item.label}</div>\n                    <div className=\"text-sm text-muted-foreground\">{item.description}</div>\n                  </div>\n                </div>\n                <ArrowRight className=\"h-5 w-5 text-muted-foreground rotate-180\" />\n              </Button>\n            );\n          })}\n        </div>\n      </section>\n    </div>\n  );\n}","size_bytes":8387},"client/src/pages/RatingsManagement.tsx":{"content":"import React, { useState, useEffect } from 'react';\nimport { Star, Check, X, Eye } from 'lucide-react';\n\ninterface Rating {\n  id: string;\n  orderId?: string;\n  restaurantId?: string;\n  customerName: string;\n  customerPhone?: string;\n  rating: number;\n  comment?: string;\n  isApproved: boolean;\n  createdAt: string;\n}\n\nexport default function RatingsManagement() {\n  const [ratings, setRatings] = useState<Rating[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [filter, setFilter] = useState<'all' | 'approved' | 'pending'>('all');\n\n  useEffect(() => {\n    fetchRatings();\n  }, [filter]);\n\n  const fetchRatings = async () => {\n    setIsLoading(true);\n    try {\n      let url = '/api/ratings';\n      if (filter === 'approved') {\n        url += '?approved=true';\n      } else if (filter === 'pending') {\n        url += '?approved=false';\n      }\n      \n      const response = await fetch(url);\n      const data = await response.json();\n      setRatings(data);\n    } catch (error) {\n      console.error('Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleApprove = async (id: string, approved: boolean) => {\n    try {\n      const response = await fetch(`/api/ratings/${id}/approve`, {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ approved })\n      });\n      \n      if (response.ok) {\n        fetchRatings();\n      }\n    } catch (error) {\n      console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ‚ÙŠÙŠÙ…:', error);\n    }\n  };\n\n  const handleDelete = async (id: string) => {\n    if (!confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…ØŸ')) return;\n    \n    try {\n      const response = await fetch(`/api/ratings/${id}`, {\n        method: 'DELETE'\n      });\n      \n      if (response.ok) {\n        fetchRatings();\n      }\n    } catch (error) {\n      console.error('Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„ØªÙ‚ÙŠÙŠÙ…:', error);\n    }\n  };\n\n  const renderStars = (rating: number) => {\n    return (\n      <div className=\"flex\">\n        {[1, 2, 3, 4, 5].map((star) => (\n          <Star\n            key={star}\n            size={16}\n            className={`${\n              star <= rating ? 'text-yellow-400 fill-current' : 'text-gray-300'\n            }`}\n          />\n        ))}\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"max-w-6xl mx-auto p-6\">\n      <div className=\"flex justify-between items-center mb-6\">\n        <h1 className=\"text-3xl font-bold text-gray-800\">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª ÙˆØ§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø§Øª</h1>\n        \n        <div className=\"flex gap-2\">\n          <button\n            onClick={() => setFilter('all')}\n            className={`px-4 py-2 rounded-lg ${\n              filter === 'all' ? 'bg-blue-600 text-white' : 'bg-gray-200 text-gray-700'\n            }`}\n          >\n            Ø§Ù„ÙƒÙ„\n          </button>\n          <button\n            onClick={() => setFilter('approved')}\n            className={`px-4 py-2 rounded-lg ${\n              filter === 'approved' ? 'bg-green-600 text-white' : 'bg-gray-200 text-gray-700'\n            }`}\n          >\n            Ø§Ù„Ù…Ø¹ØªÙ…Ø¯\n          </button>\n          <button\n            onClick={() => setFilter('pending')}\n            className={`px-4 py-2 rounded-lg ${\n              filter === 'pending' ? 'bg-orange-600 text-white' : 'bg-gray-200 text-gray-700'\n            }`}\n          >\n            ÙÙŠ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±\n          </button>\n        </div>\n      </div>\n\n      <div className=\"bg-white rounded-lg shadow\">\n        <div className=\"overflow-x-auto\">\n          <table className=\"min-w-full divide-y divide-gray-200\">\n            <thead className=\"bg-gray-50\">\n              <tr>\n                <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase\">Ø§Ù„Ø¹Ù…ÙŠÙ„</th>\n                <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase\">Ø§Ù„ØªÙ‚ÙŠÙŠÙ…</th>\n                <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase\">Ø§Ù„ØªØ¹Ù„ÙŠÙ‚</th>\n                <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase\">Ø§Ù„Ø­Ø§Ù„Ø©</th>\n                <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase\">Ø§Ù„ØªØ§Ø±ÙŠØ®</th>\n                <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase\">Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>\n              </tr>\n            </thead>\n            <tbody className=\"bg-white divide-y divide-gray-200\">\n              {isLoading ? (\n                <tr>\n                  <td colSpan={6} className=\"px-6 py-4 text-center\">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</td>\n                </tr>\n              ) : ratings.length === 0 ? (\n                <tr>\n                  <td colSpan={6} className=\"px-6 py-4 text-center text-gray-500\">\n                    Ù„Ø§ ØªÙˆØ¬Ø¯ ØªÙ‚ÙŠÙŠÙ…Ø§Øª\n                  </td>\n                </tr>\n              ) : (\n                ratings.map((rating) => (\n                  <tr key={rating.id}>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div>\n                        <div className=\"text-sm font-medium text-gray-900\">{rating.customerName}</div>\n                        {rating.customerPhone && (\n                          <div className=\"text-sm text-gray-500\">{rating.customerPhone}</div>\n                        )}\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"flex items-center gap-2\">\n                        {renderStars(rating.rating)}\n                        <span className=\"text-sm text-gray-600\">({rating.rating}/5)</span>\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4\">\n                      <div className=\"text-sm text-gray-900 max-w-xs truncate\" title={rating.comment}>\n                        {rating.comment || '-'}\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <span\n                        className={`px-2 py-1 text-xs font-semibold rounded-full ${\n                          rating.isApproved\n                            ? 'bg-green-100 text-green-800'\n                            : 'bg-orange-100 text-orange-800'\n                        }`}\n                      >\n                        {rating.isApproved ? 'Ù…Ø¹ØªÙ…Ø¯' : 'ÙÙŠ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±'}\n                      </span>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                      {new Date(rating.createdAt).toLocaleDateString('ar')}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                      <div className=\"flex space-x-2\">\n                        {!rating.isApproved && (\n                          <button\n                            onClick={() => handleApprove(rating.id, true)}\n                            className=\"text-green-600 hover:text-green-900\"\n                            title=\"Ø§Ø¹ØªÙ…Ø§Ø¯\"\n                          >\n                            <Check size={16} />\n                          </button>\n                        )}\n                        {rating.isApproved && (\n                          <button\n                            onClick={() => handleApprove(rating.id, false)}\n                            className=\"text-orange-600 hover:text-orange-900\"\n                            title=\"Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯\"\n                          >\n                            <Eye size={16} />\n                          </button>\n                        )}\n                        <button\n                          onClick={() => handleDelete(rating.id)}\n                          className=\"text-red-600 hover:text-red-900\"\n                          title=\"Ø­Ø°Ù\"\n                        >\n                          <X size={16} />\n                        </button>\n                      </div>\n                    </td>\n                  </tr>\n                ))\n              )}\n            </tbody>\n          </table>\n        </div>\n      </div>\n\n      {/* Statistics */}\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6\">\n        <div className=\"bg-white p-6 rounded-lg shadow\">\n          <h3 className=\"text-lg font-semibold text-gray-800 mb-2\">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª</h3>\n          <p className=\"text-3xl font-bold text-blue-600\">{ratings.length}</p>\n        </div>\n        <div className=\"bg-white p-6 rounded-lg shadow\">\n          <h3 className=\"text-lg font-semibold text-gray-800 mb-2\">Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª Ø§Ù„Ù…Ø¹ØªÙ…Ø¯Ø©</h3>\n          <p className=\"text-3xl font-bold text-green-600\">\n            {ratings.filter(r => r.isApproved).length}\n          </p>\n        </div>\n        <div className=\"bg-white p-6 rounded-lg shadow\">\n          <h3 className=\"text-lg font-semibold text-gray-800 mb-2\">ÙÙŠ Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯</h3>\n          <p className=\"text-3xl font-bold text-orange-600\">\n            {ratings.filter(r => !r.isApproved).length}\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}","size_bytes":9256},"client/src/pages/Restaurant.tsx":{"content":"import { useState } from 'react';\nimport { useParams, useLocation } from 'wouter';\nimport { useQuery } from '@tanstack/react-query';\nimport { ArrowRight, Star, Clock, AlertTriangle } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Alert, AlertDescription } from '@/components/ui/alert';\nimport MenuItemCard from '../components/MenuItemCard';\nimport type { Restaurant, MenuItem } from '@shared/schema';\nimport { getRestaurantStatus, canOrderFromRestaurant } from '../utils/restaurantHours';\n\nexport default function Restaurant() {\n  const { id } = useParams<{ id: string }>();\n  const [, setLocation] = useLocation();\n  const [selectedMenuCategory, setSelectedMenuCategory] = useState('ÙˆØ¬Ø¨Ø§Øª Ø±Ù…Ø¶Ø§Ù†');\n\n  const { data: restaurant, isLoading: restaurantLoading } = useQuery<Restaurant>({\n    queryKey: ['/api/restaurants', id],\n  });\n\n  const { data: menuItems, isLoading: menuLoading } = useQuery<MenuItem[]>({\n    queryKey: ['/api/restaurants', id, 'menu'],\n  });\n\nconst menuCategories = menuItems \n  ? Array.from(new Set(menuItems.map(item => item.category))) \n  : [];\n  const filteredMenuItems = menuItems?.filter(item => item.category === selectedMenuCategory) || [];\n\n  if (restaurantLoading) {\n    return (\n      <div className=\"animate-pulse\">\n        <div className=\"w-full h-64 bg-muted\" />\n        <div className=\"p-4 space-y-4\">\n          <div className=\"h-6 bg-muted rounded w-3/4\" />\n          <div className=\"h-4 bg-muted rounded w-1/2\" />\n        </div>\n      </div>\n    );\n  }\n\n  if (!restaurant) {\n    return (\n      <div className=\"p-4 text-center\">\n        <p className=\"text-muted-foreground\">Ø§Ù„Ù…Ø·Ø¹Ù… ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯</p>\n      </div>\n    );\n  }\n\n  const restaurantStatus = getRestaurantStatus(restaurant);\n  const orderStatus = canOrderFromRestaurant(restaurant);\n\n  return (\n    <div>\n      {/* Restaurant Header */}\n      <div className=\"relative\">\n        <img\n          src={restaurant.image}\n          alt={restaurant.name}\n          className=\"w-full h-64 object-cover\"\n        />\n        <Button\n          variant=\"ghost\"\n          size=\"icon\"\n          className=\"absolute top-4 right-4 bg-black/50 text-white hover:bg-black/70\"\n          onClick={() => setLocation('/')}\n          data-testid=\"button-back\"\n        >\n          <ArrowRight className=\"h-5 w-5\" />\n        </Button>\n        <div className=\"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-6\">\n          <h2 className=\"text-2xl font-bold text-white mb-2\" data-testid=\"restaurant-name\">\n            {restaurant.name}\n          </h2>\n          <div className=\"flex items-center gap-4 text-white/90 text-sm\">\n            <div className=\"flex items-center gap-1\">\n              <Star className=\"h-4 w-4 text-yellow-500\" />\n              <span>{restaurant.rating} ({restaurant.reviewCount} ØªÙ‚ÙŠÙŠÙ…)</span>\n            </div>\n            <div className=\"flex items-center gap-1\">\n              <Clock className=\"h-4 w-4\" />\n              <span>{restaurant.deliveryTime}</span>\n            </div>\n            <Badge \n              variant={restaurantStatus.isOpen ? \"default\" : \"destructive\"}\n              className={restaurantStatus.statusColor === 'green' ? \"bg-green-500 hover:bg-green-500\" : \n                        restaurantStatus.statusColor === 'yellow' ? \"bg-yellow-500 hover:bg-yellow-500\" : \"\"}\n            >\n              {restaurantStatus.isOpen ? 'Ù…ÙØªÙˆØ­' : 'Ù…ØºÙ„Ù‚'}\n            </Badge>\n          </div>\n        </div>\n      </div>\n\n      {/* Restaurant Status Alert */}\n      {!orderStatus.canOrder && (\n        <Alert className=\"m-4 border-red-200 bg-red-50\">\n          <AlertTriangle className=\"h-4 w-4 text-red-600\" />\n          <AlertDescription className=\"text-red-800\">\n            {orderStatus.message}\n          </AlertDescription>\n        </Alert>\n      )}\n\n      {/* Menu Categories */}\n      <div className=\"sticky top-0 bg-background border-b border-border z-30\">\n        <div className=\"flex gap-2 p-4 overflow-x-auto no-scrollbar\">\n          {menuCategories.map((category) => (\n            <Button\n              key={category}\n              variant={selectedMenuCategory === category ? \"default\" : \"secondary\"}\n              className=\"whitespace-nowrap font-medium\"\n              onClick={() => setSelectedMenuCategory(category)}\n              data-testid={`menu-category-${category}`}\n            >\n              {category}\n            </Button>\n          ))}\n        </div>\n      </div>\n\n      {/* Menu Items */}\n      <section className=\"p-4 space-y-4\">\n        {menuLoading ? (\n          <div className=\"space-y-4\">\n            {[...Array(4)].map((_, i) => (\n              <div key={i} className=\"bg-card border border-border rounded-xl p-4 flex gap-4\">\n                <div className=\"w-20 h-20 bg-muted rounded-lg animate-pulse\" />\n                <div className=\"flex-1 space-y-2\">\n                  <div className=\"h-4 bg-muted rounded animate-pulse\" />\n                  <div className=\"h-3 bg-muted rounded w-3/4 animate-pulse\" />\n                  <div className=\"h-3 bg-muted rounded w-1/2 animate-pulse\" />\n                </div>\n              </div>\n            ))}\n          </div>\n        ) : filteredMenuItems.length ? (\n          filteredMenuItems.map((item) => (\n            <MenuItemCard \n              key={item.id} \n              item={item} \n              disabled={!orderStatus.canOrder}\n              disabledMessage={orderStatus.message}\n            />\n          ))\n        ) : (\n          <div className=\"text-center text-muted-foreground py-8\">\n            <p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¹Ù†Ø§ØµØ± ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„ØªØµÙ†ÙŠÙ</p>\n          </div>\n        )}\n      </section>\n    </div>\n  );\n}\n","size_bytes":5760},"client/src/pages/RestaurantPage.tsx":{"content":"import { useState } from 'react';\nimport { useParams, useLocation } from 'wouter';\nimport { useQuery } from '@tanstack/react-query';\nimport { ArrowRight, Star, Clock, AlertTriangle } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Alert, AlertDescription } from '@/components/ui/alert';\nimport MenuItemCard from '../components/MenuItemCard';\nimport type { Restaurant, MenuItem } from '@shared/schema';\nimport { getRestaurantStatus, canOrderFromRestaurant } from '../utils/restaurantHours';\n\nexport default function RestaurantPage() {\n  const { id } = useParams<{ id: string }>();\n  const [, setLocation] = useLocation();\n  const [selectedMenuCategory, setSelectedMenuCategory] = useState('ÙˆØ¬Ø¨Ø§Øª Ø±Ù…Ø¶Ø§Ù†');\n\n  const { data: restaurant, isLoading: restaurantLoading } = useQuery<Restaurant>({\n    queryKey: ['/api/restaurants', id],\n  });\n\n  const { data: menuItems, isLoading: menuLoading } = useQuery<MenuItem[]>({\n    queryKey: ['/api/restaurants', id, 'menu'],\n  });\n\n  const menuCategories = menuItems \n    ? Array.from(new Set(menuItems.map(item => item.category))) \n    : [];\n  const filteredMenuItems = menuItems?.filter(item => item.category === selectedMenuCategory) || [];\n\n  if (restaurantLoading) {\n    return (\n      <div className=\"animate-pulse\">\n        <div className=\"w-full h-64 bg-muted\" />\n        <div className=\"p-4 space-y-4\">\n          <div className=\"h-6 bg-muted rounded w-3/4\" />\n          <div className=\"h-4 bg-muted rounded w-1/2\" />\n        </div>\n      </div>\n    );\n  }\n\n  if (!restaurant) {\n    return (\n      <div className=\"p-4 text-center\">\n        <p className=\"text-muted-foreground\">Ø§Ù„Ù…Ø·Ø¹Ù… ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯</p>\n      </div>\n    );\n  }\n\n  const restaurantStatus = getRestaurantStatus(restaurant);\n  const orderStatus = canOrderFromRestaurant(restaurant);\n\n  return (\n    <div>\n      {/* Restaurant Header */}\n      <div className=\"relative\">\n        <img\n          src={restaurant.image}\n          alt={restaurant.name}\n          className=\"w-full h-64 object-cover\"\n        />\n        <Button\n          variant=\"ghost\"\n          size=\"icon\"\n          className=\"absolute top-4 right-4 bg-black/50 text-white hover:bg-black/70\"\n          onClick={() => setLocation('/')}\n          data-testid=\"button-back\"\n        >\n          <ArrowRight className=\"h-5 w-5\" />\n        </Button>\n        <div className=\"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-6\">\n          <h2 className=\"text-2xl font-bold text-white mb-2\" data-testid=\"restaurant-name\">\n            {restaurant.name}\n          </h2>\n          <div className=\"flex items-center gap-4 text-white/90 text-sm\">\n            <div className=\"flex items-center gap-1\">\n              <Star className=\"h-4 w-4 text-yellow-500\" />\n              <span>{restaurant.rating} ({restaurant.reviewCount} ØªÙ‚ÙŠÙŠÙ…)</span>\n            </div>\n            <div className=\"flex items-center gap-1\">\n              <Clock className=\"h-4 w-4\" />\n              <span>{restaurant.deliveryTime}</span>\n            </div>\n            <Badge \n              variant={restaurantStatus.isOpen ? \"default\" : \"destructive\"}\n              className={restaurantStatus.statusColor === 'green' ? \"bg-green-500 hover:bg-green-500\" : \n                        restaurantStatus.statusColor === 'yellow' ? \"bg-yellow-500 hover:bg-yellow-500\" : \"\"}\n            >\n              {restaurantStatus.isOpen ? 'Ù…ÙØªÙˆØ­' : 'Ù…ØºÙ„Ù‚'}\n            </Badge>\n          </div>\n        </div>\n      </div>\n\n      {/* Restaurant Status Alert */}\n      {!orderStatus.canOrder && (\n        <Alert className=\"m-4 border-red-200 bg-red-50\">\n          <AlertTriangle className=\"h-4 w-4 text-red-600\" />\n          <AlertDescription className=\"text-red-800\">\n            {orderStatus.message}\n          </AlertDescription>\n        </Alert>\n      )}\n\n      {/* Menu Categories */}\n      <div className=\"sticky top-0 bg-background border-b border-border z-30\">\n        <div className=\"flex gap-2 p-4 overflow-x-auto no-scrollbar\">\n          {menuCategories.map((category) => (\n            <Button\n              key={category}\n              variant={selectedMenuCategory === category ? \"default\" : \"secondary\"}\n              className=\"whitespace-nowrap font-medium\"\n              onClick={() => setSelectedMenuCategory(category)}\n              data-testid={`menu-category-${category}`}\n            >\n              {category}\n            </Button>\n          ))}\n        </div>\n      </div>\n\n      {/* Menu Items */}\n      <section className=\"p-4 space-y-4\">\n        {menuLoading ? (\n          <div className=\"space-y-4\">\n            {[...Array(4)].map((_, i) => (\n              <div key={i} className=\"bg-card border border-border rounded-xl p-4 flex gap-4\">\n                <div className=\"w-20 h-20 bg-muted rounded-lg animate-pulse\" />\n                <div className=\"flex-1 space-y-2\">\n                  <div className=\"h-4 bg-muted rounded animate-pulse\" />\n                  <div className=\"h-3 bg-muted rounded w-3/4 animate-pulse\" />\n                  <div className=\"h-3 bg-muted rounded w-1/2 animate-pulse\" />\n                </div>\n              </div>\n            ))}\n          </div>\n        ) : filteredMenuItems.length ? (\n          filteredMenuItems.map((item) => (\n            <MenuItemCard \n              key={item.id} \n              item={item} \n              disabled={!orderStatus.canOrder}\n              disabledMessage={orderStatus.message}\n            />\n          ))\n        ) : (\n          <div className=\"text-center text-muted-foreground py-8\">\n            <p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¹Ù†Ø§ØµØ± ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„ØªØµÙ†ÙŠÙ</p>\n          </div>\n        )}\n      </section>\n    </div>\n  );\n}","size_bytes":5769},"client/src/pages/RestaurantSections.tsx":{"content":"import React, { useState, useEffect } from 'react';\nimport { Plus, Edit2, Trash2, Save, X } from 'lucide-react';\n\ninterface RestaurantSection {\n  id: string;\n  restaurantId: string;\n  name: string;\n  description?: string;\n  sortOrder: number;\n  isActive: boolean;\n  createdAt: string;\n}\n\ninterface Restaurant {\n  id: string;\n  name: string;\n}\n\nexport default function RestaurantSections() {\n  const [sections, setSections] = useState<RestaurantSection[]>([]);\n  const [restaurants, setRestaurants] = useState<Restaurant[]>([]);\n  const [selectedRestaurant, setSelectedRestaurant] = useState<string>('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [editingId, setEditingId] = useState<string | null>(null);\n  const [showAddForm, setShowAddForm] = useState(false);\n  const [formData, setFormData] = useState({\n    name: '',\n    description: '',\n    sortOrder: 0\n  });\n\n  useEffect(() => {\n    fetchRestaurants();\n  }, []);\n\n  useEffect(() => {\n    if (selectedRestaurant) {\n      fetchSections();\n    }\n  }, [selectedRestaurant]);\n\n  const fetchRestaurants = async () => {\n    try {\n      const response = await fetch('/api/restaurants');\n      const data = await response.json();\n      setRestaurants(data);\n    } catch (error) {\n      console.error('Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ù…Ø·Ø§Ø¹Ù…:', error);\n    }\n  };\n\n  const fetchSections = async () => {\n    if (!selectedRestaurant) return;\n    \n    setIsLoading(true);\n    try {\n      const response = await fetch(`/api/restaurants/${selectedRestaurant}/sections`);\n      const data = await response.json();\n      setSections(data);\n    } catch (error) {\n      console.error('Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø£Ù‚Ø³Ø§Ù…:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleAdd = async () => {\n    if (!selectedRestaurant) return;\n    \n    try {\n      const response = await fetch(`/api/restaurants/${selectedRestaurant}/sections`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(formData)\n      });\n      \n      if (response.ok) {\n        setFormData({ name: '', description: '', sortOrder: 0 });\n        setShowAddForm(false);\n        fetchSections();\n      }\n    } catch (error) {\n      console.error('Ø®Ø·Ø£ ÙÙŠ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù‚Ø³Ù…:', error);\n    }\n  };\n\n  const handleUpdate = async (id: string, data: Partial<RestaurantSection>) => {\n    try {\n      const response = await fetch(`/api/restaurant-sections/${id}`, {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(data)\n      });\n      \n      if (response.ok) {\n        setEditingId(null);\n        fetchSections();\n      }\n    } catch (error) {\n      console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù‚Ø³Ù…:', error);\n    }\n  };\n\n  const handleDelete = async (id: string) => {\n    if (!confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ù‚Ø³Ù…ØŸ')) return;\n    \n    try {\n      const response = await fetch(`/api/restaurant-sections/${id}`, {\n        method: 'DELETE'\n      });\n      \n      if (response.ok) {\n        fetchSections();\n      }\n    } catch (error) {\n      console.error('Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ù‚Ø³Ù…:', error);\n    }\n  };\n\n  return (\n    <div className=\"max-w-6xl mx-auto p-6\">\n      <div className=\"flex justify-between items-center mb-6\">\n        <h1 className=\"text-3xl font-bold text-gray-800\">Ø¥Ø¯Ø§Ø±Ø© Ø£Ù‚Ø³Ø§Ù… Ø§Ù„Ù…Ø·Ø§Ø¹Ù…</h1>\n        <button\n          onClick={() => setShowAddForm(true)}\n          disabled={!selectedRestaurant}\n          className=\"bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-blue-700 disabled:opacity-50\"\n        >\n          <Plus size={20} />\n          Ø¥Ø¶Ø§ÙØ© Ù‚Ø³Ù…\n        </button>\n      </div>\n\n      {/* Restaurant Selection */}\n      <div className=\"mb-6\">\n        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n          Ø§Ø®ØªØ± Ø§Ù„Ù…Ø·Ø¹Ù…\n        </label>\n        <select\n          value={selectedRestaurant}\n          onChange={(e) => setSelectedRestaurant(e.target.value)}\n          className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n        >\n          <option value=\"\">Ø§Ø®ØªØ± Ù…Ø·Ø¹Ù…...</option>\n          {restaurants.map(restaurant => (\n            <option key={restaurant.id} value={restaurant.id}>\n              {restaurant.name}\n            </option>\n          ))}\n        </select>\n      </div>\n\n      {/* Add Form */}\n      {showAddForm && (\n        <div className=\"bg-white p-6 rounded-lg shadow-md mb-6\">\n          <h3 className=\"text-lg font-semibold mb-4\">Ø¥Ø¶Ø§ÙØ© Ù‚Ø³Ù… Ø¬Ø¯ÙŠØ¯</h3>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <input\n              type=\"text\"\n              placeholder=\"Ø§Ø³Ù… Ø§Ù„Ù‚Ø³Ù…\"\n              value={formData.name}\n              onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n              className=\"p-3 border border-gray-300 rounded-lg\"\n            />\n            <input\n              type=\"text\"\n              placeholder=\"Ø§Ù„ÙˆØµÙ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)\"\n              value={formData.description}\n              onChange={(e) => setFormData({ ...formData, description: e.target.value })}\n              className=\"p-3 border border-gray-300 rounded-lg\"\n            />\n            <input\n              type=\"number\"\n              placeholder=\"ØªØ±ØªÙŠØ¨ Ø§Ù„Ø¹Ø±Ø¶\"\n              value={formData.sortOrder}\n              onChange={(e) => setFormData({ ...formData, sortOrder: parseInt(e.target.value) })}\n              className=\"p-3 border border-gray-300 rounded-lg\"\n            />\n          </div>\n          <div className=\"flex gap-2 mt-4\">\n            <button\n              onClick={handleAdd}\n              className=\"bg-green-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-green-700\"\n            >\n              <Save size={20} />\n              Ø­ÙØ¸\n            </button>\n            <button\n              onClick={() => setShowAddForm(false)}\n              className=\"bg-gray-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-gray-700\"\n            >\n              <X size={20} />\n              Ø¥Ù„ØºØ§Ø¡\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Sections List */}\n      {selectedRestaurant && (\n        <div className=\"bg-white rounded-lg shadow\">\n          <div className=\"overflow-x-auto\">\n            <table className=\"min-w-full divide-y divide-gray-200\">\n              <thead className=\"bg-gray-50\">\n                <tr>\n                  <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase\">Ø§Ù„Ø§Ø³Ù…</th>\n                  <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase\">Ø§Ù„ÙˆØµÙ</th>\n                  <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase\">Ø§Ù„ØªØ±ØªÙŠØ¨</th>\n                  <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase\">Ø§Ù„Ø­Ø§Ù„Ø©</th>\n                  <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase\">Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>\n                </tr>\n              </thead>\n              <tbody className=\"bg-white divide-y divide-gray-200\">\n                {isLoading ? (\n                  <tr>\n                    <td colSpan={5} className=\"px-6 py-4 text-center\">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</td>\n                  </tr>\n                ) : sections.length === 0 ? (\n                  <tr>\n                    <td colSpan={5} className=\"px-6 py-4 text-center text-gray-500\">\n                      Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ù‚Ø³Ø§Ù… Ù„Ù‡Ø°Ø§ Ø§Ù„Ù…Ø·Ø¹Ù…\n                    </td>\n                  </tr>\n                ) : (\n                  sections.map((section) => (\n                    <tr key={section.id}>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        {editingId === section.id ? (\n                          <input\n                            type=\"text\"\n                            defaultValue={section.name}\n                            className=\"w-full p-2 border border-gray-300 rounded\"\n                            onBlur={(e) => handleUpdate(section.id, { name: e.target.value })}\n                          />\n                        ) : (\n                          <div className=\"text-sm font-medium text-gray-900\">{section.name}</div>\n                        )}\n                      </td>\n                      <td className=\"px-6 py-4\">\n                        {editingId === section.id ? (\n                          <input\n                            type=\"text\"\n                            defaultValue={section.description || ''}\n                            className=\"w-full p-2 border border-gray-300 rounded\"\n                            onBlur={(e) => handleUpdate(section.id, { description: e.target.value })}\n                          />\n                        ) : (\n                          <div className=\"text-sm text-gray-500\">{section.description || '-'}</div>\n                        )}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        {editingId === section.id ? (\n                          <input\n                            type=\"number\"\n                            defaultValue={section.sortOrder}\n                            className=\"w-20 p-2 border border-gray-300 rounded\"\n                            onBlur={(e) => handleUpdate(section.id, { sortOrder: parseInt(e.target.value) })}\n                          />\n                        ) : (\n                          <span className=\"text-sm text-gray-900\">{section.sortOrder}</span>\n                        )}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <button\n                          onClick={() => handleUpdate(section.id, { isActive: !section.isActive })}\n                          className={`px-2 py-1 text-xs font-semibold rounded-full ${\n                            section.isActive\n                              ? 'bg-green-100 text-green-800'\n                              : 'bg-red-100 text-red-800'\n                          }`}\n                        >\n                          {section.isActive ? 'Ù†Ø´Ø·' : 'ØºÙŠØ± Ù†Ø´Ø·'}\n                        </button>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                        <div className=\"flex space-x-2\">\n                          <button\n                            onClick={() => setEditingId(editingId === section.id ? null : section.id)}\n                            className=\"text-indigo-600 hover:text-indigo-900\"\n                          >\n                            <Edit2 size={16} />\n                          </button>\n                          <button\n                            onClick={() => handleDelete(section.id)}\n                            className=\"text-red-600 hover:text-red-900\"\n                          >\n                            <Trash2 size={16} />\n                          </button>\n                        </div>\n                      </td>\n                    </tr>\n                  ))\n                )}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}","size_bytes":11356},"client/src/pages/Settings.tsx":{"content":"import { useState } from 'react';\nimport { useLocation } from 'wouter';\nimport { ArrowRight, Bell, Globe, Moon, Sun, Lock, CreditCard, Smartphone, Settings as SettingsIcon } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Switch } from '@/components/ui/switch';\nimport { Label } from '@/components/ui/label';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport { useTheme } from '../context/ThemeContext';\nimport { useToast } from '@/hooks/use-toast';\nimport { UiControlPanel } from '@/components/UiControlPanel';\n\ninterface SettingItem {\n  key: string;\n  label: string;\n  description: string;\n  type: 'switch' | 'theme' | 'select';\n  value: boolean | string;\n  onChange: (value: any) => void;\n  options?: Array<{ value: string; label: string }>;\n}\n\ninterface SettingsGroup {\n  title: string;\n  icon: React.ComponentType<React.SVGProps<SVGSVGElement>>;\n  items: SettingItem[];\n}\n\nexport default function Settings() {\n  const [, setLocation] = useLocation();\n  const { theme, toggleTheme } = useTheme();\n  const { toast } = useToast();\n  \n  const [settings, setSettings] = useState({\n    notifications: {\n      orderUpdates: true,\n      promotions: true,\n      sound: true,\n    },\n    language: 'ar',\n    currency: 'YER',\n    autoLocation: true,\n    biometric: false,\n  });\n\n  const handleNotificationChange = (setting: string, value: boolean) => {\n    setSettings(prev => ({\n      ...prev,\n      notifications: {\n        ...prev.notifications,\n        [setting]: value,\n      },\n    }));\n    \n    toast({\n      title: \"ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª\",\n      description: \"ØªÙ… ØªØ­Ø¯ÙŠØ« Ø¥Ø¹Ø¯Ø§Ø¯Ø§ØªÙƒ Ø¨Ù†Ø¬Ø§Ø­\",\n    });\n  };\n\n  const handleSimpleSettingChange = (setting: string, value: boolean | string) => {\n    setSettings(prev => ({\n      ...prev,\n      [setting]: value,\n    }));\n    \n    toast({\n      title: \"ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª\",\n      description: \"ØªÙ… ØªØ­Ø¯ÙŠØ« Ø¥Ø¹Ø¯Ø§Ø¯Ø§ØªÙƒ Ø¨Ù†Ø¬Ø§Ø­\",\n    });\n  };\n\n  const settingsGroups: SettingsGroup[] = [\n    {\n      title: 'Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª',\n      icon: Bell,\n      items: [\n        {\n          key: 'orderUpdates',\n          label: 'ØªØ­Ø¯ÙŠØ«Ø§Øª Ø§Ù„Ø·Ù„Ø¨Ø§Øª',\n          description: 'Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø­ÙˆÙ„ Ø­Ø§Ù„Ø© Ø·Ù„Ø¨Ø§ØªÙƒ',\n          type: 'switch',\n          value: settings.notifications.orderUpdates,\n          onChange: (value: boolean) => handleNotificationChange('orderUpdates', value),\n        },\n        {\n          key: 'promotions',\n          label: 'Ø§Ù„Ø¹Ø±ÙˆØ¶ ÙˆØ§Ù„ØªØ®ÙÙŠØ¶Ø§Øª',\n          description: 'Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø­ÙˆÙ„ Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©',\n          type: 'switch',\n          value: settings.notifications.promotions,\n          onChange: (value: boolean) => handleNotificationChange('promotions', value),\n        },\n        {\n          key: 'sound',\n          label: 'Ø§Ù„Ø£ØµÙˆØ§Øª',\n          description: 'ØªØ´ØºÙŠÙ„ Ø£ØµÙˆØ§Øª Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª',\n          type: 'switch',\n          value: settings.notifications.sound,\n          onChange: (value: boolean) => handleNotificationChange('sound', value),\n        },\n      ],\n    },\n    {\n      title: 'Ø§Ù„Ø¹Ø±Ø¶ ÙˆØ§Ù„Ù„ØºØ©',\n      icon: Globe,\n      items: [\n        {\n          key: 'theme',\n          label: 'Ø§Ù„Ù…Ø¸Ù‡Ø±',\n          description: 'Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ø¸Ù‡Ø± Ø§Ù„ÙØ§ØªØ­ Ø£Ùˆ Ø§Ù„Ø¯Ø§ÙƒÙ†',\n          type: 'theme',\n          value: theme,\n          onChange: toggleTheme,\n        },\n        {\n          key: 'language',\n          label: 'Ø§Ù„Ù„ØºØ©',\n          description: 'Ø§Ø®ØªÙŠØ§Ø± Ù„ØºØ© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚',\n          type: 'select',\n          value: settings.language,\n          options: [\n            { value: 'ar', label: 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©' },\n            { value: 'en', label: 'English' },\n          ],\n          onChange: (value: string) => handleSimpleSettingChange('language', value),\n        },\n        {\n          key: 'currency',\n          label: 'Ø§Ù„Ø¹Ù…Ù„Ø©',\n          description: 'ÙˆØ­Ø¯Ø© Ø§Ù„Ø¹Ù…Ù„Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø©',\n          type: 'select',\n          value: settings.currency,\n          options: [\n            { value: 'YER', label: 'Ø§Ù„Ø±ÙŠØ§Ù„ Ø§Ù„ÙŠÙ…Ù†ÙŠ (YER)' },\n            { value: 'SAR', label: 'Ø§Ù„Ø±ÙŠØ§Ù„ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠ (SAR)' },\n            { value: 'USD', label: 'Ø§Ù„Ø¯ÙˆÙ„Ø§Ø± Ø§Ù„Ø£Ù…Ø±ÙŠÙƒÙŠ (USD)' },\n          ],\n          onChange: (value: string) => handleSimpleSettingChange('currency', value),\n        },\n      ],\n    },\n    {\n      title: 'Ø§Ù„Ù…ÙˆÙ‚Ø¹ ÙˆØ§Ù„Ø®ØµÙˆØµÙŠØ©',\n      icon: Lock,\n      items: [\n        {\n          key: 'autoLocation',\n          label: 'ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹',\n          description: 'Ø§Ù„Ø³Ù…Ø§Ø­ Ù„Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¨ØªØ­Ø¯ÙŠØ¯ Ù…ÙˆÙ‚Ø¹Ùƒ',\n          type: 'switch',\n          value: settings.autoLocation,\n          onChange: (value: boolean) => handleSimpleSettingChange('autoLocation', value),\n        },\n        {\n          key: 'biometric',\n          label: 'Ø§Ù„Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ø¨ÙŠÙˆÙ…ØªØ±ÙŠØ©',\n          description: 'Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¨ØµÙ…Ø© Ø§Ù„Ø¥ØµØ¨Ø¹ Ø£Ùˆ Ø§Ù„ÙˆØ¬Ù‡',\n          type: 'switch',\n          value: settings.biometric,\n          onChange: (value: boolean) => handleSimpleSettingChange('biometric', value),\n        },\n      ],\n    },\n  ];\n\n  const quickActions = [\n    {\n      icon: CreditCard,\n      label: 'Ø·Ø±Ù‚ Ø§Ù„Ø¯ÙØ¹',\n      description: 'Ø¥Ø¯Ø§Ø±Ø© Ø·Ø±Ù‚ Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©',\n      action: () => setLocation('/payment-methods'),\n      testId: 'settings-payment-methods',\n    },\n    {\n      icon: Smartphone,\n      label: 'Ø­ÙˆÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚',\n      description: 'Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù†Ø³Ø®Ø© ÙˆØ§Ù„ØªØ­Ø¯ÙŠØ«Ø§Øª',\n      action: () => setLocation('/about'),\n      testId: 'settings-about',\n    },\n  ];\n\n  return (\n    <div>\n      {/* Header */}\n      <header className=\"bg-card border-b border-border p-4\">\n        <div className=\"flex items-center gap-3\">\n          <Button\n            variant=\"ghost\"\n            size=\"icon\"\n            onClick={() => setLocation('/profile')}\n            data-testid=\"button-settings-back\"\n          >\n            <ArrowRight className=\"h-5 w-5\" />\n          </Button>\n          <h2 className=\"text-xl font-bold text-foreground\">Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</h2>\n        </div>\n      </header>\n\n      <section className=\"p-4\">\n        <Tabs defaultValue=\"general\" className=\"w-full\">\n          <TabsList className=\"grid w-full grid-cols-2\">\n            <TabsTrigger value=\"general\" className=\"flex items-center gap-2\">\n              <SettingsIcon className=\"h-4 w-4\" />\n              Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¹Ø§Ù…Ø©\n            </TabsTrigger>\n            <TabsTrigger value=\"ui-control\" className=\"flex items-center gap-2\">\n              <Globe className=\"h-4 w-4\" />\n              ØªØ­ÙƒÙ… Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©\n            </TabsTrigger>\n          </TabsList>\n          \n          <TabsContent value=\"general\" className=\"space-y-6 mt-6\">\n            {/* Settings Groups */}\n            {settingsGroups.map((group) => {\n          const Icon = group.icon;\n          return (\n            <Card key={group.title}>\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-3 text-lg\">\n                  <Icon className=\"h-6 w-6 text-primary\" />\n                  {group.title}\n                </CardTitle>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                {group.items.map((item) => (\n                  <div key={item.key} className=\"flex items-center justify-between py-2\">\n                    <div className=\"flex-1\">\n                      <Label \n                        htmlFor={item.key} \n                        className=\"text-foreground font-medium cursor-pointer\"\n                        data-testid={`setting-label-${item.key}`}\n                      >\n                        {item.label}\n                      </Label>\n                      <p className=\"text-sm text-muted-foreground mt-1\">\n                        {item.description}\n                      </p>\n                    </div>\n                    \n                    <div className=\"ml-4\">\n                      {item.type === 'switch' && (\n                        <Switch\n                          id={item.key}\n                          checked={item.value as boolean}\n                          onCheckedChange={item.onChange}\n                          data-testid={`switch-${item.key}`}\n                        />\n                      )}\n                      \n                      {item.type === 'theme' && (\n                        <Button\n                          variant=\"outline\"\n                          size=\"sm\"\n                          onClick={item.onChange}\n                          data-testid=\"button-toggle-theme\"\n                        >\n                          {theme === 'dark' ? (\n                            <Sun className=\"h-4 w-4 ml-2\" />\n                          ) : (\n                            <Moon className=\"h-4 w-4 ml-2\" />\n                          )}\n                          {theme === 'dark' ? 'ÙØ§ØªØ­' : 'Ø¯Ø§ÙƒÙ†'}\n                        </Button>\n                      )}\n                      \n                      {item.type === 'select' && item.options && (\n                        <Select \n                          value={item.value as string} \n                          onValueChange={item.onChange}\n                        >\n                          <SelectTrigger className=\"w-40\" data-testid={`select-${item.key}`}>\n                            <SelectValue />\n                          </SelectTrigger>\n                          <SelectContent>\n                            {item.options.map((option) => (\n                              <SelectItem key={option.value} value={option.value}>\n                                {option.label}\n                              </SelectItem>\n                            ))}\n                          </SelectContent>\n                        </Select>\n                      )}\n                    </div>\n                  </div>\n                ))}\n              </CardContent>\n            </Card>\n          );\n        })}\n\n            {/* Quick Actions */}\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"text-lg\">Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©</CardTitle>\n              </CardHeader>\n              <CardContent className=\"space-y-3\">\n                {quickActions.map((action) => {\n                  const Icon = action.icon;\n                  return (\n                    <Button\n                      key={action.testId}\n                      variant=\"ghost\"\n                      className=\"w-full h-auto p-4 justify-between hover:bg-accent\"\n                      onClick={action.action}\n                      data-testid={action.testId}\n                    >\n                      <div className=\"flex items-center gap-3\">\n                        <Icon className=\"h-6 w-6 text-primary\" />\n                        <div className=\"text-right\">\n                          <div className=\"font-medium text-foreground\">{action.label}</div>\n                          <div className=\"text-sm text-muted-foreground\">{action.description}</div>\n                        </div>\n                      </div>\n                      <ArrowRight className=\"h-5 w-5 text-muted-foreground rotate-180\" />\n                    </Button>\n                  );\n                })}\n              </CardContent>\n            </Card>\n\n            {/* Sign Out */}\n            <Button\n              variant=\"destructive\"\n              className=\"w-full\"\n              data-testid=\"button-sign-out\"\n            >\n              ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬\n            </Button>\n          </TabsContent>\n          \n          <TabsContent value=\"ui-control\" className=\"mt-6\">\n            <UiControlPanel />\n          </TabsContent>\n        </Tabs>\n      </section>\n    </div>\n  );\n}","size_bytes":12034},"client/src/pages/SpecialOffers.tsx":{"content":"import React, { useState, useEffect } from 'react';\nimport { Plus, Edit2, Trash2, Save, X, Calendar, Percent, Tag } from 'lucide-react';\n\ninterface SpecialOffer {\n  id: string;\n  title: string;\n  description?: string;\n  discountPercentage: number;\n  minOrderAmount?: string;\n  maxDiscountAmount?: string;\n  startDate: string;\n  endDate: string;\n  isActive: boolean;\n  usageCount: number;\n  maxUsage?: number;\n  applicableRestaurants?: string;\n  createdAt: string;\n}\n\ninterface Restaurant {\n  id: string;\n  name: string;\n}\n\nexport default function SpecialOffers() {\n  const [offers, setOffers] = useState<SpecialOffer[]>([]);\n  const [restaurants, setRestaurants] = useState<Restaurant[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [editingId, setEditingId] = useState<string | null>(null);\n  const [showAddForm, setShowAddForm] = useState(false);\n  const [formData, setFormData] = useState({\n    title: '',\n    description: '',\n    discountPercentage: 0,\n    minOrderAmount: '',\n    maxDiscountAmount: '',\n    startDate: '',\n    endDate: '',\n    maxUsage: '',\n    applicableRestaurants: 'all'\n  });\n\n  useEffect(() => {\n    fetchOffers();\n    fetchRestaurants();\n  }, []);\n\n  const fetchOffers = async () => {\n    setIsLoading(true);\n    try {\n      const response = await fetch('/api/special-offers');\n      const data = await response.json();\n      setOffers(data);\n    } catch (error) {\n      console.error('Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø¹Ø±ÙˆØ¶:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const fetchRestaurants = async () => {\n    try {\n      const response = await fetch('/api/restaurants');\n      const data = await response.json();\n      setRestaurants(data);\n    } catch (error) {\n      console.error('Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ù…Ø·Ø§Ø¹Ù…:', error);\n    }\n  };\n\n  const handleAdd = async () => {\n    try {\n      const offerData = {\n        ...formData,\n        discountPercentage: parseFloat(formData.discountPercentage.toString()),\n        minOrderAmount: formData.minOrderAmount ? parseFloat(formData.minOrderAmount) : null,\n        maxDiscountAmount: formData.maxDiscountAmount ? parseFloat(formData.maxDiscountAmount) : null,\n        maxUsage: formData.maxUsage ? parseInt(formData.maxUsage) : null,\n        applicableRestaurants: formData.applicableRestaurants === 'all' ? null : formData.applicableRestaurants\n      };\n\n      const response = await fetch('/api/special-offers', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(offerData)\n      });\n      \n      if (response.ok) {\n        setFormData({\n          title: '',\n          description: '',\n          discountPercentage: 0,\n          minOrderAmount: '',\n          maxDiscountAmount: '',\n          startDate: '',\n          endDate: '',\n          maxUsage: '',\n          applicableRestaurants: 'all'\n        });\n        setShowAddForm(false);\n        fetchOffers();\n      }\n    } catch (error) {\n      console.error('Ø®Ø·Ø£ ÙÙŠ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ø±Ø¶:', error);\n    }\n  };\n\n  const handleUpdate = async (id: string, data: Partial<SpecialOffer>) => {\n    try {\n      const response = await fetch(`/api/special-offers/${id}`, {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(data)\n      });\n      \n      if (response.ok) {\n        setEditingId(null);\n        fetchOffers();\n      }\n    } catch (error) {\n      console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø±Ø¶:', error);\n    }\n  };\n\n  const handleDelete = async (id: string) => {\n    if (!confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø¹Ø±Ø¶ØŸ')) return;\n    \n    try {\n      const response = await fetch(`/api/special-offers/${id}`, {\n        method: 'DELETE'\n      });\n      \n      if (response.ok) {\n        fetchOffers();\n      }\n    } catch (error) {\n      console.error('Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ø¹Ø±Ø¶:', error);\n    }\n  };\n\n  const getOfferStatus = (offer: SpecialOffer) => {\n    const now = new Date();\n    const startDate = new Date(offer.startDate);\n    const endDate = new Date(offer.endDate);\n    \n    if (!offer.isActive) return { text: 'ØºÙŠØ± Ù†Ø´Ø·', color: 'bg-gray-100 text-gray-800' };\n    if (now < startDate) return { text: 'Ù„Ù… ÙŠØ¨Ø¯Ø£', color: 'bg-yellow-100 text-yellow-800' };\n    if (now > endDate) return { text: 'Ù…Ù†ØªÙ‡ÙŠ', color: 'bg-red-100 text-red-800' };\n    return { text: 'Ù†Ø´Ø·', color: 'bg-green-100 text-green-800' };\n  };\n\n  const getRestaurantName = (restaurantId: string) => {\n    const restaurant = restaurants.find(r => r.id === restaurantId);\n    return restaurant ? restaurant.name : 'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ';\n  };\n\n  return (\n    <div className=\"max-w-7xl mx-auto p-6\">\n      <div className=\"flex justify-between items-center mb-6\">\n        <h1 className=\"text-3xl font-bold text-gray-800\">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø®Ø§ØµØ©</h1>\n        <button\n          onClick={() => setShowAddForm(true)}\n          className=\"bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-blue-700\"\n        >\n          <Plus size={20} />\n          Ø¥Ø¶Ø§ÙØ© Ø¹Ø±Ø¶\n        </button>\n      </div>\n\n      {/* Add Form */}\n      {showAddForm && (\n        <div className=\"bg-white p-6 rounded-lg shadow-md mb-6\">\n          <h3 className=\"text-lg font-semibold mb-4\">Ø¥Ø¶Ø§ÙØ© Ø¹Ø±Ø¶ Ø®Ø§Øµ Ø¬Ø¯ÙŠØ¯</h3>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¹Ø±Ø¶ *</label>\n              <input\n                type=\"text\"\n                value={formData.title}\n                onChange={(e) => setFormData({ ...formData, title: e.target.value })}\n                className=\"w-full p-3 border border-gray-300 rounded-lg\"\n                placeholder=\"Ù…Ø«Ø§Ù„: Ø®ØµÙ… Ø§Ù„Ø¬Ù…Ø¹Ø© Ø§Ù„Ø°Ù‡Ø¨ÙŠØ©\"\n              />\n            </div>\n            \n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Ù†Ø³Ø¨Ø© Ø§Ù„Ø®ØµÙ… (%) *</label>\n              <input\n                type=\"number\"\n                min=\"0\"\n                max=\"100\"\n                value={formData.discountPercentage}\n                onChange={(e) => setFormData({ ...formData, discountPercentage: parseFloat(e.target.value) })}\n                className=\"w-full p-3 border border-gray-300 rounded-lg\"\n                placeholder=\"20\"\n              />\n            </div>\n            \n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ù„Ù„Ø·Ù„Ø¨ (Ø´ÙŠÙƒÙ„)</label>\n              <input\n                type=\"number\"\n                min=\"0\"\n                value={formData.minOrderAmount}\n                onChange={(e) => setFormData({ ...formData, minOrderAmount: e.target.value })}\n                className=\"w-full p-3 border border-gray-300 rounded-lg\"\n                placeholder=\"50\"\n              />\n            </div>\n            \n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„Ù„Ø®ØµÙ… (Ø´ÙŠÙƒÙ„)</label>\n              <input\n                type=\"number\"\n                min=\"0\"\n                value={formData.maxDiscountAmount}\n                onChange={(e) => setFormData({ ...formData, maxDiscountAmount: e.target.value })}\n                className=\"w-full p-3 border border-gray-300 rounded-lg\"\n                placeholder=\"25\"\n              />\n            </div>\n            \n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© *</label>\n              <input\n                type=\"datetime-local\"\n                value={formData.startDate}\n                onChange={(e) => setFormData({ ...formData, startDate: e.target.value })}\n                className=\"w-full p-3 border border-gray-300 rounded-lg\"\n              />\n            </div>\n            \n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">ØªØ§Ø±ÙŠØ® Ø§Ù„Ù†Ù‡Ø§ÙŠØ© *</label>\n              <input\n                type=\"datetime-local\"\n                value={formData.endDate}\n                onChange={(e) => setFormData({ ...formData, endDate: e.target.value })}\n                className=\"w-full p-3 border border-gray-300 rounded-lg\"\n              />\n            </div>\n            \n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…</label>\n              <input\n                type=\"number\"\n                min=\"1\"\n                value={formData.maxUsage}\n                onChange={(e) => setFormData({ ...formData, maxUsage: e.target.value })}\n                className=\"w-full p-3 border border-gray-300 rounded-lg\"\n                placeholder=\"100\"\n              />\n            </div>\n            \n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Ø§Ù„Ù…Ø·Ø§Ø¹Ù… Ø§Ù„Ù…Ø´Ù…ÙˆÙ„Ø©</label>\n              <select\n                value={formData.applicableRestaurants}\n                onChange={(e) => setFormData({ ...formData, applicableRestaurants: e.target.value })}\n                className=\"w-full p-3 border border-gray-300 rounded-lg\"\n              >\n                <option value=\"all\">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø·Ø§Ø¹Ù…</option>\n                {restaurants.map(restaurant => (\n                  <option key={restaurant.id} value={restaurant.id}>\n                    {restaurant.name}\n                  </option>\n                ))}\n              </select>\n            </div>\n            \n            <div className=\"md:col-span-2 lg:col-span-3\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">ÙˆØµÙ Ø§Ù„Ø¹Ø±Ø¶</label>\n              <textarea\n                value={formData.description}\n                onChange={(e) => setFormData({ ...formData, description: e.target.value })}\n                className=\"w-full p-3 border border-gray-300 rounded-lg\"\n                rows={3}\n                placeholder=\"ÙˆØµÙ ØªÙØµÙŠÙ„ÙŠ Ù„Ù„Ø¹Ø±Ø¶ ÙˆØ´Ø±ÙˆØ·Ù‡...\"\n              />\n            </div>\n          </div>\n          \n          <div className=\"flex gap-2 mt-6\">\n            <button\n              onClick={handleAdd}\n              className=\"bg-green-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-green-700\"\n            >\n              <Save size={20} />\n              Ø­ÙØ¸ Ø§Ù„Ø¹Ø±Ø¶\n            </button>\n            <button\n              onClick={() => setShowAddForm(false)}\n              className=\"bg-gray-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-gray-700\"\n            >\n              <X size={20} />\n              Ø¥Ù„ØºØ§Ø¡\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Offers List */}\n      <div className=\"bg-white rounded-lg shadow\">\n        <div className=\"overflow-x-auto\">\n          <table className=\"min-w-full divide-y divide-gray-200\">\n            <thead className=\"bg-gray-50\">\n              <tr>\n                <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase\">Ø§Ù„Ø¹Ø±Ø¶</th>\n                <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase\">Ø§Ù„Ø®ØµÙ…</th>\n                <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase\">Ø§Ù„Ø´Ø±ÙˆØ·</th>\n                <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase\">Ø§Ù„ØªÙˆÙ‚ÙŠØª</th>\n                <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase\">Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…</th>\n                <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase\">Ø§Ù„Ø­Ø§Ù„Ø©</th>\n                <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase\">Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>\n              </tr>\n            </thead>\n            <tbody className=\"bg-white divide-y divide-gray-200\">\n              {isLoading ? (\n                <tr>\n                  <td colSpan={7} className=\"px-6 py-4 text-center\">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</td>\n                </tr>\n              ) : offers.length === 0 ? (\n                <tr>\n                  <td colSpan={7} className=\"px-6 py-4 text-center text-gray-500\">\n                    Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¹Ø±ÙˆØ¶ Ø®Ø§ØµØ©\n                  </td>\n                </tr>\n              ) : (\n                offers.map((offer) => {\n                  const status = getOfferStatus(offer);\n                  return (\n                    <tr key={offer.id}>\n                      <td className=\"px-6 py-4\">\n                        <div>\n                          <div className=\"text-sm font-medium text-gray-900\">{offer.title}</div>\n                          {offer.description && (\n                            <div className=\"text-sm text-gray-500 truncate max-w-xs\" title={offer.description}>\n                              {offer.description}\n                            </div>\n                          )}\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <div className=\"flex items-center gap-1\">\n                          <Percent size={16} className=\"text-green-600\" />\n                          <span className=\"text-lg font-bold text-green-600\">{offer.discountPercentage}%</span>\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4\">\n                        <div className=\"text-sm\">\n                          {offer.minOrderAmount && (\n                            <div>Ø­Ø¯ Ø£Ø¯Ù†Ù‰: {offer.minOrderAmount} Ø´ÙŠÙƒÙ„</div>\n                          )}\n                          {offer.maxDiscountAmount && (\n                            <div>Ø­Ø¯ Ø£Ù‚ØµÙ‰: {offer.maxDiscountAmount} Ø´ÙŠÙƒÙ„</div>\n                          )}\n                          {offer.applicableRestaurants && (\n                            <div>{getRestaurantName(offer.applicableRestaurants)}</div>\n                          )}\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm\">\n                        <div>\n                          <div>Ù…Ù†: {new Date(offer.startDate).toLocaleDateString('ar')}</div>\n                          <div>Ø¥Ù„Ù‰: {new Date(offer.endDate).toLocaleDateString('ar')}</div>\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm\">\n                        <div>\n                          <div className=\"font-semibold\">{offer.usageCount}</div>\n                          {offer.maxUsage && (\n                            <div className=\"text-gray-500\">Ù…Ù† {offer.maxUsage}</div>\n                          )}\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <span className={`px-2 py-1 text-xs font-semibold rounded-full ${status.color}`}>\n                          {status.text}\n                        </span>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                        <div className=\"flex space-x-2\">\n                          <button\n                            onClick={() => handleUpdate(offer.id, { isActive: !offer.isActive })}\n                            className={`px-2 py-1 text-xs rounded ${\n                              offer.isActive ? 'bg-red-100 text-red-800' : 'bg-green-100 text-green-800'\n                            }`}\n                          >\n                            {offer.isActive ? 'Ø¥ÙŠÙ‚Ø§Ù' : 'ØªÙØ¹ÙŠÙ„'}\n                          </button>\n                          <button\n                            onClick={() => setEditingId(editingId === offer.id ? null : offer.id)}\n                            className=\"text-indigo-600 hover:text-indigo-900\"\n                          >\n                            <Edit2 size={16} />\n                          </button>\n                          <button\n                            onClick={() => handleDelete(offer.id)}\n                            className=\"text-red-600 hover:text-red-900\"\n                          >\n                            <Trash2 size={16} />\n                          </button>\n                        </div>\n                      </td>\n                    </tr>\n                  );\n                })\n              )}\n            </tbody>\n          </table>\n        </div>\n      </div>\n\n      {/* Statistics */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mt-6\">\n        <div className=\"bg-white p-6 rounded-lg shadow\">\n          <div className=\"flex items-center gap-3\">\n            <Tag className=\"text-blue-600\" size={24} />\n            <div>\n              <h3 className=\"text-lg font-semibold text-gray-800\">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¹Ø±ÙˆØ¶</h3>\n              <p className=\"text-2xl font-bold text-blue-600\">{offers.length}</p>\n            </div>\n          </div>\n        </div>\n        <div className=\"bg-white p-6 rounded-lg shadow\">\n          <div className=\"flex items-center gap-3\">\n            <Calendar className=\"text-green-600\" size={24} />\n            <div>\n              <h3 className=\"text-lg font-semibold text-gray-800\">Ø¹Ø±ÙˆØ¶ Ù†Ø´Ø·Ø©</h3>\n              <p className=\"text-2xl font-bold text-green-600\">\n                {offers.filter(o => getOfferStatus(o).text === 'Ù†Ø´Ø·').length}\n              </p>\n            </div>\n          </div>\n        </div>\n        <div className=\"bg-white p-6 rounded-lg shadow\">\n          <div className=\"flex items-center gap-3\">\n            <Percent className=\"text-orange-600\" size={24} />\n            <div>\n              <h3 className=\"text-lg font-semibold text-gray-800\">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…</h3>\n              <p className=\"text-2xl font-bold text-orange-600\">\n                {offers.reduce((sum, offer) => sum + offer.usageCount, 0)}\n              </p>\n            </div>\n          </div>\n        </div>\n        <div className=\"bg-white p-6 rounded-lg shadow\">\n          <div className=\"flex items-center gap-3\">\n            <X className=\"text-red-600\" size={24} />\n            <div>\n              <h3 className=\"text-lg font-semibold text-gray-800\">Ø¹Ø±ÙˆØ¶ Ù…Ù†ØªÙ‡ÙŠØ©</h3>\n              <p className=\"text-2xl font-bold text-red-600\">\n                {offers.filter(o => getOfferStatus(o).text === 'Ù…Ù†ØªÙ‡ÙŠ').length}\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}","size_bytes":18673},"client/src/pages/WalletManagement.tsx":{"content":"import React, { useState, useEffect } from 'react';\nimport { Wallet, Plus, Minus, CreditCard, History, Search, DollarSign } from 'lucide-react';\n\ninterface WalletInfo {\n  id: string;\n  customerPhone: string;\n  balance: string;\n  loyaltyPoints: number;\n  isActive: boolean;\n  createdAt: string;\n}\n\ninterface WalletTransaction {\n  id: string;\n  type: 'credit' | 'debit' | 'loyalty';\n  amount: string;\n  description: string;\n  orderId?: string;\n  createdAt: string;\n}\n\ninterface Customer {\n  phone: string;\n  name: string;\n  address: string;\n}\n\nexport default function WalletManagement() {\n  const [wallets, setWallets] = useState<WalletInfo[]>([]);\n  const [customers, setCustomers] = useState<Customer[]>([]);\n  const [selectedWallet, setSelectedWallet] = useState<string>('');\n  const [transactions, setTransactions] = useState<WalletTransaction[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [searchPhone, setSearchPhone] = useState('');\n  const [showAddForm, setShowAddForm] = useState(false);\n  const [transactionForm, setTransactionForm] = useState({\n    type: 'credit' as 'credit' | 'debit',\n    amount: '',\n    description: ''\n  });\n\n  useEffect(() => {\n    fetchCustomers();\n    fetchWallets();\n  }, []);\n\n  useEffect(() => {\n    if (selectedWallet) {\n      fetchTransactions(selectedWallet);\n    }\n  }, [selectedWallet]);\n\n  const fetchCustomers = async () => {\n    try {\n      const response = await fetch('/api/customers');\n      const data = await response.json();\n      setCustomers(data);\n    } catch (error) {\n      console.error('Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡:', error);\n    }\n  };\n\n  const fetchWallets = async () => {\n    setIsLoading(true);\n    try {\n      const response = await fetch('/api/wallets');\n      const data = await response.json();\n      setWallets(data);\n    } catch (error) {\n      console.error('Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ù…Ø­Ø§ÙØ¸:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const fetchTransactions = async (phone: string) => {\n    try {\n      const response = await fetch(`/api/wallets/${phone}/transactions`);\n      const data = await response.json();\n      setTransactions(data);\n    } catch (error) {\n      console.error('Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª:', error);\n    }\n  };\n\n  const createWallet = async (phone: string) => {\n    try {\n      const response = await fetch('/api/wallets', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ customerPhone: phone })\n      });\n      \n      if (response.ok) {\n        fetchWallets();\n      }\n    } catch (error) {\n      console.error('Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø­ÙØ¸Ø©:', error);\n    }\n  };\n\n  const addTransaction = async () => {\n    if (!selectedWallet || !transactionForm.amount || !transactionForm.description) {\n      alert('ÙŠØ±Ø¬Ù‰ ØªØ¹Ø¨Ø¦Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©');\n      return;\n    }\n\n    try {\n      const response = await fetch(`/api/wallets/${selectedWallet}/transactions`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          type: transactionForm.type,\n          amount: parseFloat(transactionForm.amount),\n          description: transactionForm.description\n        })\n      });\n      \n      if (response.ok) {\n        setTransactionForm({ type: 'credit', amount: '', description: '' });\n        setShowAddForm(false);\n        fetchTransactions(selectedWallet);\n        fetchWallets(); // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø£Ø±ØµØ¯Ø©\n      }\n    } catch (error) {\n      console.error('Ø®Ø·Ø£ ÙÙŠ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø©:', error);\n    }\n  };\n\n  const getCustomerName = (phone: string) => {\n    const customer = customers.find(c => c.phone === phone);\n    return customer ? customer.name : 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯';\n  };\n\n  const filteredWallets = wallets.filter(wallet => \n    wallet.customerPhone.includes(searchPhone) || \n    getCustomerName(wallet.customerPhone).toLowerCase().includes(searchPhone.toLowerCase())\n  );\n\n  const totalBalance = wallets.reduce((sum, wallet) => sum + parseFloat(wallet.balance), 0);\n  const totalPoints = wallets.reduce((sum, wallet) => sum + wallet.loyaltyPoints, 0);\n\n  return (\n    <div className=\"max-w-7xl mx-auto p-6\">\n      <div className=\"flex justify-between items-center mb-6\">\n        <h1 className=\"text-3xl font-bold text-gray-800\">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø­Ø§ÙØ¸ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©</h1>\n      </div>\n\n      {/* Statistics */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6\">\n        <div className=\"bg-white p-6 rounded-lg shadow\">\n          <div className=\"flex items-center gap-3\">\n            <Wallet className=\"text-blue-600\" size={24} />\n            <div>\n              <h3 className=\"text-lg font-semibold text-gray-800\">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø­Ø§ÙØ¸</h3>\n              <p className=\"text-2xl font-bold text-blue-600\">{wallets.length}</p>\n            </div>\n          </div>\n        </div>\n        <div className=\"bg-white p-6 rounded-lg shadow\">\n          <div className=\"flex items-center gap-3\">\n            <DollarSign className=\"text-green-600\" size={24} />\n            <div>\n              <h3 className=\"text-lg font-semibold text-gray-800\">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£Ø±ØµØ¯Ø©</h3>\n              <p className=\"text-2xl font-bold text-green-600\">{totalBalance.toFixed(2)} Ø´ÙŠÙƒÙ„</p>\n            </div>\n          </div>\n        </div>\n        <div className=\"bg-white p-6 rounded-lg shadow\">\n          <div className=\"flex items-center gap-3\">\n            <CreditCard className=\"text-orange-600\" size={24} />\n            <div>\n              <h3 className=\"text-lg font-semibold text-gray-800\">Ø§Ù„Ù…Ø­Ø§ÙØ¸ Ø§Ù„Ù†Ø´Ø·Ø©</h3>\n              <p className=\"text-2xl font-bold text-orange-600\">\n                {wallets.filter(w => w.isActive).length}\n              </p>\n            </div>\n          </div>\n        </div>\n        <div className=\"bg-white p-6 rounded-lg shadow\">\n          <div className=\"flex items-center gap-3\">\n            <Plus className=\"text-purple-600\" size={24} />\n            <div>\n              <h3 className=\"text-lg font-semibold text-gray-800\">Ù†Ù‚Ø§Ø· Ø§Ù„ÙˆÙ„Ø§Ø¡</h3>\n              <p className=\"text-2xl font-bold text-purple-600\">{totalPoints}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        {/* Wallets List */}\n        <div className=\"bg-white rounded-lg shadow\">\n          <div className=\"p-6 border-b\">\n            <div className=\"flex justify-between items-center mb-4\">\n              <h2 className=\"text-xl font-semibold text-gray-800\">Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø­Ø§ÙØ¸</h2>\n            </div>\n            \n            {/* Search */}\n            <div className=\"relative\">\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" size={20} />\n              <input\n                type=\"text\"\n                placeholder=\"Ø§Ø¨Ø­Ø« Ø¨Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ Ø£Ùˆ Ø§Ù„Ø§Ø³Ù…...\"\n                value={searchPhone}\n                onChange={(e) => setSearchPhone(e.target.value)}\n                className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n          </div>\n          \n          <div className=\"max-h-96 overflow-y-auto\">\n            {isLoading ? (\n              <div className=\"p-6 text-center\">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</div>\n            ) : filteredWallets.length === 0 ? (\n              <div className=\"p-6 text-center text-gray-500\">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø­Ø§ÙØ¸</div>\n            ) : (\n              <div className=\"space-y-2 p-4\">\n                {filteredWallets.map((wallet) => (\n                  <div\n                    key={wallet.id}\n                    onClick={() => setSelectedWallet(wallet.customerPhone)}\n                    className={`p-4 border rounded-lg cursor-pointer transition-colors ${\n                      selectedWallet === wallet.customerPhone\n                        ? 'bg-blue-50 border-blue-500'\n                        : 'hover:bg-gray-50'\n                    }`}\n                  >\n                    <div className=\"flex justify-between items-center\">\n                      <div>\n                        <h4 className=\"font-medium text-gray-900\">\n                          {getCustomerName(wallet.customerPhone)}\n                        </h4>\n                        <p className=\"text-sm text-gray-600\">{wallet.customerPhone}</p>\n                        <p className=\"text-xs text-gray-500\">\n                          Ù†Ù‚Ø§Ø· Ø§Ù„ÙˆÙ„Ø§Ø¡: {wallet.loyaltyPoints}\n                        </p>\n                      </div>\n                      <div className=\"text-right\">\n                        <p className=\"text-lg font-bold text-green-600\">\n                          {parseFloat(wallet.balance).toFixed(2)} Ø´ÙŠÙƒÙ„\n                        </p>\n                        <span className={`px-2 py-1 text-xs font-semibold rounded-full ${\n                          wallet.isActive ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'\n                        }`}>\n                          {wallet.isActive ? 'Ù†Ø´Ø·' : 'ØºÙŠØ± Ù†Ø´Ø·'}\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Transactions */}\n        <div className=\"bg-white rounded-lg shadow\">\n          <div className=\"p-6 border-b\">\n            <div className=\"flex justify-between items-center\">\n              <h2 className=\"text-xl font-semibold text-gray-800\">\n                {selectedWallet ? `Ù…Ø¹Ø§Ù…Ù„Ø§Øª ${getCustomerName(selectedWallet)}` : 'Ø§Ø®ØªØ± Ù…Ø­ÙØ¸Ø©'}\n              </h2>\n              {selectedWallet && (\n                <button\n                  onClick={() => setShowAddForm(true)}\n                  className=\"bg-blue-600 text-white px-3 py-1 rounded-lg text-sm flex items-center gap-1 hover:bg-blue-700\"\n                >\n                  <Plus size={16} />\n                  Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ø§Ù…Ù„Ø©\n                </button>\n              )}\n            </div>\n          </div>\n\n          {/* Add Transaction Form */}\n          {showAddForm && selectedWallet && (\n            <div className=\"p-6 border-b bg-gray-50\">\n              <h3 className=\"text-lg font-semibold mb-4\">Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ø§Ù…Ù„Ø© Ø¬Ø¯ÙŠØ¯Ø©</h3>\n              <div className=\"space-y-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Ù†ÙˆØ¹ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø©</label>\n                  <select\n                    value={transactionForm.type}\n                    onChange={(e) => setTransactionForm({ ...transactionForm, type: e.target.value as 'credit' | 'debit' })}\n                    className=\"w-full p-2 border border-gray-300 rounded-lg\"\n                  >\n                    <option value=\"credit\">Ø¥ÙŠØ¯Ø§Ø¹</option>\n                    <option value=\"debit\">Ø³Ø­Ø¨</option>\n                  </select>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Ø§Ù„Ù…Ø¨Ù„Øº (Ø´ÙŠÙƒÙ„)</label>\n                  <input\n                    type=\"number\"\n                    min=\"0\"\n                    step=\"0.01\"\n                    value={transactionForm.amount}\n                    onChange={(e) => setTransactionForm({ ...transactionForm, amount: e.target.value })}\n                    className=\"w-full p-2 border border-gray-300 rounded-lg\"\n                    placeholder=\"0.00\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Ø§Ù„ÙˆØµÙ</label>\n                  <input\n                    type=\"text\"\n                    value={transactionForm.description}\n                    onChange={(e) => setTransactionForm({ ...transactionForm, description: e.target.value })}\n                    className=\"w-full p-2 border border-gray-300 rounded-lg\"\n                    placeholder=\"ÙˆØµÙ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø©\"\n                  />\n                </div>\n                <div className=\"flex gap-2\">\n                  <button\n                    onClick={addTransaction}\n                    className=\"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700\"\n                  >\n                    Ø¥Ø¶Ø§ÙØ©\n                  </button>\n                  <button\n                    onClick={() => setShowAddForm(false)}\n                    className=\"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700\"\n                  >\n                    Ø¥Ù„ØºØ§Ø¡\n                  </button>\n                </div>\n              </div>\n            </div>\n          )}\n\n          <div className=\"max-h-96 overflow-y-auto\">\n            {!selectedWallet ? (\n              <div className=\"p-6 text-center text-gray-500\">\n                Ø§Ø®ØªØ± Ù…Ø­ÙØ¸Ø© Ù„Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª\n              </div>\n            ) : transactions.length === 0 ? (\n              <div className=\"p-6 text-center text-gray-500\">\n                Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ù„Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø­ÙØ¸Ø©\n              </div>\n            ) : (\n              <div className=\"space-y-2 p-4\">\n                {transactions.map((transaction) => (\n                  <div key={transaction.id} className=\"p-4 border rounded-lg\">\n                    <div className=\"flex justify-between items-center\">\n                      <div>\n                        <div className=\"flex items-center gap-2\">\n                          {transaction.type === 'credit' ? (\n                            <Plus className=\"text-green-600\" size={16} />\n                          ) : (\n                            <Minus className=\"text-red-600\" size={16} />\n                          )}\n                          <span className=\"font-medium\">\n                            {transaction.type === 'credit' ? 'Ø¥ÙŠØ¯Ø§Ø¹' : 'Ø³Ø­Ø¨'}\n                          </span>\n                        </div>\n                        <p className=\"text-sm text-gray-600\">{transaction.description}</p>\n                        <p className=\"text-xs text-gray-500\">\n                          {new Date(transaction.createdAt).toLocaleString('ar')}\n                        </p>\n                      </div>\n                      <div className=\"text-right\">\n                        <p className={`text-lg font-bold ${\n                          transaction.type === 'credit' ? 'text-green-600' : 'text-red-600'\n                        }`}>\n                          {transaction.type === 'credit' ? '+' : '-'}\n                          {parseFloat(transaction.amount).toFixed(2)} Ø´ÙŠÙƒÙ„\n                        </p>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}","size_bytes":14958},"client/src/pages/not-found.tsx":{"content":"import { Card, CardContent } from \"@/components/ui/card\";\nimport { AlertCircle } from \"lucide-react\";\n\nexport default function NotFound() {\n  return (\n    <div className=\"min-h-screen w-full flex items-center justify-center bg-gray-50\">\n      <Card className=\"w-full max-w-md mx-4\">\n        <CardContent className=\"pt-6\">\n          <div className=\"flex mb-4 gap-2\">\n            <AlertCircle className=\"h-8 w-8 text-red-500\" />\n            <h1 className=\"text-2xl font-bold text-gray-900\">404 Page Not Found</h1>\n          </div>\n\n          <p className=\"mt-4 text-sm text-gray-600\">\n            Did you forget to add the page to the router?\n          </p>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","size_bytes":711},"client/src/utils/restaurantHours.ts":{"content":"export interface RestaurantStatus {\n  isOpen: boolean;\n  nextOpenTime?: string;\n  closeTime?: string;\n  message: string;\n  statusColor: 'green' | 'red' | 'yellow';\n}\n\nexport function getRestaurantStatus(restaurant: any): RestaurantStatus {\n  const now = new Date();\n  const currentDay = now.getDay(); // 0 = Sunday, 6 = Saturday\n  const currentTime = now.toTimeString().slice(0, 5); // HH:MM format\n\n  // Check if temporarily closed\n  if (restaurant.isTemporarilyClosed) {\n    return {\n      isOpen: false,\n      message: restaurant.temporaryCloseReason || 'Ù…ØºÙ„Ù‚ Ù…Ø¤Ù‚ØªØ§Ù‹',\n      statusColor: 'red'\n    };\n  }\n\n  // Check if restaurant is manually set to closed\n  if (!restaurant.isOpen) {\n    return {\n      isOpen: false,\n      message: 'Ù…ØºÙ„Ù‚',\n      statusColor: 'red'\n    };\n  }\n\n  // Parse working days\n  const workingDays = restaurant.workingDays \n    ? restaurant.workingDays.split(',').map(Number)\n    : [0, 1, 2, 3, 4, 5, 6];\n\n  // Check if today is a working day\n  if (!workingDays.includes(currentDay)) {\n    const nextWorkingDay = getNextWorkingDay(currentDay, workingDays);\n    return {\n      isOpen: false,\n      nextOpenTime: `${getDayName(nextWorkingDay)} ${restaurant.openingTime || '08:00'}`,\n      message: `Ù…ØºÙ„Ù‚ Ø§Ù„ÙŠÙˆÙ… - ÙŠÙØªØ­ ${getDayName(nextWorkingDay)} ${restaurant.openingTime || '08:00'}`,\n      statusColor: 'red'\n    };\n  }\n\n  const openingTime = restaurant.openingTime || '08:00';\n  const closingTime = restaurant.closingTime || '23:00';\n\n  // Check if currently within working hours\n  if (isTimeInRange(currentTime, openingTime, closingTime)) {\n    const minutesUntilClose = getMinutesUntilTime(currentTime, closingTime);\n    \n    if (minutesUntilClose <= 30) {\n      return {\n        isOpen: true,\n        closeTime: closingTime,\n        message: `Ù…ÙØªÙˆØ­ - ÙŠØºÙ„Ù‚ Ø§Ù„Ø³Ø§Ø¹Ø© ${closingTime}`,\n        statusColor: 'yellow'\n      };\n    }\n    \n    return {\n      isOpen: true,\n      closeTime: closingTime,\n      message: `Ù…ÙØªÙˆØ­ Ø­ØªÙ‰ ${closingTime}`,\n      statusColor: 'green'\n    };\n  }\n\n  // Restaurant is closed - calculate next opening time\n  if (currentTime < openingTime) {\n    // Will open today\n    return {\n      isOpen: false,\n      nextOpenTime: `Ø§Ù„ÙŠÙˆÙ… ${openingTime}`,\n      message: `Ù…ØºÙ„Ù‚ - ÙŠÙØªØ­ Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ø³Ø§Ø¹Ø© ${openingTime}`,\n      statusColor: 'red'\n    };\n  } else {\n    // Will open tomorrow or next working day\n    const nextWorkingDay = getNextWorkingDay(currentDay, workingDays);\n    const dayText = nextWorkingDay === (currentDay + 1) % 7 ? 'ØºØ¯Ø§Ù‹' : getDayName(nextWorkingDay);\n    \n    return {\n      isOpen: false,\n      nextOpenTime: `${dayText} ${openingTime}`,\n      message: `Ù…ØºÙ„Ù‚ - ÙŠÙØªØ­ ${dayText} Ø§Ù„Ø³Ø§Ø¹Ø© ${openingTime}`,\n      statusColor: 'red'\n    };\n  }\n}\n\nfunction isTimeInRange(current: string, start: string, end: string): boolean {\n  const currentMinutes = timeToMinutes(current);\n  const startMinutes = timeToMinutes(start);\n  const endMinutes = timeToMinutes(end);\n\n  // Handle overnight hours (e.g., 22:00 to 02:00)\n  if (endMinutes < startMinutes) {\n    return currentMinutes >= startMinutes || currentMinutes <= endMinutes;\n  }\n  \n  return currentMinutes >= startMinutes && currentMinutes <= endMinutes;\n}\n\nfunction timeToMinutes(time: string): number {\n  const [hours, minutes] = time.split(':').map(Number);\n  return hours * 60 + minutes;\n}\n\nfunction getMinutesUntilTime(currentTime: string, targetTime: string): number {\n  const currentMinutes = timeToMinutes(currentTime);\n  const targetMinutes = timeToMinutes(targetTime);\n  \n  if (targetMinutes < currentMinutes) {\n    // Next day\n    return (24 * 60) - currentMinutes + targetMinutes;\n  }\n  \n  return targetMinutes - currentMinutes;\n}\n\nfunction getNextWorkingDay(currentDay: number, workingDays: number[]): number {\n  for (let i = 1; i <= 7; i++) {\n    const nextDay = (currentDay + i) % 7;\n    if (workingDays.includes(nextDay)) {\n      return nextDay;\n    }\n  }\n  return workingDays[0] || 0;\n}\n\nfunction getDayName(day: number): string {\n  const days = ['Ø§Ù„Ø£Ø­Ø¯', 'Ø§Ù„Ø¥Ø«Ù†ÙŠÙ†', 'Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡', 'Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡', 'Ø§Ù„Ø®Ù…ÙŠØ³', 'Ø§Ù„Ø¬Ù…Ø¹Ø©', 'Ø§Ù„Ø³Ø¨Øª'];\n  return days[day] || '';\n}\n\nexport function canOrderFromRestaurant(restaurant: any): { canOrder: boolean; message?: string } {\n  const status = getRestaurantStatus(restaurant);\n  \n  if (!status.isOpen) {\n    return {\n      canOrder: false,\n      message: `Ø¹Ø°Ø±Ø§Ù‹ØŒ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù†. ${status.message}`\n    };\n  }\n  \n  return { canOrder: true };\n}","size_bytes":4550},"client/src/components/admin/AdminLayout.tsx":{"content":"import React, { useState } from 'react';\nimport { useLocation } from 'wouter';\nimport { useAuth } from '@/context/AuthContext';\nimport { Button } from '@/components/ui/button';\nimport { Sheet, SheetContent, SheetTrigger } from '@/components/ui/sheet';\nimport { \n  BarChart3, \n  Store, \n  ShoppingBag, \n  Truck, \n  Percent, \n  Settings, \n  Menu,\n  LogOut,\n  Package,\n  Users,\n  Bell\n} from 'lucide-react';\n\ninterface AdminLayoutProps {\n  children: React.ReactNode;\n}\n\nexport const AdminLayout: React.FC<AdminLayoutProps> = ({ children }) => {\n  const [, setLocation] = useLocation();\n  const { user, logout } = useAuth();\n  const [isSidebarOpen, setIsSidebarOpen] = useState(false);\n\n  const menuItems = [\n    { \n      icon: BarChart3, \n      label: 'Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…', \n      path: '/admin',\n      description: 'Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù†Ø¸Ø§Ù…'\n    },\n    { \n      icon: ShoppingBag, \n      label: 'Ø§Ù„Ø·Ù„Ø¨Ø§Øª', \n      path: '/admin/orders',\n      description: 'Ø¥Ø¯Ø§Ø±Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª'\n    },\n    { \n      icon: Store, \n      label: 'Ø§Ù„Ù…Ø·Ø§Ø¹Ù…', \n      path: '/admin/restaurants',\n      description: 'Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø·Ø§Ø¹Ù… ÙˆØ§Ù„Ù…ØªØ§Ø¬Ø±'\n    },\n    { \n      icon: Package, \n      label: 'Ù‚ÙˆØ§Ø¦Ù… Ø§Ù„Ø·Ø¹Ø§Ù…', \n      path: '/admin/menu-items',\n      description: 'Ø¥Ø¯Ø§Ø±Ø© Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù‚ÙˆØ§Ø¦Ù…'\n    },\n    { \n      icon: Truck, \n      label: 'Ø§Ù„Ø³Ø§Ø¦Ù‚ÙŠÙ†', \n      path: '/admin/drivers',\n      description: 'Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø³Ø§Ø¦Ù‚ÙŠÙ†'\n    },\n    { \n      icon: Percent, \n      label: 'Ø§Ù„Ø¹Ø±ÙˆØ¶', \n      path: '/admin/offers',\n      description: 'Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø®Ø§ØµØ©'\n    },\n    { \n      icon: Users, \n      label: 'Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡', \n      path: '/admin/customers',\n      description: 'Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡'\n    },\n    { \n      icon: Settings, \n      label: 'Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª', \n      path: '/admin/settings',\n      description: 'Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…'\n    },\n  ];\n\n  const handleNavigation = (path: string) => {\n    setLocation(path);\n    setIsSidebarOpen(false);\n  };\n\n  const handleLogout = () => {\n    logout();\n    setLocation('/admin-login');\n  };\n\n  const currentPath = window.location.pathname;\n\n  const SidebarContent = () => (\n    <div className=\"flex flex-col h-full bg-white\">\n      {/* Header */}\n      <div className=\"p-6 border-b bg-gradient-to-r from-blue-50 to-blue-100\">\n        <div className=\"flex items-center gap-3\">\n          <div className=\"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center\">\n            <BarChart3 className=\"h-6 w-6 text-white\" />\n          </div>\n          <div>\n            <h2 className=\"text-lg font-bold text-gray-900\">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</h2>\n            <p className=\"text-sm text-gray-600\">Ø§Ù„Ø³Ø±ÙŠØ¹ ÙˆÙ†</p>\n          </div>\n        </div>\n      </div>\n\n      {/* User Info */}\n      <div className=\"p-4 border-b bg-gray-50\">\n        <div className=\"flex items-center gap-3\">\n          <div className=\"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center\">\n            <span className=\"text-white text-sm font-medium\">\n              {user?.name?.charAt(0) || 'A'}\n            </span>\n          </div>\n          <div>\n            <p className=\"font-medium text-gray-900\">{user?.name}</p>\n            <p className=\"text-xs text-gray-500\">Ù…Ø¯ÙŠØ± Ø§Ù„Ù†Ø¸Ø§Ù…</p>\n          </div>\n        </div>\n      </div>\n\n      {/* Navigation */}\n      <nav className=\"flex-1 p-4 space-y-2\">\n        {menuItems.map((item) => {\n          const Icon = item.icon;\n          const isActive = currentPath === item.path;\n          \n          return (\n            <button\n              key={item.path}\n              onClick={() => handleNavigation(item.path)}\n              className={`w-full flex items-center gap-3 px-4 py-3 rounded-lg text-right transition-all duration-200 group ${\n                isActive\n                  ? 'bg-blue-500 text-white shadow-lg'\n                  : 'text-gray-700 hover:bg-blue-50 hover:text-blue-600'\n              }`}\n            >\n              <Icon className={`h-5 w-5 ${isActive ? 'text-white' : 'text-gray-500 group-hover:text-blue-600'}`} />\n              <div className=\"flex-1\">\n                <p className={`font-medium ${isActive ? 'text-white' : 'text-gray-900'}`}>\n                  {item.label}\n                </p>\n                <p className={`text-xs ${isActive ? 'text-blue-100' : 'text-gray-500'}`}>\n                  {item.description}\n                </p>\n              </div>\n            </button>\n          );\n        })}\n      </nav>\n\n      {/* Footer */}\n      <div className=\"p-4 border-t\">\n        <Button\n          variant=\"outline\"\n          onClick={handleLogout}\n          className=\"w-full flex items-center gap-2 text-red-600 border-red-200 hover:bg-red-50 hover:border-red-300\"\n        >\n          <LogOut className=\"h-4 w-4\" />\n          ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬\n        </Button>\n      </div>\n    </div>\n  );\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 flex\" dir=\"rtl\">\n      {/* Desktop Sidebar */}\n      <div className=\"hidden lg:block w-80 bg-white shadow-lg\">\n        <SidebarContent />\n      </div>\n\n      {/* Mobile Sidebar */}\n      <Sheet open={isSidebarOpen} onOpenChange={setIsSidebarOpen}>\n        <SheetContent side=\"right\" className=\"w-80 p-0\">\n          <SidebarContent />\n        </SheetContent>\n      </Sheet>\n\n      {/* Main Content */}\n      <div className=\"flex-1 flex flex-col\">\n        {/* Mobile Header */}\n        <div className=\"lg:hidden bg-white border-b p-4 flex items-center justify-between\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-8 h-8 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center\">\n              <BarChart3 className=\"h-5 w-5 text-white\" />\n            </div>\n            <div>\n              <h1 className=\"font-bold text-gray-900\">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</h1>\n              <p className=\"text-xs text-gray-500\">Ø§Ù„Ø³Ø±ÙŠØ¹ ÙˆÙ†</p>\n            </div>\n          </div>\n          \n          <div className=\"flex items-center gap-2\">\n            <Button variant=\"ghost\" size=\"sm\">\n              <Bell className=\"h-5 w-5\" />\n            </Button>\n            <Sheet open={isSidebarOpen} onOpenChange={setIsSidebarOpen}>\n              <SheetTrigger asChild>\n                <Button variant=\"ghost\" size=\"sm\">\n                  <Menu className=\"h-5 w-5\" />\n                </Button>\n              </SheetTrigger>\n            </Sheet>\n          </div>\n        </div>\n\n        {/* Page Content */}\n        <div className=\"flex-1\">\n          {children}\n        </div>\n      </div>\n    </div>\n  );\n};","size_bytes":6681},"client/src/components/ui/accordion.tsx":{"content":"import * as React from \"react\"\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Accordion = AccordionPrimitive.Root\n\nconst AccordionItem = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item\n    ref={ref}\n    className={cn(\"border-b\", className)}\n    {...props}\n  />\n))\nAccordionItem.displayName = \"AccordionItem\"\n\nconst AccordionTrigger = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className=\"flex\">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        \"flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronDown className=\"h-4 w-4 shrink-0 transition-transform duration-200\" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n))\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName\n\nconst AccordionContent = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className=\"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n    {...props}\n  >\n    <div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n))\n\nAccordionContent.displayName = AccordionPrimitive.Content.displayName\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n","size_bytes":1977},"client/src/components/ui/alert-dialog.tsx":{"content":"import * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n","size_bytes":4420},"client/src/components/ui/alert.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n","size_bytes":1584},"client/src/components/ui/aspect-ratio.tsx":{"content":"import * as AspectRatioPrimitive from \"@radix-ui/react-aspect-ratio\"\n\nconst AspectRatio = AspectRatioPrimitive.Root\n\nexport { AspectRatio }\n","size_bytes":140},"client/src/components/ui/avatar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n","size_bytes":1419},"client/src/components/ui/badge.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }\n","size_bytes":1128},"client/src/components/ui/breadcrumb.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Breadcrumb = React.forwardRef<\n  HTMLElement,\n  React.ComponentPropsWithoutRef<\"nav\"> & {\n    separator?: React.ReactNode\n  }\n>(({ ...props }, ref) => <nav ref={ref} aria-label=\"breadcrumb\" {...props} />)\nBreadcrumb.displayName = \"Breadcrumb\"\n\nconst BreadcrumbList = React.forwardRef<\n  HTMLOListElement,\n  React.ComponentPropsWithoutRef<\"ol\">\n>(({ className, ...props }, ref) => (\n  <ol\n    ref={ref}\n    className={cn(\n      \"flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5\",\n      className\n    )}\n    {...props}\n  />\n))\nBreadcrumbList.displayName = \"BreadcrumbList\"\n\nconst BreadcrumbItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentPropsWithoutRef<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    className={cn(\"inline-flex items-center gap-1.5\", className)}\n    {...props}\n  />\n))\nBreadcrumbItem.displayName = \"BreadcrumbItem\"\n\nconst BreadcrumbLink = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentPropsWithoutRef<\"a\"> & {\n    asChild?: boolean\n  }\n>(({ asChild, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      className={cn(\"transition-colors hover:text-foreground\", className)}\n      {...props}\n    />\n  )\n})\nBreadcrumbLink.displayName = \"BreadcrumbLink\"\n\nconst BreadcrumbPage = React.forwardRef<\n  HTMLSpanElement,\n  React.ComponentPropsWithoutRef<\"span\">\n>(({ className, ...props }, ref) => (\n  <span\n    ref={ref}\n    role=\"link\"\n    aria-disabled=\"true\"\n    aria-current=\"page\"\n    className={cn(\"font-normal text-foreground\", className)}\n    {...props}\n  />\n))\nBreadcrumbPage.displayName = \"BreadcrumbPage\"\n\nconst BreadcrumbSeparator = ({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) => (\n  <li\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"[&>svg]:w-3.5 [&>svg]:h-3.5\", className)}\n    {...props}\n  >\n    {children ?? <ChevronRight />}\n  </li>\n)\nBreadcrumbSeparator.displayName = \"BreadcrumbSeparator\"\n\nconst BreadcrumbEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More</span>\n  </span>\n)\nBreadcrumbEllipsis.displayName = \"BreadcrumbElipssis\"\n\nexport {\n  Breadcrumb,\n  BreadcrumbList,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n  BreadcrumbEllipsis,\n}\n","size_bytes":2712},"client/src/components/ui/button.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n","size_bytes":1901},"client/src/components/ui/calendar.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight } from \"lucide-react\"\nimport { DayPicker } from \"react-day-picker\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  ...props\n}: CalendarProps) {\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\"p-3\", className)}\n      classNames={{\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n        month: \"space-y-4\",\n        caption: \"flex justify-center pt-1 relative items-center\",\n        caption_label: \"text-sm font-medium\",\n        nav: \"space-x-1 flex items-center\",\n        nav_button: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\n        ),\n        nav_button_previous: \"absolute left-1\",\n        nav_button_next: \"absolute right-1\",\n        table: \"w-full border-collapse space-y-1\",\n        head_row: \"flex\",\n        head_cell:\n          \"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]\",\n        row: \"flex w-full mt-2\",\n        cell: \"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20\",\n        day: cn(\n          buttonVariants({ variant: \"ghost\" }),\n          \"h-9 w-9 p-0 font-normal aria-selected:opacity-100\"\n        ),\n        day_range_end: \"day-range-end\",\n        day_selected:\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\n        day_today: \"bg-accent text-accent-foreground\",\n        day_outside:\n          \"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground\",\n        day_disabled: \"text-muted-foreground opacity-50\",\n        day_range_middle:\n          \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n        day_hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        IconLeft: ({ className, ...props }) => (\n          <ChevronLeft className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n        IconRight: ({ className, ...props }) => (\n          <ChevronRight className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n      }}\n      {...props}\n    />\n  )\n}\nCalendar.displayName = \"Calendar\"\n\nexport { Calendar }\n","size_bytes":2695},"client/src/components/ui/card.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n","size_bytes":1858},"client/src/components/ui/carousel.tsx":{"content":"import * as React from \"react\"\nimport useEmblaCarousel, {\n  type UseEmblaCarouselType,\n} from \"embla-carousel-react\"\nimport { ArrowLeft, ArrowRight } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\n\ntype CarouselApi = UseEmblaCarouselType[1]\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>\ntype CarouselOptions = UseCarouselParameters[0]\ntype CarouselPlugin = UseCarouselParameters[1]\n\ntype CarouselProps = {\n  opts?: CarouselOptions\n  plugins?: CarouselPlugin\n  orientation?: \"horizontal\" | \"vertical\"\n  setApi?: (api: CarouselApi) => void\n}\n\ntype CarouselContextProps = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0]\n  api: ReturnType<typeof useEmblaCarousel>[1]\n  scrollPrev: () => void\n  scrollNext: () => void\n  canScrollPrev: boolean\n  canScrollNext: boolean\n} & CarouselProps\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null)\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext)\n\n  if (!context) {\n    throw new Error(\"useCarousel must be used within a <Carousel />\")\n  }\n\n  return context\n}\n\nconst Carousel = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & CarouselProps\n>(\n  (\n    {\n      orientation = \"horizontal\",\n      opts,\n      setApi,\n      plugins,\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const [carouselRef, api] = useEmblaCarousel(\n      {\n        ...opts,\n        axis: orientation === \"horizontal\" ? \"x\" : \"y\",\n      },\n      plugins\n    )\n    const [canScrollPrev, setCanScrollPrev] = React.useState(false)\n    const [canScrollNext, setCanScrollNext] = React.useState(false)\n\n    const onSelect = React.useCallback((api: CarouselApi) => {\n      if (!api) {\n        return\n      }\n\n      setCanScrollPrev(api.canScrollPrev())\n      setCanScrollNext(api.canScrollNext())\n    }, [])\n\n    const scrollPrev = React.useCallback(() => {\n      api?.scrollPrev()\n    }, [api])\n\n    const scrollNext = React.useCallback(() => {\n      api?.scrollNext()\n    }, [api])\n\n    const handleKeyDown = React.useCallback(\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if (event.key === \"ArrowLeft\") {\n          event.preventDefault()\n          scrollPrev()\n        } else if (event.key === \"ArrowRight\") {\n          event.preventDefault()\n          scrollNext()\n        }\n      },\n      [scrollPrev, scrollNext]\n    )\n\n    React.useEffect(() => {\n      if (!api || !setApi) {\n        return\n      }\n\n      setApi(api)\n    }, [api, setApi])\n\n    React.useEffect(() => {\n      if (!api) {\n        return\n      }\n\n      onSelect(api)\n      api.on(\"reInit\", onSelect)\n      api.on(\"select\", onSelect)\n\n      return () => {\n        api?.off(\"select\", onSelect)\n      }\n    }, [api, onSelect])\n\n    return (\n      <CarouselContext.Provider\n        value={{\n          carouselRef,\n          api: api,\n          opts,\n          orientation:\n            orientation || (opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\n          scrollPrev,\n          scrollNext,\n          canScrollPrev,\n          canScrollNext,\n        }}\n      >\n        <div\n          ref={ref}\n          onKeyDownCapture={handleKeyDown}\n          className={cn(\"relative\", className)}\n          role=\"region\"\n          aria-roledescription=\"carousel\"\n          {...props}\n        >\n          {children}\n        </div>\n      </CarouselContext.Provider>\n    )\n  }\n)\nCarousel.displayName = \"Carousel\"\n\nconst CarouselContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { carouselRef, orientation } = useCarousel()\n\n  return (\n    <div ref={carouselRef} className=\"overflow-hidden\">\n      <div\n        ref={ref}\n        className={cn(\n          \"flex\",\n          orientation === \"horizontal\" ? \"-ml-4\" : \"-mt-4 flex-col\",\n          className\n        )}\n        {...props}\n      />\n    </div>\n  )\n})\nCarouselContent.displayName = \"CarouselContent\"\n\nconst CarouselItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { orientation } = useCarousel()\n\n  return (\n    <div\n      ref={ref}\n      role=\"group\"\n      aria-roledescription=\"slide\"\n      className={cn(\n        \"min-w-0 shrink-0 grow-0 basis-full\",\n        orientation === \"horizontal\" ? \"pl-4\" : \"pt-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nCarouselItem.displayName = \"CarouselItem\"\n\nconst CarouselPrevious = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollPrev, canScrollPrev } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute  h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-left-12 top-1/2 -translate-y-1/2\"\n          : \"-top-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollPrev}\n      onClick={scrollPrev}\n      {...props}\n    >\n      <ArrowLeft className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Previous slide</span>\n    </Button>\n  )\n})\nCarouselPrevious.displayName = \"CarouselPrevious\"\n\nconst CarouselNext = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollNext, canScrollNext } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-right-12 top-1/2 -translate-y-1/2\"\n          : \"-bottom-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollNext}\n      onClick={scrollNext}\n      {...props}\n    >\n      <ArrowRight className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Next slide</span>\n    </Button>\n  )\n})\nCarouselNext.displayName = \"CarouselNext\"\n\nexport {\n  type CarouselApi,\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselPrevious,\n  CarouselNext,\n}\n","size_bytes":6210},"client/src/components/ui/chart.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as RechartsPrimitive from \"recharts\"\n\nimport { cn } from \"@/lib/utils\"\n\n// Format: { THEME_NAME: CSS_SELECTOR }\nconst THEMES = { light: \"\", dark: \".dark\" } as const\n\nexport type ChartConfig = {\n  [k in string]: {\n    label?: React.ReactNode\n    icon?: React.ComponentType\n  } & (\n    | { color?: string; theme?: never }\n    | { color?: never; theme: Record<keyof typeof THEMES, string> }\n  )\n}\n\ntype ChartContextProps = {\n  config: ChartConfig\n}\n\nconst ChartContext = React.createContext<ChartContextProps | null>(null)\n\nfunction useChart() {\n  const context = React.useContext(ChartContext)\n\n  if (!context) {\n    throw new Error(\"useChart must be used within a <ChartContainer />\")\n  }\n\n  return context\n}\n\nconst ChartContainer = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    config: ChartConfig\n    children: React.ComponentProps<\n      typeof RechartsPrimitive.ResponsiveContainer\n    >[\"children\"]\n  }\n>(({ id, className, children, config, ...props }, ref) => {\n  const uniqueId = React.useId()\n  const chartId = `chart-${id || uniqueId.replace(/:/g, \"\")}`\n\n  return (\n    <ChartContext.Provider value={{ config }}>\n      <div\n        data-chart={chartId}\n        ref={ref}\n        className={cn(\n          \"flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none\",\n          className\n        )}\n        {...props}\n      >\n        <ChartStyle id={chartId} config={config} />\n        <RechartsPrimitive.ResponsiveContainer>\n          {children}\n        </RechartsPrimitive.ResponsiveContainer>\n      </div>\n    </ChartContext.Provider>\n  )\n})\nChartContainer.displayName = \"Chart\"\n\nconst ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {\n  const colorConfig = Object.entries(config).filter(\n    ([, config]) => config.theme || config.color\n  )\n\n  if (!colorConfig.length) {\n    return null\n  }\n\n  return (\n    <style\n      dangerouslySetInnerHTML={{\n        __html: Object.entries(THEMES)\n          .map(\n            ([theme, prefix]) => `\n${prefix} [data-chart=${id}] {\n${colorConfig\n  .map(([key, itemConfig]) => {\n    const color =\n      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||\n      itemConfig.color\n    return color ? `  --color-${key}: ${color};` : null\n  })\n  .join(\"\\n\")}\n}\n`\n          )\n          .join(\"\\n\"),\n      }}\n    />\n  )\n}\n\nconst ChartTooltip = RechartsPrimitive.Tooltip\n\nconst ChartTooltipContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<typeof RechartsPrimitive.Tooltip> &\n    React.ComponentProps<\"div\"> & {\n      hideLabel?: boolean\n      hideIndicator?: boolean\n      indicator?: \"line\" | \"dot\" | \"dashed\"\n      nameKey?: string\n      labelKey?: string\n    }\n>(\n  (\n    {\n      active,\n      payload,\n      className,\n      indicator = \"dot\",\n      hideLabel = false,\n      hideIndicator = false,\n      label,\n      labelFormatter,\n      labelClassName,\n      formatter,\n      color,\n      nameKey,\n      labelKey,\n    },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    const tooltipLabel = React.useMemo(() => {\n      if (hideLabel || !payload?.length) {\n        return null\n      }\n\n      const [item] = payload\n      const key = `${labelKey || item?.dataKey || item?.name || \"value\"}`\n      const itemConfig = getPayloadConfigFromPayload(config, item, key)\n      const value =\n        !labelKey && typeof label === \"string\"\n          ? config[label as keyof typeof config]?.label || label\n          : itemConfig?.label\n\n      if (labelFormatter) {\n        return (\n          <div className={cn(\"font-medium\", labelClassName)}>\n            {labelFormatter(value, payload)}\n          </div>\n        )\n      }\n\n      if (!value) {\n        return null\n      }\n\n      return <div className={cn(\"font-medium\", labelClassName)}>{value}</div>\n    }, [\n      label,\n      labelFormatter,\n      payload,\n      hideLabel,\n      labelClassName,\n      config,\n      labelKey,\n    ])\n\n    if (!active || !payload?.length) {\n      return null\n    }\n\n    const nestLabel = payload.length === 1 && indicator !== \"dot\"\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl\",\n          className\n        )}\n      >\n        {!nestLabel ? tooltipLabel : null}\n        <div className=\"grid gap-1.5\">\n          {payload.map((item, index) => {\n            const key = `${nameKey || item.name || item.dataKey || \"value\"}`\n            const itemConfig = getPayloadConfigFromPayload(config, item, key)\n            const indicatorColor = color || item.payload.fill || item.color\n\n            return (\n              <div\n                key={item.dataKey}\n                className={cn(\n                  \"flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground\",\n                  indicator === \"dot\" && \"items-center\"\n                )}\n              >\n                {formatter && item?.value !== undefined && item.name ? (\n                  formatter(item.value, item.name, item, index, item.payload)\n                ) : (\n                  <>\n                    {itemConfig?.icon ? (\n                      <itemConfig.icon />\n                    ) : (\n                      !hideIndicator && (\n                        <div\n                          className={cn(\n                            \"shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]\",\n                            {\n                              \"h-2.5 w-2.5\": indicator === \"dot\",\n                              \"w-1\": indicator === \"line\",\n                              \"w-0 border-[1.5px] border-dashed bg-transparent\":\n                                indicator === \"dashed\",\n                              \"my-0.5\": nestLabel && indicator === \"dashed\",\n                            }\n                          )}\n                          style={\n                            {\n                              \"--color-bg\": indicatorColor,\n                              \"--color-border\": indicatorColor,\n                            } as React.CSSProperties\n                          }\n                        />\n                      )\n                    )}\n                    <div\n                      className={cn(\n                        \"flex flex-1 justify-between leading-none\",\n                        nestLabel ? \"items-end\" : \"items-center\"\n                      )}\n                    >\n                      <div className=\"grid gap-1.5\">\n                        {nestLabel ? tooltipLabel : null}\n                        <span className=\"text-muted-foreground\">\n                          {itemConfig?.label || item.name}\n                        </span>\n                      </div>\n                      {item.value && (\n                        <span className=\"font-mono font-medium tabular-nums text-foreground\">\n                          {item.value.toLocaleString()}\n                        </span>\n                      )}\n                    </div>\n                  </>\n                )}\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    )\n  }\n)\nChartTooltipContent.displayName = \"ChartTooltip\"\n\nconst ChartLegend = RechartsPrimitive.Legend\n\nconst ChartLegendContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> &\n    Pick<RechartsPrimitive.LegendProps, \"payload\" | \"verticalAlign\"> & {\n      hideIcon?: boolean\n      nameKey?: string\n    }\n>(\n  (\n    { className, hideIcon = false, payload, verticalAlign = \"bottom\", nameKey },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    if (!payload?.length) {\n      return null\n    }\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"flex items-center justify-center gap-4\",\n          verticalAlign === \"top\" ? \"pb-3\" : \"pt-3\",\n          className\n        )}\n      >\n        {payload.map((item) => {\n          const key = `${nameKey || item.dataKey || \"value\"}`\n          const itemConfig = getPayloadConfigFromPayload(config, item, key)\n\n          return (\n            <div\n              key={item.value}\n              className={cn(\n                \"flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground\"\n              )}\n            >\n              {itemConfig?.icon && !hideIcon ? (\n                <itemConfig.icon />\n              ) : (\n                <div\n                  className=\"h-2 w-2 shrink-0 rounded-[2px]\"\n                  style={{\n                    backgroundColor: item.color,\n                  }}\n                />\n              )}\n              {itemConfig?.label}\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n)\nChartLegendContent.displayName = \"ChartLegend\"\n\n// Helper to extract item config from a payload.\nfunction getPayloadConfigFromPayload(\n  config: ChartConfig,\n  payload: unknown,\n  key: string\n) {\n  if (typeof payload !== \"object\" || payload === null) {\n    return undefined\n  }\n\n  const payloadPayload =\n    \"payload\" in payload &&\n    typeof payload.payload === \"object\" &&\n    payload.payload !== null\n      ? payload.payload\n      : undefined\n\n  let configLabelKey: string = key\n\n  if (\n    key in payload &&\n    typeof payload[key as keyof typeof payload] === \"string\"\n  ) {\n    configLabelKey = payload[key as keyof typeof payload] as string\n  } else if (\n    payloadPayload &&\n    key in payloadPayload &&\n    typeof payloadPayload[key as keyof typeof payloadPayload] === \"string\"\n  ) {\n    configLabelKey = payloadPayload[\n      key as keyof typeof payloadPayload\n    ] as string\n  }\n\n  return configLabelKey in config\n    ? config[configLabelKey]\n    : config[key as keyof typeof config]\n}\n\nexport {\n  ChartContainer,\n  ChartTooltip,\n  ChartTooltipContent,\n  ChartLegend,\n  ChartLegendContent,\n  ChartStyle,\n}\n","size_bytes":10481},"client/src/components/ui/checkbox.tsx":{"content":"import * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n","size_bytes":1056},"client/src/components/ui/collapsible.tsx":{"content":"\"use client\"\n\nimport * as CollapsiblePrimitive from \"@radix-ui/react-collapsible\"\n\nconst Collapsible = CollapsiblePrimitive.Root\n\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger\n\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent }\n","size_bytes":329},"client/src/components/ui/command.tsx":{"content":"import * as React from \"react\"\nimport { type DialogProps } from \"@radix-ui/react-dialog\"\nimport { Command as CommandPrimitive } from \"cmdk\"\nimport { Search } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\"\n\nconst Command = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nCommand.displayName = CommandPrimitive.displayName\n\nconst CommandDialog = ({ children, ...props }: DialogProps) => {\n  return (\n    <Dialog {...props}>\n      <DialogContent className=\"overflow-hidden p-0 shadow-lg\">\n        <Command className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nconst CommandInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => (\n  <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\n    <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n    <CommandPrimitive.Input\n      ref={ref}\n      className={cn(\n        \"flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  </div>\n))\n\nCommandInput.displayName = CommandPrimitive.Input.displayName\n\nconst CommandList = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={cn(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className)}\n    {...props}\n  />\n))\n\nCommandList.displayName = CommandPrimitive.List.displayName\n\nconst CommandEmpty = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Empty>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\n>((props, ref) => (\n  <CommandPrimitive.Empty\n    ref={ref}\n    className=\"py-6 text-center text-sm\"\n    {...props}\n  />\n))\n\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName\n\nconst CommandGroup = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Group>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Group\n    ref={ref}\n    className={cn(\n      \"overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandGroup.displayName = CommandPrimitive.Group.displayName\n\nconst CommandSeparator = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName\n\nconst CommandItem = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandItem.displayName = CommandPrimitive.Item.displayName\n\nconst CommandShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nCommandShortcut.displayName = \"CommandShortcut\"\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n}\n","size_bytes":4885},"client/src/components/ui/context-menu.tsx":{"content":"import * as React from \"react\"\nimport * as ContextMenuPrimitive from \"@radix-ui/react-context-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ContextMenu = ContextMenuPrimitive.Root\n\nconst ContextMenuTrigger = ContextMenuPrimitive.Trigger\n\nconst ContextMenuGroup = ContextMenuPrimitive.Group\n\nconst ContextMenuPortal = ContextMenuPrimitive.Portal\n\nconst ContextMenuSub = ContextMenuPrimitive.Sub\n\nconst ContextMenuRadioGroup = ContextMenuPrimitive.RadioGroup\n\nconst ContextMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <ContextMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </ContextMenuPrimitive.SubTrigger>\n))\nContextMenuSubTrigger.displayName = ContextMenuPrimitive.SubTrigger.displayName\n\nconst ContextMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuSubContent.displayName = ContextMenuPrimitive.SubContent.displayName\n\nconst ContextMenuContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Portal>\n    <ContextMenuPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"z-50 max-h-[--radix-context-menu-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </ContextMenuPrimitive.Portal>\n))\nContextMenuContent.displayName = ContextMenuPrimitive.Content.displayName\n\nconst ContextMenuItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuItem.displayName = ContextMenuPrimitive.Item.displayName\n\nconst ContextMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <ContextMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.CheckboxItem>\n))\nContextMenuCheckboxItem.displayName =\n  ContextMenuPrimitive.CheckboxItem.displayName\n\nconst ContextMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <ContextMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.RadioItem>\n))\nContextMenuRadioItem.displayName = ContextMenuPrimitive.RadioItem.displayName\n\nconst ContextMenuLabel = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold text-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuLabel.displayName = ContextMenuPrimitive.Label.displayName\n\nconst ContextMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nContextMenuSeparator.displayName = ContextMenuPrimitive.Separator.displayName\n\nconst ContextMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nContextMenuShortcut.displayName = \"ContextMenuShortcut\"\n\nexport {\n  ContextMenu,\n  ContextMenuTrigger,\n  ContextMenuContent,\n  ContextMenuItem,\n  ContextMenuCheckboxItem,\n  ContextMenuRadioItem,\n  ContextMenuLabel,\n  ContextMenuSeparator,\n  ContextMenuShortcut,\n  ContextMenuGroup,\n  ContextMenuPortal,\n  ContextMenuSub,\n  ContextMenuSubContent,\n  ContextMenuSubTrigger,\n  ContextMenuRadioGroup,\n}\n","size_bytes":7428},"client/src/components/ui/dialog.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n","size_bytes":3848},"client/src/components/ui/drawer.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Drawer as DrawerPrimitive } from \"vaul\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Drawer = ({\n  shouldScaleBackground = true,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Root>) => (\n  <DrawerPrimitive.Root\n    shouldScaleBackground={shouldScaleBackground}\n    {...props}\n  />\n)\nDrawer.displayName = \"Drawer\"\n\nconst DrawerTrigger = DrawerPrimitive.Trigger\n\nconst DrawerPortal = DrawerPrimitive.Portal\n\nconst DrawerClose = DrawerPrimitive.Close\n\nconst DrawerOverlay = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Overlay\n    ref={ref}\n    className={cn(\"fixed inset-0 z-50 bg-black/80\", className)}\n    {...props}\n  />\n))\nDrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName\n\nconst DrawerContent = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DrawerPortal>\n    <DrawerOverlay />\n    <DrawerPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background\",\n        className\n      )}\n      {...props}\n    >\n      <div className=\"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted\" />\n      {children}\n    </DrawerPrimitive.Content>\n  </DrawerPortal>\n))\nDrawerContent.displayName = \"DrawerContent\"\n\nconst DrawerHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"grid gap-1.5 p-4 text-center sm:text-left\", className)}\n    {...props}\n  />\n)\nDrawerHeader.displayName = \"DrawerHeader\"\n\nconst DrawerFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\n    {...props}\n  />\n)\nDrawerFooter.displayName = \"DrawerFooter\"\n\nconst DrawerTitle = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDrawerTitle.displayName = DrawerPrimitive.Title.displayName\n\nconst DrawerDescription = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDrawerDescription.displayName = DrawerPrimitive.Description.displayName\n\nexport {\n  Drawer,\n  DrawerPortal,\n  DrawerOverlay,\n  DrawerTrigger,\n  DrawerClose,\n  DrawerContent,\n  DrawerHeader,\n  DrawerFooter,\n  DrawerTitle,\n  DrawerDescription,\n}\n","size_bytes":3021},"client/src/components/ui/dropdown-menu.tsx":{"content":"import * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n","size_bytes":7609},"client/src/components/ui/form.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport {\n  Controller,\n  FormProvider,\n  useFormContext,\n  type ControllerProps,\n  type FieldPath,\n  type FieldValues,\n} from \"react-hook-form\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue\n)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState, formState } = useFormContext()\n\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue\n)\n\nconst FormItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  )\n})\nFormItem.displayName = \"FormItem\"\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && \"text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n})\nFormLabel.displayName = \"FormLabel\"\n\nconst FormControl = React.forwardRef<\n  React.ElementRef<typeof Slot>,\n  React.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n})\nFormControl.displayName = \"FormControl\"\n\nconst FormDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn(\"text-sm text-muted-foreground\", className)}\n      {...props}\n    />\n  )\n})\nFormDescription.displayName = \"FormDescription\"\n\nconst FormMessage = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? \"\") : children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn(\"text-sm font-medium text-destructive\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n})\nFormMessage.displayName = \"FormMessage\"\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n","size_bytes":4120},"client/src/components/ui/hover-card.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as HoverCardPrimitive from \"@radix-ui/react-hover-card\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst HoverCard = HoverCardPrimitive.Root\n\nconst HoverCardTrigger = HoverCardPrimitive.Trigger\n\nconst HoverCardContent = React.forwardRef<\n  React.ElementRef<typeof HoverCardPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof HoverCardPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <HoverCardPrimitive.Content\n    ref={ref}\n    align={align}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-hover-card-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nHoverCardContent.displayName = HoverCardPrimitive.Content.displayName\n\nexport { HoverCard, HoverCardTrigger, HoverCardContent }\n","size_bytes":1251},"client/src/components/ui/input-otp.tsx":{"content":"import * as React from \"react\"\nimport { OTPInput, OTPInputContext } from \"input-otp\"\nimport { Dot } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst InputOTP = React.forwardRef<\n  React.ElementRef<typeof OTPInput>,\n  React.ComponentPropsWithoutRef<typeof OTPInput>\n>(({ className, containerClassName, ...props }, ref) => (\n  <OTPInput\n    ref={ref}\n    containerClassName={cn(\n      \"flex items-center gap-2 has-[:disabled]:opacity-50\",\n      containerClassName\n    )}\n    className={cn(\"disabled:cursor-not-allowed\", className)}\n    {...props}\n  />\n))\nInputOTP.displayName = \"InputOTP\"\n\nconst InputOTPGroup = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"flex items-center\", className)} {...props} />\n))\nInputOTPGroup.displayName = \"InputOTPGroup\"\n\nconst InputOTPSlot = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\"> & { index: number }\n>(({ index, className, ...props }, ref) => {\n  const inputOTPContext = React.useContext(OTPInputContext)\n  const { char, hasFakeCaret, isActive } = inputOTPContext.slots[index]\n\n  return (\n    <div\n      ref={ref}\n      className={cn(\n        \"relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md\",\n        isActive && \"z-10 ring-2 ring-ring ring-offset-background\",\n        className\n      )}\n      {...props}\n    >\n      {char}\n      {hasFakeCaret && (\n        <div className=\"pointer-events-none absolute inset-0 flex items-center justify-center\">\n          <div className=\"h-4 w-px animate-caret-blink bg-foreground duration-1000\" />\n        </div>\n      )}\n    </div>\n  )\n})\nInputOTPSlot.displayName = \"InputOTPSlot\"\n\nconst InputOTPSeparator = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ ...props }, ref) => (\n  <div ref={ref} role=\"separator\" {...props}>\n    <Dot />\n  </div>\n))\nInputOTPSeparator.displayName = \"InputOTPSeparator\"\n\nexport { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator }\n","size_bytes":2154},"client/src/components/ui/input.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n","size_bytes":791},"client/src/components/ui/label.tsx":{"content":"import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n","size_bytes":710},"client/src/components/ui/menubar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as MenubarPrimitive from \"@radix-ui/react-menubar\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction MenubarMenu({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Menu>) {\n  return <MenubarPrimitive.Menu {...props} />\n}\n\nfunction MenubarGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Group>) {\n  return <MenubarPrimitive.Group {...props} />\n}\n\nfunction MenubarPortal({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Portal>) {\n  return <MenubarPrimitive.Portal {...props} />\n}\n\nfunction MenubarRadioGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.RadioGroup>) {\n  return <MenubarPrimitive.RadioGroup {...props} />\n}\n\nfunction MenubarSub({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Sub>) {\n  return <MenubarPrimitive.Sub data-slot=\"menubar-sub\" {...props} />\n}\n\nconst Menubar = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"flex h-10 items-center space-x-1 rounded-md border bg-background p-1\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubar.displayName = MenubarPrimitive.Root.displayName\n\nconst MenubarTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName\n\nconst MenubarSubTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <MenubarPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </MenubarPrimitive.SubTrigger>\n))\nMenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName\n\nconst MenubarSubContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName\n\nconst MenubarContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Content>\n>(\n  (\n    { className, align = \"start\", alignOffset = -4, sideOffset = 8, ...props },\n    ref\n  ) => (\n    <MenubarPrimitive.Portal>\n      <MenubarPrimitive.Content\n        ref={ref}\n        align={align}\n        alignOffset={alignOffset}\n        sideOffset={sideOffset}\n        className={cn(\n          \"z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n          className\n        )}\n        {...props}\n      />\n    </MenubarPrimitive.Portal>\n  )\n)\nMenubarContent.displayName = MenubarPrimitive.Content.displayName\n\nconst MenubarItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarItem.displayName = MenubarPrimitive.Item.displayName\n\nconst MenubarCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <MenubarPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.CheckboxItem>\n))\nMenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName\n\nconst MenubarRadioItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <MenubarPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.RadioItem>\n))\nMenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName\n\nconst MenubarLabel = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarLabel.displayName = MenubarPrimitive.Label.displayName\n\nconst MenubarSeparator = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nMenubarSeparator.displayName = MenubarPrimitive.Separator.displayName\n\nconst MenubarShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nMenubarShortcut.displayname = \"MenubarShortcut\"\n\nexport {\n  Menubar,\n  MenubarMenu,\n  MenubarTrigger,\n  MenubarContent,\n  MenubarItem,\n  MenubarSeparator,\n  MenubarLabel,\n  MenubarCheckboxItem,\n  MenubarRadioGroup,\n  MenubarRadioItem,\n  MenubarPortal,\n  MenubarSubContent,\n  MenubarSubTrigger,\n  MenubarGroup,\n  MenubarSub,\n  MenubarShortcut,\n}\n","size_bytes":8605},"client/src/components/ui/navigation-menu.tsx":{"content":"import * as React from \"react\"\nimport * as NavigationMenuPrimitive from \"@radix-ui/react-navigation-menu\"\nimport { cva } from \"class-variance-authority\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst NavigationMenu = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative z-10 flex max-w-max flex-1 items-center justify-center\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <NavigationMenuViewport />\n  </NavigationMenuPrimitive.Root>\n))\nNavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName\n\nconst NavigationMenuList = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.List\n    ref={ref}\n    className={cn(\n      \"group flex flex-1 list-none items-center justify-center space-x-1\",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName\n\nconst NavigationMenuItem = NavigationMenuPrimitive.Item\n\nconst navigationMenuTriggerStyle = cva(\n  \"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=open]:text-accent-foreground data-[state=open]:bg-accent/50 data-[state=open]:hover:bg-accent data-[state=open]:focus:bg-accent\"\n)\n\nconst NavigationMenuTrigger = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Trigger\n    ref={ref}\n    className={cn(navigationMenuTriggerStyle(), \"group\", className)}\n    {...props}\n  >\n    {children}{\" \"}\n    <ChevronDown\n      className=\"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180\"\n      aria-hidden=\"true\"\n    />\n  </NavigationMenuPrimitive.Trigger>\n))\nNavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName\n\nconst NavigationMenuContent = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto \",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName\n\nconst NavigationMenuLink = NavigationMenuPrimitive.Link\n\nconst NavigationMenuViewport = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>\n>(({ className, ...props }, ref) => (\n  <div className={cn(\"absolute left-0 top-full flex justify-center\")}>\n    <NavigationMenuPrimitive.Viewport\n      className={cn(\n        \"origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  </div>\n))\nNavigationMenuViewport.displayName =\n  NavigationMenuPrimitive.Viewport.displayName\n\nconst NavigationMenuIndicator = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Indicator\n    ref={ref}\n    className={cn(\n      \"top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in\",\n      className\n    )}\n    {...props}\n  >\n    <div className=\"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md\" />\n  </NavigationMenuPrimitive.Indicator>\n))\nNavigationMenuIndicator.displayName =\n  NavigationMenuPrimitive.Indicator.displayName\n\nexport {\n  navigationMenuTriggerStyle,\n  NavigationMenu,\n  NavigationMenuList,\n  NavigationMenuItem,\n  NavigationMenuContent,\n  NavigationMenuTrigger,\n  NavigationMenuLink,\n  NavigationMenuIndicator,\n  NavigationMenuViewport,\n}\n","size_bytes":5128},"client/src/components/ui/pagination.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { ButtonProps, buttonVariants } from \"@/components/ui/button\"\n\nconst Pagination = ({ className, ...props }: React.ComponentProps<\"nav\">) => (\n  <nav\n    role=\"navigation\"\n    aria-label=\"pagination\"\n    className={cn(\"mx-auto flex w-full justify-center\", className)}\n    {...props}\n  />\n)\nPagination.displayName = \"Pagination\"\n\nconst PaginationContent = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    className={cn(\"flex flex-row items-center gap-1\", className)}\n    {...props}\n  />\n))\nPaginationContent.displayName = \"PaginationContent\"\n\nconst PaginationItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li ref={ref} className={cn(\"\", className)} {...props} />\n))\nPaginationItem.displayName = \"PaginationItem\"\n\ntype PaginationLinkProps = {\n  isActive?: boolean\n} & Pick<ButtonProps, \"size\"> &\n  React.ComponentProps<\"a\">\n\nconst PaginationLink = ({\n  className,\n  isActive,\n  size = \"icon\",\n  ...props\n}: PaginationLinkProps) => (\n  <a\n    aria-current={isActive ? \"page\" : undefined}\n    className={cn(\n      buttonVariants({\n        variant: isActive ? \"outline\" : \"ghost\",\n        size,\n      }),\n      className\n    )}\n    {...props}\n  />\n)\nPaginationLink.displayName = \"PaginationLink\"\n\nconst PaginationPrevious = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to previous page\"\n    size=\"default\"\n    className={cn(\"gap-1 pl-2.5\", className)}\n    {...props}\n  >\n    <ChevronLeft className=\"h-4 w-4\" />\n    <span>Previous</span>\n  </PaginationLink>\n)\nPaginationPrevious.displayName = \"PaginationPrevious\"\n\nconst PaginationNext = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to next page\"\n    size=\"default\"\n    className={cn(\"gap-1 pr-2.5\", className)}\n    {...props}\n  >\n    <span>Next</span>\n    <ChevronRight className=\"h-4 w-4\" />\n  </PaginationLink>\n)\nPaginationNext.displayName = \"PaginationNext\"\n\nconst PaginationEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    aria-hidden\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More pages</span>\n  </span>\n)\nPaginationEllipsis.displayName = \"PaginationEllipsis\"\n\nexport {\n  Pagination,\n  PaginationContent,\n  PaginationEllipsis,\n  PaginationItem,\n  PaginationLink,\n  PaginationNext,\n  PaginationPrevious,\n}\n","size_bytes":2751},"client/src/components/ui/popover.tsx":{"content":"import * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent }\n","size_bytes":1280},"client/src/components/ui/progress.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-4 w-full overflow-hidden rounded-full bg-secondary\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n","size_bytes":791},"client/src/components/ui/radio-group.tsx":{"content":"import * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn(\"grid gap-2\", className)}\n      {...props}\n      ref={ref}\n    />\n  )\n})\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-2.5 w-2.5 fill-current text-current\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n})\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\n\nexport { RadioGroup, RadioGroupItem }\n","size_bytes":1467},"client/src/components/ui/resizable.tsx":{"content":"\"use client\"\n\nimport { GripVertical } from \"lucide-react\"\nimport * as ResizablePrimitive from \"react-resizable-panels\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ResizablePanelGroup = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) => (\n  <ResizablePrimitive.PanelGroup\n    className={cn(\n      \"flex h-full w-full data-[panel-group-direction=vertical]:flex-col\",\n      className\n    )}\n    {...props}\n  />\n)\n\nconst ResizablePanel = ResizablePrimitive.Panel\n\nconst ResizableHandle = ({\n  withHandle,\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {\n  withHandle?: boolean\n}) => (\n  <ResizablePrimitive.PanelResizeHandle\n    className={cn(\n      \"relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90\",\n      className\n    )}\n    {...props}\n  >\n    {withHandle && (\n      <div className=\"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border\">\n        <GripVertical className=\"h-2.5 w-2.5\" />\n      </div>\n    )}\n  </ResizablePrimitive.PanelResizeHandle>\n)\n\nexport { ResizablePanelGroup, ResizablePanel, ResizableHandle }\n","size_bytes":1723},"client/src/components/ui/scroll-area.tsx":{"content":"import * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n","size_bytes":1642},"client/src/components/ui/select.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n","size_bytes":5742},"client/src/components/ui/separator.tsx":{"content":"import * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n","size_bytes":756},"client/src/components/ui/sheet.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      {children}\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n","size_bytes":4281},"client/src/components/ui/sidebar.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { VariantProps, cva } from \"class-variance-authority\"\nimport { PanelLeft } from \"lucide-react\"\n\nimport { useIsMobile } from \"@/hooks/use-mobile\"\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Separator } from \"@/components/ui/separator\"\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from \"@/components/ui/sheet\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\"\n\nconst SIDEBAR_COOKIE_NAME = \"sidebar_state\"\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7\nconst SIDEBAR_WIDTH = \"16rem\"\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\"\nconst SIDEBAR_WIDTH_ICON = \"3rem\"\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\"\n\ntype SidebarContextProps = {\n  state: \"expanded\" | \"collapsed\"\n  open: boolean\n  setOpen: (open: boolean) => void\n  openMobile: boolean\n  setOpenMobile: (open: boolean) => void\n  isMobile: boolean\n  toggleSidebar: () => void\n}\n\nconst SidebarContext = React.createContext<SidebarContextProps | null>(null)\n\nfunction useSidebar() {\n  const context = React.useContext(SidebarContext)\n  if (!context) {\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\")\n  }\n\n  return context\n}\n\nconst SidebarProvider = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    defaultOpen?: boolean\n    open?: boolean\n    onOpenChange?: (open: boolean) => void\n  }\n>(\n  (\n    {\n      defaultOpen = true,\n      open: openProp,\n      onOpenChange: setOpenProp,\n      className,\n      style,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const isMobile = useIsMobile()\n    const [openMobile, setOpenMobile] = React.useState(false)\n\n    // This is the internal state of the sidebar.\n    // We use openProp and setOpenProp for control from outside the component.\n    const [_open, _setOpen] = React.useState(defaultOpen)\n    const open = openProp ?? _open\n    const setOpen = React.useCallback(\n      (value: boolean | ((value: boolean) => boolean)) => {\n        const openState = typeof value === \"function\" ? value(open) : value\n        if (setOpenProp) {\n          setOpenProp(openState)\n        } else {\n          _setOpen(openState)\n        }\n\n        // This sets the cookie to keep the sidebar state.\n        document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`\n      },\n      [setOpenProp, open]\n    )\n\n    // Helper to toggle the sidebar.\n    const toggleSidebar = React.useCallback(() => {\n      return isMobile\n        ? setOpenMobile((open) => !open)\n        : setOpen((open) => !open)\n    }, [isMobile, setOpen, setOpenMobile])\n\n    // Adds a keyboard shortcut to toggle the sidebar.\n    React.useEffect(() => {\n      const handleKeyDown = (event: KeyboardEvent) => {\n        if (\n          event.key === SIDEBAR_KEYBOARD_SHORTCUT &&\n          (event.metaKey || event.ctrlKey)\n        ) {\n          event.preventDefault()\n          toggleSidebar()\n        }\n      }\n\n      window.addEventListener(\"keydown\", handleKeyDown)\n      return () => window.removeEventListener(\"keydown\", handleKeyDown)\n    }, [toggleSidebar])\n\n    // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n    // This makes it easier to style the sidebar with Tailwind classes.\n    const state = open ? \"expanded\" : \"collapsed\"\n\n    const contextValue = React.useMemo<SidebarContextProps>(\n      () => ({\n        state,\n        open,\n        setOpen,\n        isMobile,\n        openMobile,\n        setOpenMobile,\n        toggleSidebar,\n      }),\n      [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]\n    )\n\n    return (\n      <SidebarContext.Provider value={contextValue}>\n        <TooltipProvider delayDuration={0}>\n          <div\n            style={\n              {\n                \"--sidebar-width\": SIDEBAR_WIDTH,\n                \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\n                ...style,\n              } as React.CSSProperties\n            }\n            className={cn(\n              \"group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar\",\n              className\n            )}\n            ref={ref}\n            {...props}\n          >\n            {children}\n          </div>\n        </TooltipProvider>\n      </SidebarContext.Provider>\n    )\n  }\n)\nSidebarProvider.displayName = \"SidebarProvider\"\n\nconst Sidebar = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    side?: \"left\" | \"right\"\n    variant?: \"sidebar\" | \"floating\" | \"inset\"\n    collapsible?: \"offcanvas\" | \"icon\" | \"none\"\n  }\n>(\n  (\n    {\n      side = \"left\",\n      variant = \"sidebar\",\n      collapsible = \"offcanvas\",\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const { isMobile, state, openMobile, setOpenMobile } = useSidebar()\n\n    if (collapsible === \"none\") {\n      return (\n        <div\n          className={cn(\n            \"flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground\",\n            className\n          )}\n          ref={ref}\n          {...props}\n        >\n          {children}\n        </div>\n      )\n    }\n\n    if (isMobile) {\n      return (\n        <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\n          <SheetContent\n            data-sidebar=\"sidebar\"\n            data-mobile=\"true\"\n            className=\"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden\"\n            style={\n              {\n                \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE,\n              } as React.CSSProperties\n            }\n            side={side}\n          >\n            <SheetHeader className=\"sr-only\">\n              <SheetTitle>Sidebar</SheetTitle>\n              <SheetDescription>Displays the mobile sidebar.</SheetDescription>\n            </SheetHeader>\n            <div className=\"flex h-full w-full flex-col\">{children}</div>\n          </SheetContent>\n        </Sheet>\n      )\n    }\n\n    return (\n      <div\n        ref={ref}\n        className=\"group peer hidden text-sidebar-foreground md:block\"\n        data-state={state}\n        data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\n        data-variant={variant}\n        data-side={side}\n      >\n        {/* This is what handles the sidebar gap on desktop */}\n        <div\n          className={cn(\n            \"relative w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear\",\n            \"group-data-[collapsible=offcanvas]:w-0\",\n            \"group-data-[side=right]:rotate-180\",\n            variant === \"floating\" || variant === \"inset\"\n              ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]\"\n              : \"group-data-[collapsible=icon]:w-[--sidebar-width-icon]\"\n          )}\n        />\n        <div\n          className={cn(\n            \"fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex\",\n            side === \"left\"\n              ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\n              : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\n            // Adjust the padding for floating and inset variants.\n            variant === \"floating\" || variant === \"inset\"\n              ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]\"\n              : \"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l\",\n            className\n          )}\n          {...props}\n        >\n          <div\n            data-sidebar=\"sidebar\"\n            className=\"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow\"\n          >\n            {children}\n          </div>\n        </div>\n      </div>\n    )\n  }\n)\nSidebar.displayName = \"Sidebar\"\n\nconst SidebarTrigger = React.forwardRef<\n  React.ElementRef<typeof Button>,\n  React.ComponentProps<typeof Button>\n>(({ className, onClick, ...props }, ref) => {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <Button\n      ref={ref}\n      data-sidebar=\"trigger\"\n      variant=\"ghost\"\n      size=\"icon\"\n      className={cn(\"h-7 w-7\", className)}\n      onClick={(event) => {\n        onClick?.(event)\n        toggleSidebar()\n      }}\n      {...props}\n    >\n      <PanelLeft />\n      <span className=\"sr-only\">Toggle Sidebar</span>\n    </Button>\n  )\n})\nSidebarTrigger.displayName = \"SidebarTrigger\"\n\nconst SidebarRail = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\">\n>(({ className, ...props }, ref) => {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <button\n      ref={ref}\n      data-sidebar=\"rail\"\n      aria-label=\"Toggle Sidebar\"\n      tabIndex={-1}\n      onClick={toggleSidebar}\n      title=\"Toggle Sidebar\"\n      className={cn(\n        \"absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex\",\n        \"[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize\",\n        \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\",\n        \"group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar\",\n        \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\",\n        \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarRail.displayName = \"SidebarRail\"\n\nconst SidebarInset = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"main\">\n>(({ className, ...props }, ref) => {\n  return (\n    <main\n      ref={ref}\n      className={cn(\n        \"relative flex w-full flex-1 flex-col bg-background\",\n        \"md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarInset.displayName = \"SidebarInset\"\n\nconst SidebarInput = React.forwardRef<\n  React.ElementRef<typeof Input>,\n  React.ComponentProps<typeof Input>\n>(({ className, ...props }, ref) => {\n  return (\n    <Input\n      ref={ref}\n      data-sidebar=\"input\"\n      className={cn(\n        \"h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarInput.displayName = \"SidebarInput\"\n\nconst SidebarHeader = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"header\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n})\nSidebarHeader.displayName = \"SidebarHeader\"\n\nconst SidebarFooter = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"footer\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n})\nSidebarFooter.displayName = \"SidebarFooter\"\n\nconst SidebarSeparator = React.forwardRef<\n  React.ElementRef<typeof Separator>,\n  React.ComponentProps<typeof Separator>\n>(({ className, ...props }, ref) => {\n  return (\n    <Separator\n      ref={ref}\n      data-sidebar=\"separator\"\n      className={cn(\"mx-2 w-auto bg-sidebar-border\", className)}\n      {...props}\n    />\n  )\n})\nSidebarSeparator.displayName = \"SidebarSeparator\"\n\nconst SidebarContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"content\"\n      className={cn(\n        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarContent.displayName = \"SidebarContent\"\n\nconst SidebarGroup = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"group\"\n      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\n      {...props}\n    />\n  )\n})\nSidebarGroup.displayName = \"SidebarGroup\"\n\nconst SidebarGroupLabel = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & { asChild?: boolean }\n>(({ className, asChild = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"div\"\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"group-label\"\n      className={cn(\n        \"flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarGroupLabel.displayName = \"SidebarGroupLabel\"\n\nconst SidebarGroupAction = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> & { asChild?: boolean }\n>(({ className, asChild = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"group-action\"\n      className={cn(\n        \"absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 after:md:hidden\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarGroupAction.displayName = \"SidebarGroupAction\"\n\nconst SidebarGroupContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    data-sidebar=\"group-content\"\n    className={cn(\"w-full text-sm\", className)}\n    {...props}\n  />\n))\nSidebarGroupContent.displayName = \"SidebarGroupContent\"\n\nconst SidebarMenu = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    data-sidebar=\"menu\"\n    className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)}\n    {...props}\n  />\n))\nSidebarMenu.displayName = \"SidebarMenu\"\n\nconst SidebarMenuItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    data-sidebar=\"menu-item\"\n    className={cn(\"group/menu-item relative\", className)}\n    {...props}\n  />\n))\nSidebarMenuItem.displayName = \"SidebarMenuItem\"\n\nconst sidebarMenuButtonVariants = cva(\n  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\n        outline:\n          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\n      },\n      size: {\n        default: \"h-8 text-sm\",\n        sm: \"h-7 text-xs\",\n        lg: \"h-12 text-sm group-data-[collapsible=icon]:!p-0\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst SidebarMenuButton = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> & {\n    asChild?: boolean\n    isActive?: boolean\n    tooltip?: string | React.ComponentProps<typeof TooltipContent>\n  } & VariantProps<typeof sidebarMenuButtonVariants>\n>(\n  (\n    {\n      asChild = false,\n      isActive = false,\n      variant = \"default\",\n      size = \"default\",\n      tooltip,\n      className,\n      ...props\n    },\n    ref\n  ) => {\n    const Comp = asChild ? Slot : \"button\"\n    const { isMobile, state } = useSidebar()\n\n    const button = (\n      <Comp\n        ref={ref}\n        data-sidebar=\"menu-button\"\n        data-size={size}\n        data-active={isActive}\n        className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n        {...props}\n      />\n    )\n\n    if (!tooltip) {\n      return button\n    }\n\n    if (typeof tooltip === \"string\") {\n      tooltip = {\n        children: tooltip,\n      }\n    }\n\n    return (\n      <Tooltip>\n        <TooltipTrigger asChild>{button}</TooltipTrigger>\n        <TooltipContent\n          side=\"right\"\n          align=\"center\"\n          hidden={state !== \"collapsed\" || isMobile}\n          {...tooltip}\n        />\n      </Tooltip>\n    )\n  }\n)\nSidebarMenuButton.displayName = \"SidebarMenuButton\"\n\nconst SidebarMenuAction = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> & {\n    asChild?: boolean\n    showOnHover?: boolean\n  }\n>(({ className, asChild = false, showOnHover = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"menu-action\"\n      className={cn(\n        \"absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 after:md:hidden\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        showOnHover &&\n          \"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarMenuAction.displayName = \"SidebarMenuAction\"\n\nconst SidebarMenuBadge = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    data-sidebar=\"menu-badge\"\n    className={cn(\n      \"pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground\",\n      \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\n      \"peer-data-[size=sm]/menu-button:top-1\",\n      \"peer-data-[size=default]/menu-button:top-1.5\",\n      \"peer-data-[size=lg]/menu-button:top-2.5\",\n      \"group-data-[collapsible=icon]:hidden\",\n      className\n    )}\n    {...props}\n  />\n))\nSidebarMenuBadge.displayName = \"SidebarMenuBadge\"\n\nconst SidebarMenuSkeleton = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    showIcon?: boolean\n  }\n>(({ className, showIcon = false, ...props }, ref) => {\n  // Random width between 50 to 90%.\n  const width = React.useMemo(() => {\n    return `${Math.floor(Math.random() * 40) + 50}%`\n  }, [])\n\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"menu-skeleton\"\n      className={cn(\"flex h-8 items-center gap-2 rounded-md px-2\", className)}\n      {...props}\n    >\n      {showIcon && (\n        <Skeleton\n          className=\"size-4 rounded-md\"\n          data-sidebar=\"menu-skeleton-icon\"\n        />\n      )}\n      <Skeleton\n        className=\"h-4 max-w-[--skeleton-width] flex-1\"\n        data-sidebar=\"menu-skeleton-text\"\n        style={\n          {\n            \"--skeleton-width\": width,\n          } as React.CSSProperties\n        }\n      />\n    </div>\n  )\n})\nSidebarMenuSkeleton.displayName = \"SidebarMenuSkeleton\"\n\nconst SidebarMenuSub = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    data-sidebar=\"menu-sub\"\n    className={cn(\n      \"mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5\",\n      \"group-data-[collapsible=icon]:hidden\",\n      className\n    )}\n    {...props}\n  />\n))\nSidebarMenuSub.displayName = \"SidebarMenuSub\"\n\nconst SidebarMenuSubItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ ...props }, ref) => <li ref={ref} {...props} />)\nSidebarMenuSubItem.displayName = \"SidebarMenuSubItem\"\n\nconst SidebarMenuSubButton = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentProps<\"a\"> & {\n    asChild?: boolean\n    size?: \"sm\" | \"md\"\n    isActive?: boolean\n  }\n>(({ asChild = false, size = \"md\", isActive, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"menu-sub-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(\n        \"flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground\",\n        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\n        size === \"sm\" && \"text-xs\",\n        size === \"md\" && \"text-sm\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarMenuSubButton.displayName = \"SidebarMenuSubButton\"\n\nexport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupAction,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarInput,\n  SidebarInset,\n  SidebarMenu,\n  SidebarMenuAction,\n  SidebarMenuBadge,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarMenuSkeleton,\n  SidebarMenuSub,\n  SidebarMenuSubButton,\n  SidebarMenuSubItem,\n  SidebarProvider,\n  SidebarRail,\n  SidebarSeparator,\n  SidebarTrigger,\n  useSidebar,\n}\n","size_bytes":23567},"client/src/components/ui/skeleton.tsx":{"content":"import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-muted\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n","size_bytes":261},"client/src/components/ui/slider.tsx":{"content":"import * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n","size_bytes":1077},"client/src/components/ui/switch.tsx":{"content":"import * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n","size_bytes":1139},"client/src/components/ui/table.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props}\n    />\n  </div>\n))\nTable.displayName = \"Table\"\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n))\nTableHeader.displayName = \"TableHeader\"\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\n    {...props}\n  />\n))\nTableBody.displayName = \"TableBody\"\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableFooter.displayName = \"TableFooter\"\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nTableRow.displayName = \"TableRow\"\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      \"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableHead.displayName = \"TableHead\"\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)}\n    {...props}\n  />\n))\nTableCell.displayName = \"TableCell\"\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nTableCaption.displayName = \"TableCaption\"\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n","size_bytes":2765},"client/src/components/ui/tabs.tsx":{"content":"import * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n","size_bytes":1883},"client/src/components/ui/textarea.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Textarea = React.forwardRef<\n  HTMLTextAreaElement,\n  React.ComponentProps<\"textarea\">\n>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n","size_bytes":689},"client/src/components/ui/toast.tsx":{"content":"import * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-sm opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n","size_bytes":4845},"client/src/components/ui/toaster.tsx":{"content":"import { useToast } from \"@/hooks/use-toast\"\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"@/components/ui/toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n","size_bytes":772},"client/src/components/ui/toggle-group.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ToggleGroupPrimitive from \"@radix-ui/react-toggle-group\"\nimport { type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { toggleVariants } from \"@/components/ui/toggle\"\n\nconst ToggleGroupContext = React.createContext<\n  VariantProps<typeof toggleVariants>\n>({\n  size: \"default\",\n  variant: \"default\",\n})\n\nconst ToggleGroup = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, children, ...props }, ref) => (\n  <ToggleGroupPrimitive.Root\n    ref={ref}\n    className={cn(\"flex items-center justify-center gap-1\", className)}\n    {...props}\n  >\n    <ToggleGroupContext.Provider value={{ variant, size }}>\n      {children}\n    </ToggleGroupContext.Provider>\n  </ToggleGroupPrimitive.Root>\n))\n\nToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName\n\nconst ToggleGroupItem = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> &\n    VariantProps<typeof toggleVariants>\n>(({ className, children, variant, size, ...props }, ref) => {\n  const context = React.useContext(ToggleGroupContext)\n\n  return (\n    <ToggleGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        toggleVariants({\n          variant: context.variant || variant,\n          size: context.size || size,\n        }),\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </ToggleGroupPrimitive.Item>\n  )\n})\n\nToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName\n\nexport { ToggleGroup, ToggleGroupItem }\n","size_bytes":1753},"client/src/components/ui/toggle.tsx":{"content":"import * as React from \"react\"\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline:\n          \"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-10 px-3 min-w-10\",\n        sm: \"h-9 px-2.5 min-w-9\",\n        lg: \"h-11 px-5 min-w-11\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst Toggle = React.forwardRef<\n  React.ElementRef<typeof TogglePrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, ...props }, ref) => (\n  <TogglePrimitive.Root\n    ref={ref}\n    className={cn(toggleVariants({ variant, size, className }))}\n    {...props}\n  />\n))\n\nToggle.displayName = TogglePrimitive.Root.displayName\n\nexport { Toggle, toggleVariants }\n","size_bytes":1527},"client/src/components/ui/tooltip.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n","size_bytes":1209},"client/src/pages/admin/AdminDashboard.tsx":{"content":"import React, { useState } from 'react';\nimport { useQuery } from '@tanstack/react-query';\nimport { useAuth } from '@/context/AuthContext';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport { NotificationSystem } from '@/components/NotificationSystem';\nimport { \n  BarChart3, \n  Users, \n  ShoppingBag, \n  DollarSign, \n  LogOut,\n  Package,\n  Truck,\n  Store,\n  TrendingUp,\n  Clock,\n  Star,\n  AlertCircle\n} from 'lucide-react';\nimport { apiRequest } from '@/lib/queryClient';\n\nexport default function AdminDashboard() {\n  const { user, logout } = useAuth();\n  const [activeTab, setActiveTab] = useState('overview');\n\n  const { data: dashboardData, isLoading } = useQuery({\n    queryKey: ['/api/admin/dashboard'],\n    queryFn: async () => {\n      const response = await apiRequest('GET', '/api/admin/dashboard', null, user?.token);\n      return response.json();\n    },\n    refetchInterval: 30000, // ØªØ­Ø¯ÙŠØ« ÙƒÙ„ 30 Ø«Ø§Ù†ÙŠØ©\n  });\n\n  const handleLogout = () => {\n    logout();\n  };\n\n  const stats = dashboardData?.stats || {};\n  const recentOrders = dashboardData?.recentOrders || [];\n\n  const statCards = [\n    { \n      title: 'Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø·Ù„Ø¨Ø§Øª', \n      value: stats.totalOrders || 0, \n      icon: ShoppingBag, \n      color: 'text-blue-600',\n      bgColor: 'bg-blue-50',\n      change: '+12%',\n      changeType: 'positive'\n    },\n    { \n      title: 'Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø§Ù„Ù†Ø´Ø·ÙŠÙ†', \n      value: stats.totalCustomers || 0, \n      icon: Users, \n      color: 'text-green-600',\n      bgColor: 'bg-green-50',\n      change: '+8%',\n      changeType: 'positive'\n    },\n    { \n      title: 'Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª', \n      value: `${stats.totalRevenue || 0} Ø±ÙŠØ§Ù„`, \n      icon: DollarSign, \n      color: 'text-orange-600',\n      bgColor: 'bg-orange-50',\n      change: '+15%',\n      changeType: 'positive'\n    },\n    { \n      title: 'Ø§Ù„Ø³Ø§Ø¦Ù‚ÙŠÙ† Ø§Ù„Ù…ØªØ§Ø­ÙŠÙ†', \n      value: stats.activeDrivers || 0, \n      icon: Truck, \n      color: 'text-purple-600',\n      bgColor: 'bg-purple-50',\n      change: '+3%',\n      changeType: 'positive'\n    },\n  ];\n\n  const todayStats = [\n    { title: 'Ø·Ù„Ø¨Ø§Øª Ø§Ù„ÙŠÙˆÙ…', value: stats.todayOrders || 0, icon: Package },\n    { title: 'Ù…Ø¨ÙŠØ¹Ø§Øª Ø§Ù„ÙŠÙˆÙ…', value: `${stats.todayRevenue || 0} Ø±ÙŠØ§Ù„`, icon: TrendingUp },\n    { title: 'Ø·Ù„Ø¨Ø§Øª Ù…Ø¹Ù„Ù‚Ø©', value: stats.pendingOrders || 0, icon: Clock },\n    { title: 'Ø§Ù„Ù…Ø·Ø§Ø¹Ù… Ø§Ù„Ù†Ø´Ø·Ø©', value: stats.totalRestaurants || 0, icon: Store },\n  ];\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4\"></div>\n          <p className=\"text-gray-600\">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\" dir=\"rtl\">\n      {/* Header */}\n      <header className=\"bg-white shadow-sm border-b sticky top-0 z-10\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex justify-between items-center h-16\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center\">\n                <BarChart3 className=\"h-6 w-6 text-white\" />\n              </div>\n              <div>\n                <h1 className=\"text-xl font-bold text-gray-900\">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</h1>\n                <p className=\"text-sm text-gray-500\">Ù…Ø±Ø­Ø¨Ø§Ù‹ {user?.name}</p>\n              </div>\n            </div>\n            <Button \n              variant=\"outline\" \n              onClick={handleLogout}\n              className=\"flex items-center gap-2 hover:bg-red-50 hover:text-red-600 hover:border-red-200\"\n            >\n              <LogOut className=\"h-4 w-4\" />\n              ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬\n            </Button>\n          </div>\n        </div>\n      </header>\n\n      {/* Main Content */}\n      <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {/* Notification System */}\n        <div className=\"mb-8\">\n          <NotificationSystem userType=\"admin\" />\n        </div>\n\n        {/* Main Stats Cards */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\n          {statCards.map((stat, index) => {\n            const Icon = stat.icon;\n            return (\n              <Card key={index} className=\"hover:shadow-lg transition-shadow duration-200\">\n                <CardContent className=\"p-6\">\n                  <div className=\"flex items-center justify-between\">\n                    <div>\n                      <p className=\"text-sm font-medium text-gray-600 mb-1\">{stat.title}</p>\n                      <p className=\"text-2xl font-bold text-gray-900\">{stat.value}</p>\n                      <div className=\"flex items-center mt-2\">\n                        <span className={`text-xs font-medium ${\n                          stat.changeType === 'positive' ? 'text-green-600' : 'text-red-600'\n                        }`}>\n                          {stat.change}\n                        </span>\n                        <span className=\"text-xs text-gray-500 mr-1\">Ù…Ù† Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ù…Ø§Ø¶ÙŠ</span>\n                      </div>\n                    </div>\n                    <div className={`w-12 h-12 ${stat.bgColor} rounded-lg flex items-center justify-center`}>\n                      <Icon className={`h-6 w-6 ${stat.color}`} />\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n            );\n          })}\n        </div>\n\n        {/* Today's Stats */}\n        <div className=\"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8\">\n          {todayStats.map((stat, index) => {\n            const Icon = stat.icon;\n            return (\n              <Card key={index} className=\"bg-gradient-to-br from-white to-gray-50\">\n                <CardContent className=\"p-4\">\n                  <div className=\"flex items-center gap-3\">\n                    <Icon className=\"h-5 w-5 text-gray-600\" />\n                    <div>\n                      <p className=\"text-xs text-gray-600\">{stat.title}</p>\n                      <p className=\"text-lg font-bold text-gray-900\">{stat.value}</p>\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n            );\n          })}\n        </div>\n\n        {/* Content Tabs */}\n        <Tabs value={activeTab} onValueChange={setActiveTab} className=\"space-y-6\">\n          <TabsList className=\"grid w-full grid-cols-2 lg:grid-cols-4 h-auto p-1\">\n            <TabsTrigger value=\"overview\" className=\"py-3\">Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©</TabsTrigger>\n            <TabsTrigger value=\"orders\" className=\"py-3\">Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø­Ø¯ÙŠØ«Ø©</TabsTrigger>\n            <TabsTrigger value=\"restaurants\" className=\"py-3\">Ø§Ù„Ù…Ø·Ø§Ø¹Ù…</TabsTrigger>\n            <TabsTrigger value=\"drivers\" className=\"py-3\">Ø§Ù„Ø³Ø§Ø¦Ù‚ÙŠÙ†</TabsTrigger>\n          </TabsList>\n\n          <TabsContent value=\"overview\" className=\"space-y-6\">\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n              {/* Recent Orders */}\n              <Card>\n                <CardHeader>\n                  <CardTitle className=\"flex items-center gap-2\">\n                    <Clock className=\"h-5 w-5\" />\n                    Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø­Ø¯ÙŠØ«Ø©\n                  </CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"space-y-4\">\n                    {recentOrders.slice(0, 5).map((order: any, index: number) => (\n                      <div key={order.id || index} className=\"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50\">\n                        <div>\n                          <p className=\"font-medium\">Ø·Ù„Ø¨ #{order.orderNumber || `${1000 + index}`}</p>\n                          <p className=\"text-sm text-gray-600\">{order.customerName || 'Ø¹Ù…ÙŠÙ„'}</p>\n                          <p className=\"text-xs text-gray-500\">\n                            {order.createdAt ? new Date(order.createdAt).toLocaleString('ar-YE') : 'Ø§Ù„Ø¢Ù†'}\n                          </p>\n                        </div>\n                        <div className=\"text-left\">\n                          <Badge variant={\n                            order.status === 'delivered' ? 'default' :\n                            order.status === 'pending' ? 'secondary' :\n                            order.status === 'cancelled' ? 'destructive' : 'outline'\n                          }>\n                            {order.status === 'pending' ? 'Ù…Ø¹Ù„Ù‚' :\n                             order.status === 'confirmed' ? 'Ù…Ø¤ÙƒØ¯' :\n                             order.status === 'preparing' ? 'Ù‚ÙŠØ¯ Ø§Ù„ØªØ­Ø¶ÙŠØ±' :\n                             order.status === 'ready' ? 'Ø¬Ø§Ù‡Ø²' :\n                             order.status === 'picked_up' ? 'ØªÙ… Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…' :\n                             order.status === 'delivered' ? 'ØªÙ… Ø§Ù„ØªÙˆØµÙŠÙ„' :\n                             order.status === 'cancelled' ? 'Ù…Ù„ØºÙŠ' : order.status}\n                          </Badge>\n                          <p className=\"text-sm font-medium mt-1\">{order.total || 0} Ø±ÙŠØ§Ù„</p>\n                        </div>\n                      </div>\n                    ))}\n                    {recentOrders.length === 0 && (\n                      <div className=\"text-center py-8 text-gray-500\">\n                        <Package className=\"h-12 w-12 mx-auto mb-2 opacity-50\" />\n                        <p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª Ø­Ø¯ÙŠØ«Ø©</p>\n                      </div>\n                    )}\n                  </div>\n                </CardContent>\n              </Card>\n\n              {/* System Status */}\n              <Card>\n                <CardHeader>\n                  <CardTitle className=\"flex items-center gap-2\">\n                    <AlertCircle className=\"h-5 w-5\" />\n                    Ø­Ø§Ù„Ø© Ø§Ù„Ù†Ø¸Ø§Ù…\n                  </CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"space-y-4\">\n                    <div className=\"flex items-center justify-between p-3 border rounded-lg\">\n                      <div className=\"flex items-center gap-3\">\n                        <div className=\"w-3 h-3 bg-green-500 rounded-full\"></div>\n                        <span>Ø§Ù„Ø®Ø§Ø¯Ù…</span>\n                      </div>\n                      <Badge variant=\"default\" className=\"bg-green-100 text-green-800\">\n                        ÙŠØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ Ø·Ø¨ÙŠØ¹ÙŠ\n                      </Badge>\n                    </div>\n                    \n                    <div className=\"flex items-center justify-between p-3 border rounded-lg\">\n                      <div className=\"flex items-center gap-3\">\n                        <div className=\"w-3 h-3 bg-green-500 rounded-full\"></div>\n                        <span>Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</span>\n                      </div>\n                      <Badge variant=\"default\" className=\"bg-green-100 text-green-800\">\n                        Ù…ØªØµÙ„Ø©\n                      </Badge>\n                    </div>\n                    \n                    <div className=\"flex items-center justify-between p-3 border rounded-lg\">\n                      <div className=\"flex items-center gap-3\">\n                        <div className=\"w-3 h-3 bg-yellow-500 rounded-full\"></div>\n                        <span>Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª</span>\n                      </div>\n                      <Badge variant=\"secondary\">\n                        {stats.pendingOrders || 0} Ù…Ø¹Ù„Ù‚\n                      </Badge>\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n            </div>\n          </TabsContent>\n\n          <TabsContent value=\"orders\">\n            <Card>\n              <CardHeader>\n                <CardTitle>Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-4\">\n                  {recentOrders.map((order: any, index: number) => (\n                    <div key={order.id || index} className=\"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50\">\n                      <div className=\"flex-1\">\n                        <div className=\"flex items-center gap-4\">\n                          <div>\n                            <p className=\"font-medium\">Ø·Ù„Ø¨ #{order.orderNumber || `${1000 + index}`}</p>\n                            <p className=\"text-sm text-gray-600\">{order.customerName || 'Ø¹Ù…ÙŠÙ„'}</p>\n                          </div>\n                          <div>\n                            <p className=\"text-sm text-gray-600\">Ø§Ù„Ù‡Ø§ØªÙ: {order.customerPhone || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}</p>\n                            <p className=\"text-xs text-gray-500\">\n                              {order.createdAt ? new Date(order.createdAt).toLocaleString('ar-YE') : 'Ø§Ù„Ø¢Ù†'}\n                            </p>\n                          </div>\n                        </div>\n                      </div>\n                      <div className=\"flex items-center gap-4\">\n                        <div className=\"text-left\">\n                          <p className=\"font-medium\">{order.total || 0} Ø±ÙŠØ§Ù„</p>\n                          <p className=\"text-xs text-gray-500\">\n                            {order.items ? JSON.parse(order.items).length : 0} Ø¹Ù†ØµØ±\n                          </p>\n                        </div>\n                        <Badge variant={\n                          order.status === 'delivered' ? 'default' :\n                          order.status === 'pending' ? 'secondary' :\n                          order.status === 'cancelled' ? 'destructive' : 'outline'\n                        }>\n                          {order.status === 'pending' ? 'Ù…Ø¹Ù„Ù‚' :\n                           order.status === 'confirmed' ? 'Ù…Ø¤ÙƒØ¯' :\n                           order.status === 'preparing' ? 'Ù‚ÙŠØ¯ Ø§Ù„ØªØ­Ø¶ÙŠØ±' :\n                           order.status === 'ready' ? 'Ø¬Ø§Ù‡Ø²' :\n                           order.status === 'picked_up' ? 'ØªÙ… Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…' :\n                           order.status === 'delivered' ? 'ØªÙ… Ø§Ù„ØªÙˆØµÙŠÙ„' :\n                           order.status === 'cancelled' ? 'Ù…Ù„ØºÙŠ' : order.status}\n                        </Badge>\n                      </div>\n                    </div>\n                  ))}\n                  {recentOrders.length === 0 && (\n                    <div className=\"text-center py-12 text-gray-500\">\n                      <ShoppingBag className=\"h-16 w-16 mx-auto mb-4 opacity-50\" />\n                      <p className=\"text-lg font-medium mb-2\">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª</p>\n                      <p className=\"text-sm\">Ø³ØªØ¸Ù‡Ø± Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ù‡Ù†Ø§ Ø¹Ù†Ø¯ Ø¥Ù†Ø´Ø§Ø¦Ù‡Ø§</p>\n                    </div>\n                  )}\n                </div>\n              </CardContent>\n            </Card>\n          </TabsContent>\n\n          <TabsContent value=\"restaurants\">\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-2\">\n                  <Store className=\"h-5 w-5\" />\n                  Ø§Ù„Ù…Ø·Ø§Ø¹Ù… Ø§Ù„Ù…Ø³Ø¬Ù„Ø©\n                </CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"text-center py-12 text-gray-500\">\n                  <Store className=\"h-16 w-16 mx-auto mb-4 opacity-50\" />\n                  <p className=\"text-lg font-medium mb-2\">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø·Ø§Ø¹Ù…</p>\n                  <p className=\"text-sm mb-4\">ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø·Ø§Ø¹Ù… Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ©</p>\n                  <Button variant=\"outline\">\n                    Ø§Ù†ØªÙ‚Ù„ Ø¥Ù„Ù‰ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø·Ø§Ø¹Ù…\n                  </Button>\n                </div>\n              </CardContent>\n            </Card>\n          </TabsContent>\n\n          <TabsContent value=\"drivers\">\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-2\">\n                  <Truck className=\"h-5 w-5\" />\n                  Ø§Ù„Ø³Ø§Ø¦Ù‚ÙŠÙ† Ø§Ù„Ù…Ø³Ø¬Ù„ÙŠÙ†\n                </CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"text-center py-12 text-gray-500\">\n                  <Truck className=\"h-16 w-16 mx-auto mb-4 opacity-50\" />\n                  <p className=\"text-lg font-medium mb-2\">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø³Ø§Ø¦Ù‚ÙŠÙ†</p>\n                  <p className=\"text-sm mb-4\">ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø³Ø§Ø¦Ù‚ÙŠÙ† Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ©</p>\n                  <Button variant=\"outline\">\n                    Ø§Ù†ØªÙ‚Ù„ Ø¥Ù„Ù‰ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø³Ø§Ø¦Ù‚ÙŠÙ†\n                  </Button>\n                </div>\n              </CardContent>\n            </Card>\n          </TabsContent>\n        </Tabs>\n      </main>\n    </div>\n  );\n}","size_bytes":17209},"client/src/pages/admin/AdminLoginPage.tsx":{"content":"import React, { useState, useEffect } from 'react';\nimport { useAuth } from '@/context/AuthContext';\nimport { useLocation } from 'wouter';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Alert, AlertDescription } from '@/components/ui/alert';\nimport { Loader2, Shield, Mail, Lock, Eye, EyeOff } from 'lucide-react';\n\nexport default function AdminLoginPage() {\n  const [, setLocation] = useLocation();\n  const { login, user, isLoading } = useAuth();\n  const [formData, setFormData] = useState({\n    email: '',\n    password: ''\n  });\n  const [error, setError] = useState('');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [showPassword, setShowPassword] = useState(false);\n\n  // Ø¥Ø¹Ø§Ø¯Ø© ØªÙˆØ¬ÙŠÙ‡ Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø³Ø¬Ù„ Ø¯Ø®ÙˆÙ„ Ø¨Ø§Ù„ÙØ¹Ù„\n  useEffect(() => {\n    if (user && user.userType === 'admin') {\n      setLocation('/admin');\n    }\n  }, [user, setLocation]);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError('');\n    setIsSubmitting(true);\n\n    if (!formData.email.trim() || !formData.password.trim()) {\n      setError('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø£Ùˆ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ÙˆÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±');\n      setIsSubmitting(false);\n      return;\n    }\n\n    try {\n      const result = await login(formData.email, formData.password, 'admin');\n      \n      if (result.success) {\n        setLocation('/admin');\n      } else {\n        setError(result.message || 'ÙØ´Ù„ ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„');\n      }\n    } catch (error) {\n      setError('Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    if (error) setError(''); // Ù…Ø³Ø­ Ø§Ù„Ø®Ø·Ø£ Ø¹Ù†Ø¯ Ø§Ù„ÙƒØªØ§Ø¨Ø©\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-blue-50\">\n        <Loader2 className=\"h-8 w-8 animate-spin text-primary\" />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-blue-50 p-4\">\n      <div className=\"w-full max-w-md\">\n        {/* Header */}\n        <div className=\"text-center mb-8\">\n          <div className=\"w-20 h-20 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg\">\n            <Shield className=\"h-10 w-10 text-white\" />\n          </div>\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</h1>\n          <p className=\"text-gray-600\">ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ø¯ÙŠØ±</p>\n        </div>\n\n        {/* Login Form */}\n        <Card className=\"shadow-xl border-0 bg-white/80 backdrop-blur-sm\">\n          <CardHeader className=\"space-y-1 pb-6\">\n            <CardTitle className=\"text-2xl text-center text-gray-800\">\n              Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ\n            </CardTitle>\n            <p className=\"text-center text-gray-600 text-sm\">\n              Ø£Ø¯Ø®Ù„ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ù„Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…\n            </p>\n          </CardHeader>\n          \n          <CardContent>\n            <form onSubmit={handleSubmit} className=\"space-y-6\">\n              {error && (\n                <Alert className=\"border-red-200 bg-red-50\">\n                  <AlertDescription className=\"text-red-800\">\n                    {error}\n                  </AlertDescription>\n                </Alert>\n              )}\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"email\" className=\"text-gray-700 font-medium\">\n                  Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø£Ùˆ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ\n                </Label>\n                <div className=\"relative\">\n                  <Mail className=\"absolute right-3 top-3 h-5 w-5 text-gray-400\" />\n                  <Input\n                    id=\"email\"\n                    name=\"email\"\n                    type=\"text\"\n                    value={formData.email}\n                    onChange={handleInputChange}\n                    placeholder=\"Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø£Ùˆ admin@example.com\"\n                    className=\"pr-10 h-12 border-gray-200 focus:border-blue-500 focus:ring-blue-500\"\n                    required\n                    disabled={isSubmitting}\n                  />\n                </div>\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"password\" className=\"text-gray-700 font-medium\">\n                  ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±\n                </Label>\n                <div className=\"relative\">\n                  <Lock className=\"absolute right-3 top-3 h-5 w-5 text-gray-400\" />\n                  <Input\n                    id=\"password\"\n                    name=\"password\"\n                    type={showPassword ? \"text\" : \"password\"}\n                    value={formData.password}\n                    onChange={handleInputChange}\n                    placeholder=\"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢\"\n                    className=\"pr-10 pl-10 h-12 border-gray-200 focus:border-blue-500 focus:ring-blue-500\"\n                    required\n                    disabled={isSubmitting}\n                  />\n                  <button\n                    type=\"button\"\n                    onClick={() => setShowPassword(!showPassword)}\n                    className=\"absolute left-3 top-3 text-gray-400 hover:text-gray-600\"\n                    disabled={isSubmitting}\n                  >\n                    {showPassword ? <EyeOff className=\"h-5 w-5\" /> : <Eye className=\"h-5 w-5\" />}\n                  </button>\n                </div>\n              </div>\n\n              <Button\n                type=\"submit\"\n                className=\"w-full h-12 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-medium rounded-lg shadow-lg hover:shadow-xl transition-all duration-200\"\n                disabled={isSubmitting}\n              >\n                {isSubmitting ? (\n                  <>\n                    <Loader2 className=\"mr-2 h-5 w-5 animate-spin\" />\n                    Ø¬Ø§Ø±ÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„...\n                  </>\n                ) : (\n                  'ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„'\n                )}\n              </Button>\n            </form>\n\n            {/* Demo Credentials */}\n            <div className=\"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200\">\n              <p className=\"text-sm text-blue-800 font-medium mb-2\">Ø¨ÙŠØ§Ù†Ø§Øª ØªØ¬Ø±ÙŠØ¨ÙŠØ©:</p>\n              <div className=\"text-xs text-blue-700 space-y-1\">\n                <p>Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ: aymenpro124@gmail.com</p>\n                <p>ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±: 777146387</p>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Footer */}\n        <div className=\"text-center mt-8\">\n          <p className=\"text-gray-500 text-sm\">\n            Â© 2024 Ø§Ù„Ø³Ø±ÙŠØ¹ ÙˆÙ† - Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}","size_bytes":7384},"client/src/pages/driver/DriverLoginPage.tsx":{"content":"import React, { useState, useEffect } from 'react';\nimport { useAuth } from '@/context/AuthContext';\nimport { useLocation } from 'wouter';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Alert, AlertDescription } from '@/components/ui/alert';\nimport { Loader2, Truck, Phone, Lock, Eye, EyeOff } from 'lucide-react';\n\nexport default function DriverLoginPage() {\n  const [, setLocation] = useLocation();\n  const { login, user, isLoading } = useAuth();\n  const [formData, setFormData] = useState({\n    phone: '',\n    password: ''\n  });\n  const [error, setError] = useState('');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [showPassword, setShowPassword] = useState(false);\n\n  // Ø¥Ø¹Ø§Ø¯Ø© ØªÙˆØ¬ÙŠÙ‡ Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø³Ø¬Ù„ Ø¯Ø®ÙˆÙ„ Ø¨Ø§Ù„ÙØ¹Ù„\n  useEffect(() => {\n    if (user && user.userType === 'driver') {\n      setLocation('/delivery');\n    }\n  }, [user, setLocation]);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError('');\n    setIsSubmitting(true);\n\n    if (!formData.phone.trim() || !formData.password.trim()) {\n      setError('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ ÙˆÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±');\n      setIsSubmitting(false);\n      return;\n    }\n\n    try {\n      const result = await login(formData.phone, formData.password, 'driver');\n      \n      if (result.success) {\n        setLocation('/delivery');\n      } else {\n        setError(result.message || 'ÙØ´Ù„ ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„');\n      }\n    } catch (error) {\n      setError('Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    if (error) setError(''); // Ù…Ø³Ø­ Ø§Ù„Ø®Ø·Ø£ Ø¹Ù†Ø¯ Ø§Ù„ÙƒØªØ§Ø¨Ø©\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 via-white to-green-50\">\n        <Loader2 className=\"h-8 w-8 animate-spin text-primary\" />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 via-white to-green-50 p-4\">\n      <div className=\"w-full max-w-md\">\n        {/* Header */}\n        <div className=\"text-center mb-8\">\n          <div className=\"w-20 h-20 bg-gradient-to-br from-green-500 to-green-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg\">\n            <Truck className=\"h-10 w-10 text-white\" />\n          </div>\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø³Ø§Ø¦Ù‚</h1>\n          <p className=\"text-gray-600\">ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø³Ø§Ø¦Ù‚</p>\n        </div>\n\n        {/* Login Form */}\n        <Card className=\"shadow-xl border-0 bg-white/80 backdrop-blur-sm\">\n          <CardHeader className=\"space-y-1 pb-6\">\n            <CardTitle className=\"text-2xl text-center text-gray-800\">\n              Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ\n            </CardTitle>\n            <p className=\"text-center text-gray-600 text-sm\">\n              Ø£Ø¯Ø®Ù„ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ù„Ø¨Ø¯Ø¡ Ø§Ù„Ø¹Ù…Ù„\n            </p>\n          </CardHeader>\n          \n          <CardContent>\n            <form onSubmit={handleSubmit} className=\"space-y-6\">\n              {error && (\n                <Alert className=\"border-red-200 bg-red-50\">\n                  <AlertDescription className=\"text-red-800\">\n                    {error}\n                  </AlertDescription>\n                </Alert>\n              )}\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"phone\" className=\"text-gray-700 font-medium\">\n                  Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ\n                </Label>\n                <div className=\"relative\">\n                  <Phone className=\"absolute right-3 top-3 h-5 w-5 text-gray-400\" />\n                  <Input\n                    id=\"phone\"\n                    name=\"phone\"\n                    type=\"tel\"\n                    value={formData.phone}\n                    onChange={handleInputChange}\n                    placeholder=\"+967771234567\"\n                    className=\"pr-10 h-12 border-gray-200 focus:border-green-500 focus:ring-green-500\"\n                    required\n                    disabled={isSubmitting}\n                  />\n                </div>\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"password\" className=\"text-gray-700 font-medium\">\n                  ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±\n                </Label>\n                <div className=\"relative\">\n                  <Lock className=\"absolute right-3 top-3 h-5 w-5 text-gray-400\" />\n                  <Input\n                    id=\"password\"\n                    name=\"password\"\n                    type={showPassword ? \"text\" : \"password\"}\n                    value={formData.password}\n                    onChange={handleInputChange}\n                    placeholder=\"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢\"\n                    className=\"pr-10 pl-10 h-12 border-gray-200 focus:border-green-500 focus:ring-green-500\"\n                    required\n                    disabled={isSubmitting}\n                  />\n                  <button\n                    type=\"button\"\n                    onClick={() => setShowPassword(!showPassword)}\n                    className=\"absolute left-3 top-3 text-gray-400 hover:text-gray-600\"\n                    disabled={isSubmitting}\n                  >\n                    {showPassword ? <EyeOff className=\"h-5 w-5\" /> : <Eye className=\"h-5 w-5\" />}\n                  </button>\n                </div>\n              </div>\n\n              <Button\n                type=\"submit\"\n                className=\"w-full h-12 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white font-medium rounded-lg shadow-lg hover:shadow-xl transition-all duration-200\"\n                disabled={isSubmitting}\n              >\n                {isSubmitting ? (\n                  <>\n                    <Loader2 className=\"mr-2 h-5 w-5 animate-spin\" />\n                    Ø¬Ø§Ø±ÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„...\n                  </>\n                ) : (\n                  'ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„'\n                )}\n              </Button>\n            </form>\n\n            {/* Demo Credentials */}\n            <div className=\"mt-6 p-4 bg-green-50 rounded-lg border border-green-200\">\n              <p className=\"text-sm text-green-800 font-medium mb-2\">Ø¨ÙŠØ§Ù†Ø§Øª ØªØ¬Ø±ÙŠØ¨ÙŠØ©:</p>\n              <div className=\"text-xs text-green-700 space-y-1\">\n                <p>Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ: +967771234567</p>\n                <p>ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±: password123</p>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Footer */}\n        <div className=\"text-center mt-8\">\n          <p className=\"text-gray-500 text-sm\">\n            Â© 2024 Ø§Ù„Ø³Ø±ÙŠØ¹ ÙˆÙ† - Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}","size_bytes":7251}},"version":1}